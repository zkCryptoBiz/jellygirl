/*! For license information please see 474e918965ecf196.vendor.js.LICENSE.txt */
(self.webpackChunk_canva_web=self.webpackChunk_canva_web||[]).push([[5436],{632648:(t,e)=>{"use strict";Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});class n extends Error{}class r extends n{}class i extends n{}class o extends n{}class a extends n{}class s extends n{}class u extends n{}class c extends n{constructor(t){super(`unhandled case: ${JSON.stringify(t)}`)}}let l=0;function f(){return l++}function h(t){return null!=t}function d(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Float32Array}function p(t){switch(t){case"i8":return 5120;case"u8":return 5121;case"i16":return 5122;case"u16":return 5123;case"i32":return 5124;case"u32":return 5125;case"f32":return 5126;default:throw new c(t)}}const g={FLOAT:{type:"float",name:"float",length:1},VEC2:{type:"float",name:"vec2",length:2},VEC3:{type:"float",name:"vec3",length:3},VEC4:{type:"float",name:"vec4",length:4}},m={MAT2:{type:"matrix",name:"mat2",length:4},MAT3:{type:"matrix",name:"mat3",length:9},MAT4:{type:"matrix",name:"mat4",length:16}},y={INT:{type:"int",name:"int",length:1},IVEC2:{type:"int",name:"ivec2",length:2},IVEC3:{type:"int",name:"ivec3",length:3},IVEC4:{type:"int",name:"ivec4",length:4},SAMPLER2D:{type:"int",name:"sampler2D",length:1}},v=new Map([[5126,g.FLOAT],[35664,g.VEC2],[35665,g.VEC3],[35666,g.VEC4],[35674,m.MAT2],[35675,m.MAT3],[35676,m.MAT4],[5124,y.INT],[35667,y.IVEC2],[35668,y.IVEC3],[35669,y.IVEC4],[35678,y.SAMPLER2D]]);class b{constructor(t){var e;this.id=f(),this.source=t,t instanceof ArrayBuffer?this.dataType="f32":(e=t,"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer?this.dataType="f32":this.dataType=function(t){if(t instanceof Float32Array)return"f32";if(t instanceof Uint8Array)return"u8";if(t instanceof Int32Array)return"i32";if(t instanceof Uint32Array)return"u32";if(t instanceof Uint8ClampedArray)return"u8";if(t instanceof Int8Array)return"i8";if(t instanceof Int16Array)return"i16";if(t instanceof Uint16Array)return"u16";throw new c(t)}(t)),this.length=t.byteLength/function(t){switch(t){case"i8":case"u8":return 1;case"i16":case"u16":return 2;case"i32":case"u32":case"f32":return 4;default:throw new c(t)}}(this.dataType)}}class w extends b{constructor(){super(...arguments),this.resourceType="buffer"}}class E extends b{constructor(){super(...arguments),this.resourceType="elements"}}const T={points:0,lines:1,"line loop":2,"line strip":3,triangles:4,"triangle strip":5,"triangle fan":6},x={zero:0,one:1,"src color":768,"one minus src color":769,"dst color":774,"one minus dst color":775,"src alpha":770,"one minus src alpha":771,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},A={front:1028,back:1029,"front and back":1032},S={cw:2304,ccw:2305},_={add:32774,subtract:32778,"reverse subtract":32779},O={source:"one",destination:"zero",equation:"add"};const R={never:512,less:513,equal:514,lequal:515,greater:516,notequal:517,gequal:518,always:519};class C{constructor({primitive:t="triangles",shader:e,attributes:n,indices:r,count:i=0,instances:o,uniforms:a={},textures:s={},blend:u,depthTest:c,cullFace:l,frontFace:f,renderTarget:h}){var p;this.primitive=T[t],this.shader=e,this.attributes=function(t){const e=Object.create(null);for(const[n,r]of Object.entries(t)){let t;t="buffer"in r&&!d(r)?{...r,buffer:k(r.buffer)}:{buffer:k(r)},e[n]=t}return e}(n),this.indices=r?(p=r,Array.isArray(p)&&(p=new Uint16Array(p)),d(p)&&(p=new E(p)),p):void 0,this.count=i,this.instances=o,this.uniforms=a,this.textures=s,this._cullFace=l?A[l]:void 0,this._frontFace=f?S[f]:2305,this.blend=u?function(t){var e,n;const r={...O,...null!=(e=t.rgb)?e:t},i={...O,...null!=(n=t.alpha)?n:t};return{rgb:{source:x[r.source],destination:x[r.destination],equation:_[r.equation]},alpha:{source:x[i.source],destination:x[i.destination],equation:_[i.equation]}}}(u):void 0,this.depthTest=c?function(t){var e,n;return{mask:null==(e=t.mask)||e,func:R[null!=(n=t.func)?n:"less"],range:{near:0,far:1,...t.range}}}(c):void 0,this.renderTarget=h}get cullFace(){return this._cullFace}set cullFace(t){this._cullFace=void 0!==t?A[t]:void 0}get frontFace(){return this._frontFace}set frontFace(t){t in S&&(this._frontFace=S[t])}get resources(){return[this.shader,...Object.values(this.attributes).map((t=>t.buffer)),...Object.values(this.textures),this.indices,this.renderTarget].filter(h)}}function k(t){return Array.isArray(t)&&(t=new Float32Array(t)),d(t)&&(t=new w(t)),t}class N{constructor(t){this.id=f(),this.resourceType="shader",this.vertexSource=t.vertexSource,this.fragmentSource=t.fragmentSource}}const I="preserve",P="fixed";class L{constructor(t){this.id=f(),this.resourceType="texture",this.textureType="render",this.source=null,this.name=t.name,this.alpha=t.alpha||I,this.size=t.size||P,this.width=t.width||("fixed"===this.size?0:1),this.height=t.height||("fixed"===this.size?0:1),this.colorFormat=t.colorFormat,this.numberFormat=t.numberFormat}}function M(t,e){return{width:"fixed"===t.size?t.width||e.width:(t.width||1)*e.width,height:"fixed"===t.size?t.height||e.height:(t.height||1)*e.height}}function j(t,e){if("u32"===e.dataType&&!t.getExtension("OES_element_index_uint"))throw new a("UNSIGNED_INT indices are not supported on this device.");const n=t.createBuffer(),r="buffer"===e.resourceType?t.ARRAY_BUFFER:t.ELEMENT_ARRAY_BUFFER;return t.bindBuffer(r,n),t.bufferData(r,e.source,t.STATIC_DRAW),t.bindBuffer(r,null),n}class D{constructor(t,e,n){this.name=t.name,this.length=t.size,this.location=e;const r=v.get(t.type);if(!r)throw new s(`Type of uniform '${t.name}' is not supported.`);this.meta=r,this._data=this.parseData(n)}parseData(t){if(!t)return new Array(this.meta.length).fill(0);const e=this.meta.length*this.length;if(t.flat().length!==e)throw new s(`Could not set uniform '${this.meta.type} ${this.name}'. Expected data with a length of ${e} but your data has a length of ${t.length}.`);return t}equals(t){const e=this._data,n=t;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}get data(){return this._data}set data(t){this._data=this.parseData(t)}}function B(t,e){const{meta:n,name:r,location:i,data:o}=e,a=o.flat();if("int"===n.type)switch(n.length){case 1:t.uniform1iv(i,a);break;case 2:t.uniform2iv(i,a);break;case 3:t.uniform3iv(i,a);break;case 4:t.uniform4iv(i,a);break;default:throw new s(`Could not set the value for uniform '${r}'. Make sure its length is between 1 and 4 (inclusive).`)}else if("float"===n.type)switch(n.length){case 1:t.uniform1fv(i,a);break;case 2:t.uniform2fv(i,a);break;case 3:t.uniform3fv(i,a);break;case 4:t.uniform4fv(i,a);break;default:throw new s(`Could not set the value for uniform '${r}'. Make sure its length is between 1 and 4 (inclusive).`)}else switch(n.length){case 4:t.uniformMatrix2fv(i,!1,a);break;case 9:t.uniformMatrix3fv(i,!1,a);break;case 16:t.uniformMatrix4fv(i,!1,a);break;default:throw new s(`Could not set the value for uniform '${r}'. Make sure its length is between 2 and 4 (inclusive).`)}}function U(t,e,n){(function(t){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);return!!e&&e.precision>10})(t)&&(n=function(t){return t.replace("precision mediump float;","precision highp float;")}(n));const o=t.createShader(e);if(!o)throw new i("Could not create shader");if(t.shaderSource(o,n),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS))return o;{const n=t.getShaderInfoLog(o);t.deleteShader(o);const i=e===t.VERTEX_SHADER?"vertex":"fragment";throw new r(`Could not compile ${i} shader. Details: ${n}`)}}function F(t,e){const n=function(t,e,n){const o=t.createProgram();if(!o)throw new i("Could not create program");const a=U(t,t.VERTEX_SHADER,e),s=U(t,t.FRAGMENT_SHADER,n);if(t.attachShader(o,a),t.attachShader(o,s),t.linkProgram(o),t.deleteShader(a),t.deleteShader(s),t.getProgramParameter(o,t.LINK_STATUS))return o;throw new r(`Could not link program. Details: ${t.getProgramInfoLog(o)}`)}(t,e.vertexSource,e.fragmentSource);t.useProgram(n);const o=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),a=new Map;for(let r=0;r<o;r++){const e=t.getActiveAttrib(n,r),i=e?t.getAttribLocation(n,e.name):-1;if(!e||-1===i)throw new u(`Could not cache attribute. Could not find attribute or location at index ${r}. This is likely a bug with the renderer.`);const o=v.get(e.type);if(!o)throw new s(`Type of attribute '${e.name}' is not supported.`);t.enableVertexAttribArray(i),a.set(e.name,{location:i,meta:o})}const c=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),l=new Map,f=new Map;let h=0;for(let r=0;r<c;r++){const e=t.getActiveUniform(n,r),i=e?t.getUniformLocation(n,e.name):null;if(!e||!i)throw new u(`Could not cache uniform. Could not find uniform or location at index ${r}. This is likely a bug with the renderer.`);const o=e.name.endsWith("[0]")?e.name.slice(0,-3):e.name;if(e.type===t.SAMPLER_2D||e.type===t.SAMPLER_CUBE){const n=new D(e,i,[h]);l.set(o,n),B(t,n),h++}else{const n=new D(e,i);f.set(o,n),B(t,n)}}return t.useProgram(null),{program:n,attributes:a,textures:l,uniforms:f}}function H(t,e){return M(e,{width:t.drawingBufferWidth,height:t.drawingBufferHeight})}function V(t,e,n){var r;if("undefined"!=typeof WebGLRenderingContext&&t instanceof WebGLRenderingContext&&"f32"===e.numberFormat&&!t.getExtension("OES_texture_float"))throw new a("No support for floating point textures");const o=t.TEXTURE_2D,s=null!=(r=null==n?void 0:n.texture)?r:t.createTexture();if(!s)throw new i(`Could not create WebGLTexture for texture with ID: '${e.id}'.`);t.bindTexture(o,s),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,"premultiply"===e.alpha);const u="rgb"===e.colorFormat?t.RGB:t.RGBA,c="f32"===e.numberFormat?t.FLOAT:t.UNSIGNED_BYTE,l=function(t,e){if("image"===e.textureType){const t=e.source;if(t instanceof ImageBitmap)return t;if(t instanceof HTMLImageElement)return`${t.src}:${t.currentSrc}:${G(e)}`;if(t instanceof HTMLVideoElement)return`${t.src}:${t.currentSrc}:${t.currentTime}:${G(e)}`}else if("render"===e.textureType){const{width:n,height:r}=H(t,e);return`${n}:${r}`}}(t,e),f=G(e),h=!n||!l||l!==n.hash;if(f&&h)if("image"!==e.textureType){const n=e.source,r=function(t,e,n){return"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext?"rgb"===e?"f32"===n?t.RGB32F:t.RGB:"f32"===n?t.RGBA32F:t.RGBA:"rgb"===e?t.RGB:t.RGBA}(t,e.colorFormat,e.numberFormat),{width:i,height:a}=H(t,e);t.texImage2D(o,0,r,i,a,0,u,c,n)}else{const n=e.source;(function(t){return"tagName"in t&&"IMG"===t.tagName})(n)&&function(t){const e=document.createElement("a");return e.href=t,!("data:"===e.protocol||"blob:"===e.protocol)}(n.src)&&!n.crossOrigin&&console.warn(`Fragl warning: ${n.src} image may come from a different origin but you did not set the crossOrigin attribute.`),t.texImage2D(o,0,u,u,c,n)}const d="f32"===e.numberFormat?t.NEAREST:t.LINEAR;return t.texParameteri(o,t.TEXTURE_MIN_FILTER,d),t.texParameteri(o,t.TEXTURE_MAG_FILTER,d),t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(o,null),{texture:s,hash:l}}function G(t){if("image"===t.textureType){const e=t.source;if(e instanceof HTMLImageElement)return e.complete;if(e instanceof HTMLVideoElement)return e.readyState>=2}return!0}class q{constructor(t){this.gl=t,this.maxAttribs=Number(t.getParameter(t.MAX_VERTEX_ATTRIBS)),this.shouldEnable=Array.from({length:this.maxAttribs}).fill(!1),this.hasEnabled=Array.from({length:this.maxAttribs}).fill(!1)}setEnabled(t,e){if(t<0)throw new Error(`Attribute index ${t} is out of bounds`);if(t>=this.maxAttribs)throw new Error(`Attribute index ${t} exceeds the maximum number of attributes supported by this device: ${this.maxAttribs}`);this.shouldEnable[t]=e}update(){for(let t=0;t<this.maxAttribs;t++)this.shouldEnable[t]!==this.hasEnabled[t]&&(this.hasEnabled[t]=this.shouldEnable[t],this.shouldEnable[t]?this.gl.enableVertexAttribArray(t):this.gl.disableVertexAttribArray(t))}reset(){for(let t=0;t<this.maxAttribs;t++)this.shouldEnable[t]=!1}}class z{constructor(t,e){this.gl=t,this.bufferCache=new Map,this.shaderCache=new Map,this.textureCache=new Map,this.handleContextLost=()=>{this.onContextLost&&this.onContextLost(new o("Error: WebGL context lost"))},this.env=(null==e?void 0:e.env)||window||{devicePixelRatio:1};const n=t.canvas;if(!n)throw new o("Unexpected canvas type: "+typeof n);this.onDispose=null==e?void 0:e.onDispose,this.canvas=n;const[r,i]=this.canvasSize;this.canvas.width=((null==e?void 0:e.width)||r)*this.env.devicePixelRatio,this.canvas.height=((null==e?void 0:e.height)||i)*this.env.devicePixelRatio,this.canvas.addEventListener("webglcontextlost",this.handleContextLost,{once:!0}),this.fbo=t.createFramebuffer(),this.vertexAttribArrayState=new q(t)}flush(){this.gl.flush()}resize(...t){let e,n;"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?[e=this.canvas.clientWidth,n=this.canvas.clientHeight]=t:[e,n]=t,this.canvas.width=e*this.env.devicePixelRatio,this.canvas.height=n*this.env.devicePixelRatio}load(t){const e=this.gl,n=Array.isArray(t)?t:t.resources;for(const r of n)switch(r.resourceType){case"buffer":case"elements":this.bufferCache.has(r.id)||this.bufferCache.set(r.id,j(e,r));break;case"shader":this.shaderCache.has(r.id)||this.shaderCache.set(r.id,F(e,r));break;case"texture":this.textureCache.has(r.id)||this.textureCache.set(r.id,V(e,r));break;default:throw new c(r)}}update(t){const e=this.gl,n=Array.isArray(t)?t:t.resources;for(const r of n)if("texture"===r.resourceType){const t=this.textureCache.get(r.id);if(!t)throw new o(`Could not update texture with ID: '${r.id}'. Did you remember to use load()?`);this.textureCache.set(r.id,V(e,r,t))}}clear(t,e){var n;const r=this.gl;if(e){const t=null==(n=this.textureCache.get(e.id))?void 0:n.texture;if(!t)throw new o(`Could not find render target with ID: ${e.id}. Did you remember to use load()?`);r.bindFramebuffer(r.FRAMEBUFFER,this.fbo),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null);const i=Array.isArray(t),a=i?t:t.color,s=i?1:t.depth,u=i?255:t.stencil,c=void 0!==a,l=void 0!==s,f=void 0!==u;c&&r.clearColor(...a),l&&r.clearDepth(s),f&&r.clearStencil(u);const h=(c?r.COLOR_BUFFER_BIT:0)|(l?r.DEPTH_BUFFER_BIT:0)|(f?r.STENCIL_BUFFER_BIT:0);r.clear(h)}render(t){var e,n,r,i,u,c,l;const f=this.gl,h=Array.isArray(t)?t:t.renderables;for(const d of h){const t=this.shaderCache.get(d.shader.id);if(!t)throw new o(`Could not find shader with ID: ${d.shader.id}. Did you remember to use load()?`);if(d.blend){const{rgb:t,alpha:e}=d.blend;f.enable(f.BLEND),f.blendFuncSeparate(t.source,t.destination,e.source,e.destination),f.blendEquationSeparate(t.equation,e.equation)}else f.disable(f.BLEND);if(d.depthTest){const{depthTest:t}=d;f.enable(f.DEPTH_TEST),f.depthMask(t.mask),f.depthFunc(t.func),f.depthRange(t.range.near,t.range.far)}else f.disable(f.DEPTH_TEST);if(d.cullFace?(f.enable(f.CULL_FACE),f.frontFace(d.frontFace),f.cullFace(d.cullFace)):f.disable(f.CULL_FACE),f.useProgram(t.program),d.indices){const t=this.getBuffer(d.indices);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,t)}else f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null);const h=d.instances?f.getExtension("ANGLE_instanced_arrays"):null;if(d.instances&&!h)throw new a("Instancing is required but not supported on this device");this.vertexAttribArrayState.reset();for(const[a,{location:s,meta:u}]of t.attributes.entries()){this.vertexAttribArrayState.setEnabled(s,!0);const t=d.attributes[a];if(!t)throw new o(`Could not locate shader attribute ${a} within Renderable's attributes.`);const c=p(null!=(e=t.type)?e:t.buffer.dataType),l=this.getBuffer(t.buffer);f.bindBuffer(f.ARRAY_BUFFER,l),f.vertexAttribPointer(s,u.length,c,null!=(n=t.normalized)&&n,null!=(r=t.stride)?r:0,null!=(i=t.offset)?i:0),d.instances&&t.divisor&&h.vertexAttribDivisorANGLE(s,t.divisor)}this.vertexAttribArrayState.update();const g={...d.uniforms,...this.commonUniforms};for(const[e,n]of t.uniforms.entries()){const t=g[e];if(!t)throw new s(`Could not find a value for uniform '${e}'. Make sure you provide a value.`);n.equals(t)||(n.data=t,B(f,n))}for(const[e,n]of t.textures.entries()){f.activeTexture(f.TEXTURE0+n.data.flat()[0]),f.bindTexture(f.TEXTURE_2D,null);const t=d.textures[e];if(!t)throw new s(`Could not find a texture associated with uniform '${e}'. Make sure you provide a value.`);const r=null==(u=this.textureCache.get(t.id))?void 0:u.texture;if(!r)throw new o(`Could not find texture with ID: ${t.id}. Did you remember to use load()?`);f.bindTexture(f.TEXTURE_2D,r)}if(d.renderTarget){const t=null==(c=this.textureCache.get(d.renderTarget.id))?void 0:c.texture;if(!t)throw new o(`Could not find render target with ID: ${d.renderTarget.id}. Did you remember to use load()?`);const{width:e,height:n}=H(f,d.renderTarget);f.bindFramebuffer(f.FRAMEBUFFER,this.fbo),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,t,0),f.viewport(0,0,e,n)}else f.bindFramebuffer(f.FRAMEBUFFER,null),f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight);d.instances?d.indices?h.drawElementsInstancedANGLE(d.primitive,d.indices.length,p(d.indices.dataType),0,d.instances):h.drawArraysInstancedANGLE(d.primitive,0,d.count,d.instances):d.indices?f.drawElements(d.primitive,d.indices.length,p(d.indices.dataType),0):f.drawArrays(d.primitive,0,null!=(l=d.count)?l:0)}}release(t){const e=Array.isArray(t)?t:t.resources;for(const n of e)this.deleteResource(n.id,n.resourceType)}readPixels(t){var e;const n=this.gl;let r;if(t){const i=null==(e=this.textureCache.get(t.id))?void 0:e.texture;if(!i)throw new o(`Could not find render target with ID: ${t.id}. Did you remember to use load()?`);r=H(n,t),n.bindFramebuffer(n.FRAMEBUFFER,this.fbo),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0)}else n.bindFramebuffer(n.FRAMEBUFFER,null),r={width:n.drawingBufferWidth,height:n.drawingBufferHeight};const i=new Uint8Array(r.width*r.height*4);return n.readPixels(0,0,r.width,r.height,n.RGBA,n.UNSIGNED_BYTE,i),new ImageData(new Uint8ClampedArray(i.buffer),r.width,r.height)}dispose(){var t;const e=this.gl;for(const r of this.bufferCache.keys())this.deleteResource(r,"buffer");for(const r of this.shaderCache.keys())this.deleteResource(r,"shader");for(const r of this.textureCache.keys())this.deleteResource(r,"texture");this.bufferCache.clear(),this.shaderCache.clear(),this.textureCache.clear(),e.deleteFramebuffer(this.fbo),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(let r=0;r<n;r++)e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null);this.canvas.width=this.canvas.height=0,this.canvas.removeEventListener("webglcontextlost",this.handleContextLost),null==(t=this.onDispose)||t.call(this)}deleteResource(t,e){var n;const r=this.gl;switch(e){case"buffer":case"elements":const i=this.bufferCache.get(t)||null;r.deleteBuffer(i),this.bufferCache.delete(t);break;case"shader":const o=this.shaderCache.get(t);r.deleteProgram((null==o?void 0:o.program)||null),this.shaderCache.delete(t);break;case"texture":const a=null==(n=this.textureCache.get(t))?void 0:n.texture;r.deleteTexture(a||null),this.textureCache.delete(t);break;default:throw new c(e)}}getBuffer(t){const e=this.bufferCache.get(t.id);if(!e)throw new o(`Could not find buffer with ID: ${t.id}. Did you remember to use load()?`);return e}get commonUniforms(){return{uResolution:[this.gl.drawingBufferWidth,this.gl.drawingBufferHeight],uViewSize:this.canvasSize,uDevicePixelRatio:[this.env.devicePixelRatio]}}get canvasSize(){return"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?[this.canvas.clientWidth,this.canvas.clientHeight]:[this.canvas.width,this.canvas.height]}}const K="uPrevResult",W={attributes:{aPosition:new w(new Float32Array([-1,-1,3,-1,-1,3]))},count:3},X={attributes:{aPosition:new w(new Float32Array([-1,-1,1,1,-1,1,1,1,-1,-1,1,-1]))},count:6};function Y(t){return t.replace(/void\s+main\(\s*\)\s*{([\s\S]*?)}\s*$/,((t,e)=>`void main() {${e}gl_FragColor.rgb *= gl_FragColor.a;\n}`))}function Z(t){return function(t){return Array.isArray(t)}(t)?t:[t]}function $(t,e,n,r){return new L({name:t,width:e,height:n,size:r||"relative",colorFormat:"rgba",numberFormat:"u8"})}class J{constructor(t){this.index=0,this.buffers=null!=t?t:[new L({colorFormat:"rgba",numberFormat:"u8"}),new L({colorFormat:"rgba",numberFormat:"u8"})]}currentBuffer(){return this.buffers[this.index]}nextBuffer(){return this.index=(this.index+1)%this.buffers.length,this.buffers[this.index]}}const Q=class t{static createPingpongBuffers({width:t,height:e,size:n}={}){return new J([$("A",t,e,n),$("B",t,e,n)])}constructor({passes:e,uniforms:n,textures:r,options:{buffers:i,renderTarget:o,enableOneTriangleOptimisation:a}={}}){this.enableOneTriangleOptimisation=null!=a?a:t.enableOneTriangleOptimisation,i=null!=i?i:t.createPingpongBuffers(o);const{passes:s,uniforms:u}=this.convertShorthands(e,n);this.uniforms=u;const c=s[s.length-1];this.finalPassShaderForCanvas=this.getShader(c,!0),this.finalPassShaderForRenderTexture=this.getShader(c,!1);const l=this.getRenderTextures(s,o);this.renderables=this.getRenderables(s,l,i,r,o)}convertShorthands(t,e){return{passes:t.map((t=>"string"==typeof t?{fragment:t}:t)),uniforms:Object.fromEntries(Object.entries(null!=e?e:{}).map((([t,e])=>[t,Z(e)])))}}getRenderTextures(t,e){const n=new Set;for(const i of t){if(i.inputs)for(const t of i.inputs)t!==K?n.add(t):console.warn(`Your render pass should not define ${K}. This will be automatically added.`);i.output&&n.add(i.output)}const r=new Map;for(const i of n)r.set(i,$(i,null==e?void 0:e.width,null==e?void 0:e.height,null==e?void 0:e.size));return r}getRenderables(t,e,n,r,i){const o=t.slice(0,-1).map((t=>{const i=this.getShader(t,!1),o=n.currentBuffer(),a=t.output?this.getRenderTexture(t.output,e):n.nextBuffer();return this.getRenderable(t,i,o,a,e,r)})),a=i?this.finalPassShaderForRenderTexture:this.finalPassShaderForCanvas;return[...o,this.getRenderable(t[t.length-1],a,n.currentBuffer(),i,e,r)]}getRenderable(t,e,n,r,i,o){const a=this.uniforms,s=this.getTextures(t,{...o,[K]:n},i),u=this.enableOneTriangleOptimisation?W:X;return new C({...u,shader:e,uniforms:a,textures:s,renderTarget:r})}getShader(t,e){const n=`\nattribute vec2 aPosition;\nvarying vec2 vTexCoord;\n\nvoid main()\n{\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTexCoord = aPosition * 0.5 + 0.5;\n    ${e?"vTexCoord.y = 1.0 - vTexCoord.y;":""}\n}\n  `,r=this.getFragmentSource(t.fragment,e);return new N({vertexSource:n,fragmentSource:r})}getFragmentSource(t,e){return e?Y(t):t}getRenderTexture(t,e){const n=e.get(t);if(!n)throw new s(`Unable to assign texture. Could not find texture '${t}'.`);return n}getTextures(t,e,n){if(t.inputs)for(const r of t.inputs)e[r]=this.getRenderTexture(r,n);return e}update({textures:t,uniforms:e,renderTarget:n}){if(t)for(const[r,i]of Object.entries(t))if(i)for(const t of this.renderables)t.textures[r]=i;if(e)for(const[r,i]of Object.entries(e))this.uniforms[r]&&(this.uniforms[r]=Z(i));if(void 0!==n){const t=this.renderables[this.renderables.length-1],e=null===n?this.finalPassShaderForCanvas:this.finalPassShaderForRenderTexture;t.renderTarget=null!=n?n:void 0,t.shader=e}}get resources(){return[...new Set([...this.renderables.flatMap((t=>t.resources)),this.finalPassShaderForCanvas,this.finalPassShaderForRenderTexture])]}};Q.enableOneTriangleOptimisation=!1;let tt,et,nt=Q;function rt(t,e){if(!(tt&&et||(tt=document.createElement("canvas"),et=tt.getContext("2d"),et)))throw new n("Unable to establish `CanvasRenderingContext2D` for debugging");return tt.width=t,tt.height=e,{canvas:tt,context:et}}function it(t,e){const n=t.readPixels(e),{width:r,height:i}=n,{canvas:o,context:a}=rt(r,i);a.putImageData(n,0,0);const s=o.toDataURL();st(null!=e?e:t.canvas,s,r/i)}function ot(t){const{width:e,height:n}=t,{canvas:r,context:i}=rt(e,n);t.source instanceof ImageData?i.putImageData(t.source,0,0):i.drawImage(t.source,0,0);st(t,r.toDataURL(),e/n)}function at(t){const{source:e,colorFormat:n,width:r,height:i}=t,{canvas:o,context:a}=rt(r,i),s="rgba"===n,u=a.createImageData(r,i),c=u.data;for(let l=0,f=0;l<e.length;l+=s?4:3,f+=4)c[f]=e[l],c[f+1]=e[l+1],c[f+2]=e[l+2],c[f+3]=s?e[l+3]:255;a.putImageData(u,0,0);st(t,o.toDataURL(),r/i)}function st(t,e,n){const r=`\n    font-size: 0;\n    padding-left: 256px;\n    padding-bottom: ${256/n}px;\n    vertical-align: top;\n    background-image: \n      url(${e}),\n      url('data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <rect width="10" height="10" fill="#ccc"/>\n    <rect x="10" y="10" width="10" height="10" fill="#ccc"/>\n    <rect x="10" y="0" width="10" height="10" fill="white"/>\n    <rect y="10" width="10" height="10" fill="white"/>\n  </svg>')}');\n    background-position: center, 0 0;\n    background-size: contain, 20px 20px;\n    background-repeat: no-repeat, repeat;\n  `;console.group("Debugging",t),console.log("%c ",r),console.groupEnd()}e.AdditiveBlending={source:"src alpha",destination:"one",equation:"add"},e.BinaryTexture=class{constructor(t){this.id=f(),this.resourceType="texture",this.textureType="binary",this.size=P,this.source=t.source,this.name=t.name,this.alpha=t.alpha||I,this.width=t.width,this.height=t.height}get colorFormat(){const t=this.source.length/(this.width*this.height);if(3===t)return"rgb";if(4===t)return"rgba";throw new s(`Invalid number of color channels for binary texture with ID: ${this.id}. Number of channels must be 3 (RGB) or 4 (RGBA) but the provided data has ${t} channels.`)}get numberFormat(){return this.source instanceof Uint8Array?"u8":"f32"}},e.Buffer=w,e.Effect=nt,e.ElementsBuffer=E,e.FraglAllocationError=i,e.FraglCompilationError=r,e.FraglError=n,e.FraglInternalError=u,e.FraglPlatformError=a,e.FraglRuntimeError=o,e.FraglValidationError=s,e.ImageTexture=class{constructor(t){this.id=f(),this.resourceType="texture",this.textureType="image",this.size=P,this.colorFormat="rgba",this.numberFormat="u8",this.source=t.source,this.name=t.name,this.alpha=t.alpha||I}get width(){return this.source.width}get height(){return this.source.height}},e.MockWebGLRenderingContext=class{constructor(t){this.canvas=t,this.drawingBufferColorSpace="srgb",this.DEPTH_BUFFER_BIT=256,this.STENCIL_BUFFER_BIT=1024,this.COLOR_BUFFER_BIT=16384,this.POINTS=0,this.LINES=1,this.LINE_LOOP=2,this.LINE_STRIP=3,this.TRIANGLES=4,this.TRIANGLE_STRIP=5,this.TRIANGLE_FAN=6,this.ZERO=0,this.ONE=1,this.SRC_COLOR=768,this.ONE_MINUS_SRC_COLOR=769,this.SRC_ALPHA=770,this.ONE_MINUS_SRC_ALPHA=771,this.DST_ALPHA=772,this.ONE_MINUS_DST_ALPHA=773,this.DST_COLOR=774,this.ONE_MINUS_DST_COLOR=775,this.SRC_ALPHA_SATURATE=776,this.FUNC_ADD=32774,this.BLEND_EQUATION=32777,this.BLEND_EQUATION_RGB=32777,this.BLEND_EQUATION_ALPHA=34877,this.FUNC_SUBTRACT=32778,this.FUNC_REVERSE_SUBTRACT=32779,this.BLEND_DST_RGB=32968,this.BLEND_SRC_RGB=32969,this.BLEND_DST_ALPHA=32970,this.BLEND_SRC_ALPHA=32971,this.CONSTANT_COLOR=32769,this.ONE_MINUS_CONSTANT_COLOR=32770,this.CONSTANT_ALPHA=32771,this.ONE_MINUS_CONSTANT_ALPHA=32772,this.BLEND_COLOR=32773,this.ARRAY_BUFFER=34962,this.ELEMENT_ARRAY_BUFFER=34963,this.ARRAY_BUFFER_BINDING=34964,this.ELEMENT_ARRAY_BUFFER_BINDING=34965,this.STREAM_DRAW=35040,this.STATIC_DRAW=35044,this.DYNAMIC_DRAW=35048,this.BUFFER_SIZE=34660,this.BUFFER_USAGE=34661,this.CURRENT_VERTEX_ATTRIB=34342,this.FRONT=1028,this.BACK=1029,this.FRONT_AND_BACK=1032,this.CULL_FACE=2884,this.BLEND=3042,this.DITHER=3024,this.STENCIL_TEST=2960,this.DEPTH_TEST=2929,this.SCISSOR_TEST=3089,this.POLYGON_OFFSET_FILL=32823,this.SAMPLE_ALPHA_TO_COVERAGE=32926,this.SAMPLE_COVERAGE=32928,this.NO_ERROR=0,this.INVALID_ENUM=1280,this.INVALID_VALUE=1281,this.INVALID_OPERATION=1282,this.OUT_OF_MEMORY=1285,this.CW=2304,this.CCW=2305,this.LINE_WIDTH=2849,this.ALIASED_POINT_SIZE_RANGE=33901,this.ALIASED_LINE_WIDTH_RANGE=33902,this.CULL_FACE_MODE=2885,this.FRONT_FACE=2886,this.DEPTH_RANGE=2928,this.DEPTH_WRITEMASK=2930,this.DEPTH_CLEAR_VALUE=2931,this.DEPTH_FUNC=2932,this.STENCIL_CLEAR_VALUE=2961,this.STENCIL_FUNC=2962,this.STENCIL_FAIL=2964,this.STENCIL_PASS_DEPTH_FAIL=2965,this.STENCIL_PASS_DEPTH_PASS=2966,this.STENCIL_REF=2967,this.STENCIL_VALUE_MASK=2963,this.STENCIL_WRITEMASK=2968,this.STENCIL_BACK_FUNC=34816,this.STENCIL_BACK_FAIL=34817,this.STENCIL_BACK_PASS_DEPTH_FAIL=34818,this.STENCIL_BACK_PASS_DEPTH_PASS=34819,this.STENCIL_BACK_REF=36003,this.STENCIL_BACK_VALUE_MASK=36004,this.STENCIL_BACK_WRITEMASK=36005,this.VIEWPORT=2978,this.SCISSOR_BOX=3088,this.COLOR_CLEAR_VALUE=3106,this.COLOR_WRITEMASK=3107,this.UNPACK_ALIGNMENT=3317,this.PACK_ALIGNMENT=3333,this.MAX_TEXTURE_SIZE=3379,this.MAX_VIEWPORT_DIMS=3386,this.SUBPIXEL_BITS=3408,this.RED_BITS=3410,this.GREEN_BITS=3411,this.BLUE_BITS=3412,this.ALPHA_BITS=3413,this.DEPTH_BITS=3414,this.STENCIL_BITS=3415,this.POLYGON_OFFSET_UNITS=10752,this.POLYGON_OFFSET_FACTOR=32824,this.TEXTURE_BINDING_2D=32873,this.SAMPLE_BUFFERS=32936,this.SAMPLES=32937,this.SAMPLE_COVERAGE_VALUE=32938,this.SAMPLE_COVERAGE_INVERT=32939,this.COMPRESSED_TEXTURE_FORMATS=34467,this.DONT_CARE=4352,this.FASTEST=4353,this.NICEST=4354,this.GENERATE_MIPMAP_HINT=33170,this.BYTE=5120,this.UNSIGNED_BYTE=5121,this.SHORT=5122,this.UNSIGNED_SHORT=5123,this.INT=5124,this.UNSIGNED_INT=5125,this.FLOAT=5126,this.DEPTH_COMPONENT=6402,this.ALPHA=6406,this.RGB=6407,this.RGBA=6408,this.LUMINANCE=6409,this.LUMINANCE_ALPHA=6410,this.UNSIGNED_SHORT_4_4_4_4=32819,this.UNSIGNED_SHORT_5_5_5_1=32820,this.UNSIGNED_SHORT_5_6_5=33635,this.FRAGMENT_SHADER=35632,this.VERTEX_SHADER=35633,this.MAX_VERTEX_ATTRIBS=34921,this.MAX_VERTEX_UNIFORM_VECTORS=36347,this.MAX_VARYING_VECTORS=36348,this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,this.MAX_TEXTURE_IMAGE_UNITS=34930,this.MAX_FRAGMENT_UNIFORM_VECTORS=36349,this.SHADER_TYPE=35663,this.DELETE_STATUS=35712,this.LINK_STATUS=35714,this.VALIDATE_STATUS=35715,this.ATTACHED_SHADERS=35717,this.ACTIVE_UNIFORMS=35718,this.ACTIVE_ATTRIBUTES=35721,this.SHADING_LANGUAGE_VERSION=35724,this.CURRENT_PROGRAM=35725,this.NEVER=512,this.LESS=513,this.EQUAL=514,this.LEQUAL=515,this.GREATER=516,this.NOTEQUAL=517,this.GEQUAL=518,this.ALWAYS=519,this.KEEP=7680,this.REPLACE=7681,this.INCR=7682,this.DECR=7683,this.INVERT=5386,this.INCR_WRAP=34055,this.DECR_WRAP=34056,this.VENDOR=7936,this.RENDERER=7937,this.VERSION=7938,this.NEAREST=9728,this.LINEAR=9729,this.NEAREST_MIPMAP_NEAREST=9984,this.LINEAR_MIPMAP_NEAREST=9985,this.NEAREST_MIPMAP_LINEAR=9986,this.LINEAR_MIPMAP_LINEAR=9987,this.TEXTURE_MAG_FILTER=10240,this.TEXTURE_MIN_FILTER=10241,this.TEXTURE_WRAP_S=10242,this.TEXTURE_WRAP_T=10243,this.TEXTURE_2D=3553,this.TEXTURE=5890,this.TEXTURE_CUBE_MAP=34067,this.TEXTURE_BINDING_CUBE_MAP=34068,this.TEXTURE_CUBE_MAP_POSITIVE_X=34069,this.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,this.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,this.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,this.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,this.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,this.MAX_CUBE_MAP_TEXTURE_SIZE=34076,this.TEXTURE0=33984,this.TEXTURE1=33985,this.TEXTURE2=33986,this.TEXTURE3=33987,this.TEXTURE4=33988,this.TEXTURE5=33989,this.TEXTURE6=33990,this.TEXTURE7=33991,this.TEXTURE8=33992,this.TEXTURE9=33993,this.TEXTURE10=33994,this.TEXTURE11=33995,this.TEXTURE12=33996,this.TEXTURE13=33997,this.TEXTURE14=33998,this.TEXTURE15=33999,this.TEXTURE16=34e3,this.TEXTURE17=34001,this.TEXTURE18=34002,this.TEXTURE19=34003,this.TEXTURE20=34004,this.TEXTURE21=34005,this.TEXTURE22=34006,this.TEXTURE23=34007,this.TEXTURE24=34008,this.TEXTURE25=34009,this.TEXTURE26=34010,this.TEXTURE27=34011,this.TEXTURE28=34012,this.TEXTURE29=34013,this.TEXTURE30=34014,this.TEXTURE31=34015,this.ACTIVE_TEXTURE=34016,this.REPEAT=10497,this.CLAMP_TO_EDGE=33071,this.MIRRORED_REPEAT=33648,this.FLOAT_VEC2=35664,this.FLOAT_VEC3=35665,this.FLOAT_VEC4=35666,this.INT_VEC2=35667,this.INT_VEC3=35668,this.INT_VEC4=35669,this.BOOL=35670,this.BOOL_VEC2=35671,this.BOOL_VEC3=35672,this.BOOL_VEC4=35673,this.FLOAT_MAT2=35674,this.FLOAT_MAT3=35675,this.FLOAT_MAT4=35676,this.SAMPLER_2D=35678,this.SAMPLER_CUBE=35680,this.VERTEX_ATTRIB_ARRAY_ENABLED=34338,this.VERTEX_ATTRIB_ARRAY_SIZE=34339,this.VERTEX_ATTRIB_ARRAY_STRIDE=34340,this.VERTEX_ATTRIB_ARRAY_TYPE=34341,this.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,this.VERTEX_ATTRIB_ARRAY_POINTER=34373,this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,this.IMPLEMENTATION_COLOR_READ_TYPE=35738,this.IMPLEMENTATION_COLOR_READ_FORMAT=35739,this.COMPILE_STATUS=35713,this.LOW_FLOAT=36336,this.MEDIUM_FLOAT=36337,this.HIGH_FLOAT=36338,this.LOW_INT=36339,this.MEDIUM_INT=36340,this.HIGH_INT=36341,this.FRAMEBUFFER=36160,this.RENDERBUFFER=36161,this.RGBA4=32854,this.RGB5_A1=32855,this.RGBA8=32856,this.RGB565=36194,this.DEPTH_COMPONENT16=33189,this.STENCIL_INDEX8=36168,this.DEPTH_STENCIL=34041,this.RENDERBUFFER_WIDTH=36162,this.RENDERBUFFER_HEIGHT=36163,this.RENDERBUFFER_INTERNAL_FORMAT=36164,this.RENDERBUFFER_RED_SIZE=36176,this.RENDERBUFFER_GREEN_SIZE=36177,this.RENDERBUFFER_BLUE_SIZE=36178,this.RENDERBUFFER_ALPHA_SIZE=36179,this.RENDERBUFFER_DEPTH_SIZE=36180,this.RENDERBUFFER_STENCIL_SIZE=36181,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,this.COLOR_ATTACHMENT0=36064,this.DEPTH_ATTACHMENT=36096,this.STENCIL_ATTACHMENT=36128,this.DEPTH_STENCIL_ATTACHMENT=33306,this.NONE=0,this.FRAMEBUFFER_COMPLETE=36053,this.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,this.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,this.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,this.FRAMEBUFFER_UNSUPPORTED=36061,this.FRAMEBUFFER_BINDING=36006,this.RENDERBUFFER_BINDING=36007,this.MAX_RENDERBUFFER_SIZE=34024,this.INVALID_FRAMEBUFFER_OPERATION=1286,this.UNPACK_FLIP_Y_WEBGL=37440,this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,this.CONTEXT_LOST_WEBGL=37442,this.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,this.BROWSER_DEFAULT_WEBGL=37444}get drawingBufferWidth(){return this.canvas.width}get drawingBufferHeight(){return this.canvas.height}activeTexture(){}attachShader(){}bindAttribLocation(){}bindBuffer(){}bindFramebuffer(){}bindRenderbuffer(){}bindTexture(){}blendColor(){}blendEquation(){}blendEquationSeparate(){}blendFunc(){}blendFuncSeparate(){}bufferData(){}bufferSubData(){}checkFramebufferStatus(){return this.FRAMEBUFFER_COMPLETE}clear(){}clearColor(){}clearDepth(){}clearStencil(){}colorMask(){}compileShader(){}compressedTexImage2D(){}compressedTexSubImage2D(){}copyTexImage2D(){}copyTexSubImage2D(){}createBuffer(){return{}}createFramebuffer(){return{}}createProgram(){return{}}createRenderbuffer(){return{}}createShader(){return{}}createTexture(){return{}}cullFace(){}deleteBuffer(){}deleteFramebuffer(){}deleteProgram(){}deleteRenderbuffer(){}deleteShader(){}deleteTexture(){}depthFunc(){}depthMask(){}depthRange(){}detachShader(){}disable(){}disableVertexAttribArray(){}drawArrays(){}drawElements(){}enable(){}enableVertexAttribArray(){}finish(){}flush(){}framebufferRenderbuffer(){}framebufferTexture2D(){}frontFace(){}generateMipmap(){}getActiveAttrib(){return{}}getActiveUniform(){return null}getAttachedShaders(){return[]}getAttribLocation(){return 0}getBufferParameter(){return 0}getContextAttributes(){return{}}getError(){return this.NO_ERROR}getExtension(){return null}getFramebufferAttachmentParameter(){return 0}getParameter(){return 0}getProgramInfoLog(){return""}getProgramParameter(){return{}}getRenderbufferParameter(){return 0}getShaderInfoLog(){return""}getShaderParameter(){return!0}getShaderPrecisionFormat(){return{rangeMin:127,rangeMax:127,precision:127}}getShaderSource(){return""}getSupportedExtensions(){return[]}getTexParameter(){return 0}getUniform(){return 0}getUniformLocation(){return null}getVertexAttrib(){return 0}getVertexAttribOffset(){return 0}hint(){}isBuffer(){return!1}isContextLost(){return!1}isEnabled(){return!1}isFramebuffer(){return!1}isProgram(){return!1}isRenderbuffer(){return!1}isShader(){return!1}isTexture(){return!1}lineWidth(){}linkProgram(){}pixelStorei(){}polygonOffset(){}readPixels(){}renderbufferStorage(){}sampleCoverage(){}scissor(){}shaderSource(){}stencilFunc(){}stencilFuncSeparate(){}stencilMask(){}stencilMaskSeparate(){}stencilOp(){}stencilOpSeparate(){}texImage2D(){}texParameterf(){}texParameteri(){}texSubImage2D(){}uniform1f(){}uniform1fv(){}uniform1i(){}uniform1iv(){}uniform2f(){}uniform2fv(){}uniform2i(){}uniform2iv(){}uniform3f(){}uniform3fv(){}uniform3i(){}uniform3iv(){}uniform4f(){}uniform4fv(){}uniform4i(){}uniform4iv(){}uniformMatrix2fv(){}uniformMatrix3fv(){}uniformMatrix4fv(){}useProgram(){}validateProgram(){}vertexAttrib1f(){}vertexAttrib1fv(){}vertexAttrib2f(){}vertexAttrib2fv(){}vertexAttrib3f(){}vertexAttrib3fv(){}vertexAttrib4f(){}vertexAttrib4fv(){}vertexAttribPointer(){}viewport(){}},e.ModelViewer=class{constructor(){this.renderables=[]}get resources(){return this.renderables.flatMap((t=>t.resources))}},e.PingpongBuffers=J,e.PremultipliedNormalBlending={source:"one",destination:"one minus src alpha",equation:"add"},e.RenderTexture=L,e.Renderable=C,e.Renderer=class{constructor(t){this.resources=new Map,this.create=t,this.backend=this.createBackend()}createBackend(){const t=this.create();return t.onContextLost=t=>{var e;null==(e=this.onContextLost)||e.call(this,t)},t}load(t){this.backend.load(t);const e=Array.isArray(t)?t:t.resources;for(const n of e)this.resources.set(n.id,n)}update(t){this.backend.update(t)}clear(t,e){this.backend.clear(t,e)}render(t){this.backend.render(t)}readPixels(t){return this.backend.readPixels(t)}flush(){this.backend.flush()}release(t){this.backend.release(t);const e=Array.isArray(t)?t:t.resources;for(const n of e)this.resources.delete(n.id)}dispose(){this.backend.dispose(),this.resources.clear()}restore(){this.backend.dispose(),this.backend=this.createBackend(),this.backend.load(Array.from(this.resources.values()))}resize(...t){const[e,n]=t;if(e===this.canvas.width&&n===this.canvas.height)return;this.backend.resize(...t);const r=Array.from(this.resources.values()).filter((t=>"texture"===t.resourceType&&!t.source&&"relative"===t.size));this.backend.update(r)}get canvas(){return this.backend.canvas}},e.Shader=N,e.WebGlRenderer=z,e.createWebGlRenderer=function(t,e){var n,r,o;const a=document.createElement("canvas");t.append(a),a.style.width="100%",a.style.height="100%";let s="Unknown";const u=t=>{t.statusMessage&&(s=t.statusMessage)};a.addEventListener("webglcontextcreationerror",u);const c={alpha:null==(n=null==e?void 0:e.alpha)||n,antialias:null==(r=null==e?void 0:e.antialias)||r,depth:null!=(o=null==e?void 0:e.depth)&&o,stencil:!1,preserveDrawingBuffer:!(null==e||!e.preserveDrawingBuffer),powerPreference:"high-performance",failIfMajorPerformanceCaveat:!(null==e||!e.failIfMajorPerformanceCaveat)},l=null!=e&&e.useWebGl2?a.getContext("webgl2",c):a.getContext("webgl",c);if(a.removeEventListener("webglcontextcreationerror",u),!l)throw new i(`A WebGL context could not be created. Reason: ${s}`);return new z(l,{...e,onDispose:()=>{a.remove()}})},e.debugBinaryTexture=at,e.debugImageTexture=ot,e.debugRenderTexture=it,e.debugTexture=function(t,e){e&&"render"!==e.textureType?"image"===e.textureType?ot(e):at(e):it(t,e)},e.getAbsoluteTextureSize=M,e.injectAlphaPremultiplication=Y,e.paddedTuple=function(t,e,n){if(t.length>n)return t.slice(0,n);const r=[...t];for(;r.length<n;)r.push(e);return r}},474545:(t,e,n)=>{"use strict";t.exports=n(632648)},968:t=>{var e;window,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=85)}([function(t,e,n){"use strict";n.d(e,"c",(function(){return x})),n.d(e,"b",(function(){return S})),n.d(e,"d",(function(){return O})),n.d(e,"a",(function(){return A}));var r=n(1),i=n.n(r),o=n(10),a=n.n(o),s=n(17),u=n.n(s),c=n(2),l=n(5),f=n(3),h=n(9),d=n(6),p=n(25),g=n(11),m=n(20);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T=Object(g.a)("quill"),x=new c.Registry;c.ParentBlot.uiClass="ql-ui";var A=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=S(e,r),this.container=this.options.container,null==this.container)return T.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",p.a.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.a;var o=this.options.registry.query(c.ScrollBlot.blotName);this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new l.a(this.scroll),this.selection=new d.b(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(f.a.events.EDITOR_CHANGE,(function(t){t===f.a.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(f.a.events.SCROLL_UPDATE,(function(t,e,r){var i=n.selection.lastRange,o=b(n.selection.getRange(),1)[0],a=i&&o?{oldRange:i,newRange:o}:void 0;_.call(n,(function(){return n.editor.update(null,e,a)}),t),null!=r&&Object.entries(r).forEach((function(t){var e=b(t,2),r=e[0],i=e[1];return n.selection.format(r,i)}))}));var a=this.clipboard.convert({html:"".concat(i,"<p><br></p>"),text:"\n"});this.setContents(a),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}var e,n,r;return e=t,n=[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,i=b(O(t,e,n),4);return t=i[0],e=i[1],n=i[3],_.call(this,(function(){return r.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(t){this.allowReadOnlyEdits=!0;var e=t();return this.allowReadOnlyEdits=!1,e}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.a.sources.API;return _.call(this,(function(){var r=n.getSelection(!0),o=new i.a;if(null==r)return o;if(n.scroll.query(t,c.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,v({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,v({},t,e))}return n.setSelection(r,f.a.sources.SILENT),o}),r)}},{key:"formatLine",value:function(t,e,n,r,i){var o,a=this,s=b(O(t,e,n,r,i),4);return t=s[0],e=s[1],o=s[2],i=s[3],_.call(this,(function(){return a.editor.formatLine(t,e,o)}),i,t,0)}},{key:"formatText",value:function(t,e,n,r,i){var o,a=this,s=b(O(t,e,n,r,i),4);return t=s[0],e=s[1],o=s[2],i=s[3],_.call(this,(function(){return a.editor.formatText(t,e,o)}),i,t,0)}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(e="number"==typeof t?this.selection.getBounds(t,n):this.selection.getBounds(t.index,t.length)))return null;var r=this.container.getBoundingClientRect();return{bottom:e.bottom-r.top,height:e.height,left:e.left-r.left,right:e.right-r.left,top:e.top-r.top,width:e.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=b(O(t,e),2);return t=n[0],e=n[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=b(O(t,e),2);return t=n[0],e=n[1],this.editor.getHTML(t,e)}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=b(O(t,e),2);return t=n[0],e=n[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return _.call(this,(function(){return i.editor.insertEmbed(e,n,r)}),o,e)}},{key:"insertText",value:function(t,e,n,r,i){var o,a=this,s=b(O(t,0,n,r,i),4);return t=s[0],o=s[2],i=s[3],_.call(this,(function(){return a.editor.insertText(t,e,o)}),i,t,e.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var t;return(t=this.emitter).off.apply(t,arguments)}},{key:"on",value:function(){var t;return(t=this.emitter).on.apply(t,arguments)}},{key:"once",value:function(){var t;return(t=this.emitter).once.apply(t,arguments)}},{key:"removeFormat",value:function(t,e,n){var r=this,i=b(O(t,e,n),4);return t=i[0],e=i[1],n=i[3],_.call(this,(function(){return r.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.sources.API;return _.call(this,(function(){t=new i.a(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),a=e.editor.deleteText(e.getLength()-1,1);return r.compose(o).compose(a)}),n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var i=b(O(e,n,r),4);e=i[0],n=i[1],r=i[3],this.selection.setRange(new d.a(Math.max(0,e),n),r),r!==f.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.sources.API,n=(new i.a).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.a.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.sources.API;return _.call(this,(function(){return t=new i.a(t),e.editor.applyDelta(t,n)}),n,!0)}}],r=[{key:"debug",value:function(t){!0===t&&(t="log"),g.a.level(t)}},{key:"find",value:function(t){return p.a.get(t)||x.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&T.error("Cannot import ".concat(t,". Are you sure it was registered?")),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var i=t.attrName||t.blotName;"string"==typeof i?this.register("formats/".concat(i),t,e):Object.keys(t).forEach((function(r){n.register(r,t[r],e)}))}else null==this.imports[t]||r||T.warn("Overwriting ".concat(t," with"),e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName&&x.register(e),"function"==typeof e.register&&e.register(x)}}],n&&E(e.prototype,n),r&&E(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t,e){if((e=u()({container:t,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},e)).theme&&e.theme!==A.DEFAULTS.theme){if(e.theme=A.import("themes/".concat(e.theme)),null==e.theme)throw new Error("Invalid theme ".concat(e.theme,". Did you register it?"))}else e.theme=m.a;var n=a()(e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var n=A.import("modules/".concat(e));return null==n?T.error("Cannot load ".concat(e," module. Are you sure you registered it?")):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=u()({},A.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function _(t,e,n,r){if(!this.isEnabled()&&e===f.a.sources.USER&&!this.allowReadOnlyEdits)return new i.a;var o=null==n?null:this.getSelection(),a=this.editor.delta,s=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=R(o,s,e):0!==r&&(o=R(o,n,r,e)),this.setSelection(o,f.a.sources.SILENT)),s.length()>0){var u,c,l=[f.a.events.TEXT_CHANGE,s,a,e];(u=this.emitter).emit.apply(u,[f.a.events.EDITOR_CHANGE].concat(l)),e!==f.a.sources.SILENT&&(c=this.emitter).emit.apply(c,l)}return s}function O(t,e,n,r,i){var o={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(i=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(i=r,r=n,n=e,e=0),"object"===y(n)?(o=n,i=r):"string"==typeof n&&(null!=r?o[n]=r:i=n),[t,e,o,i=i||f.a.sources.API]}function R(t,e,n,r){if(null==t)return null;var o,a;if(e instanceof i.a){var s=b([t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==f.a.sources.USER)})),2);o=s[0],a=s[1]}else{var u=b([t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===f.a.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),2);o=u[0],a=u[1]}return new d.a(o,a-o)}A.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:x,scrollingContainer:null,theme:"default"},A.events=f.a.events,A.sources=f.a.sources,A.version="2.0.0-dev.46",A.imports={delta:i.a,parchment:c,"core/module":h.a,"core/theme":m.a}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=r(n(50)),o=r(n(10)),a=r(n(18)),s=r(n(51)),u=r(n(42)),c=String.fromCharCode(0),l=function(){function t(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}return t.prototype.insert=function(t,e){var n={};return"string"==typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},t.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},t.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},t.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o.default(t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(a.default(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},t.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},t.prototype.filter=function(t){return this.ops.filter(t)},t.prototype.forEach=function(t){this.ops.forEach(t)},t.prototype.map=function(t){return this.ops.map(t)},t.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]},t.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},t.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+u.default.length(e):e.delete?t-e.delete:t}),0)},t.prototype.length=function(){return this.reduce((function(t,e){return t+u.default.length(e)}),0)},t.prototype.slice=function(e,n){void 0===e&&(e=0),void 0===n&&(n=1/0);for(var r=[],i=u.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var a=void 0;o<e?a=i.next(e-o):(a=i.next(n-o),r.push(a)),o+=u.default.length(a)}return new t(r)},t.prototype.compose=function(e){var n=u.default.iterator(this.ops),r=u.default.iterator(e.ops),i=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var c=o.retain;"insert"===n.peekType()&&n.peekLength()<=c;)c-=n.peekLength(),i.push(n.next());o.retain-c>0&&r.next(o.retain-c)}for(var l=new t(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())l.push(r.next());else if("delete"===n.peekType())l.push(n.next());else{var f=Math.min(n.peekLength(),r.peekLength()),h=n.next(f),d=r.next(f);if("number"==typeof d.retain){var p={};"number"==typeof h.retain?p.retain=f:p.insert=h.insert;var g=s.default.compose(h.attributes,d.attributes,"number"==typeof h.retain);if(g&&(p.attributes=g),l.push(p),!r.hasNext()&&a.default(l.ops[l.ops.length-1],p)){var m=new t(n.rest());return l.concat(m).chop()}}else"number"==typeof d.delete&&"number"==typeof h.retain&&l.push(d)}return l.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:c;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new t,l=i.default(r[0],r[1],n),f=u.default.iterator(this.ops),h=u.default.iterator(e.ops);return l.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i.default.INSERT:n=Math.min(h.peekLength(),e),o.push(h.next(n));break;case i.default.DELETE:n=Math.min(e,f.peekLength()),f.next(n),o.delete(n);break;case i.default.EQUAL:n=Math.min(f.peekLength(),h.peekLength(),e);var r=f.next(n),u=h.next(n);a.default(r.insert,u.insert)?o.retain(n,s.default.diff(r.attributes,u.attributes)):o.push(u).delete(n)}e-=n}})),o.chop()},t.prototype.eachLine=function(e,n){void 0===n&&(n="\n");for(var r=u.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=u.default.length(a)-r.peekLength(),c="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(c<0)i.push(r.next());else if(c>0)i.push(r.next(c));else{if(!1===e(i,r.next(1).attributes||{},o))return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce((function(t,r){if(r.insert)n.delete(u.default.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),t+r.retain;if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return e.slice(t,t+i).forEach((function(t){r.delete?n.push(t):r.retain&&r.attributes&&n.retain(u.default.length(t),s.default.invert(r.attributes,t.attributes))})),t+i}}return t}),0),n.chop()},t.prototype.transform=function(e,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof e)return this.transformPosition(e,n);for(var r=e,i=u.default.iterator(this.ops),o=u.default.iterator(r.ops),a=new t;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var c=Math.min(i.peekLength(),o.peekLength()),l=i.next(c),f=o.next(c);if(l.delete)continue;f.delete?a.push(f):a.retain(c,s.default.transform(l.attributes,f.attributes,n))}else a.retain(u.default.length(i.next()));return a.chop()},t.prototype.transformPosition=function(t,e){void 0===e&&(e=!1),e=!!e;for(var n=u.default.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<t||!e)&&(t+=i),r+=i):t-=Math.min(i,t-r)}return t},t.Op=u.default,t.AttributeMap=s.default,t}();t.exports=l},function(t,e,n){"use strict";n.r(e),n.d(e,"Blot",(function(){return i.Blot})),n.d(e,"ParentBlot",(function(){return m})),n.d(e,"ContainerBlot",(function(){return b})),n.d(e,"LeafBlot",(function(){return T})),n.d(e,"EmbedBlot",(function(){return B})),n.d(e,"ScrollBlot",(function(){return V})),n.d(e,"BlockBlot",(function(){return M})),n.d(e,"InlineBlot",(function(){return P})),n.d(e,"TextBlot",(function(){return q})),n.d(e,"Formattable",(function(){return i.Formattable})),n.d(e,"Attributor",(function(){return x})),n.d(e,"ClassAttributor",(function(){return O})),n.d(e,"StyleAttributor",(function(){return k})),n.d(e,"AttributorStore",(function(){return N})),n.d(e,"Registry",(function(){return h})),n.d(e,"Scope",(function(){return a}));var r,i=n(41);!function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(r||(r={}));var o,a=r,s=function(){function t(){this.head=null,this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.insertBefore(t[0],null),t.length>1){var n=t.slice(1);this.append.apply(this,n)}},t.prototype.at=function(t){for(var e=this.iterator(),n=e();n&&t>0;)t-=1,n=e();return n},t.prototype.contains=function(t){for(var e=this.iterator(),n=e();n;){if(n===t)return!0;n=e()}return!1},t.prototype.indexOf=function(t){for(var e=this.iterator(),n=e(),r=0;n;){if(n===t)return r;r+=1,n=e()}return-1},t.prototype.insertBefore=function(t,e){null!=t&&t!==e&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n=this.iterator(),r=n();r;){var i=r.length();if(t<i||e&&t===i&&(null==r.next||0!==r.next.length()))return[r,t];t-=i,r=n()}return[null,0]},t.prototype.forEach=function(t){for(var e=this.iterator(),n=e();n;)t(n),n=e()},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r=this.find(t),i=r[0],o=t-r[1],a=this.iterator(i),s=a();s&&o<t+e;){var u=s.length();t>o?n(s,t-o,Math.min(e,o+u-t)):n(s,0,Math.min(u,t+e-o)),o+=u,s=a()}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){for(var n=this.iterator(),r=n();r;)e=t(e,r),r=n();return e},t}(),u=s,c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},o(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return c(e,t),e}(Error),f=function(){function t(){this.attributes={},this.classes={},this.tags={},this.types={}}return t.find=function(t,e){return void 0===e&&(e=!1),null==t?null:this.blots.has(t)?this.blots.get(t)||null:e?this.find(t.parentNode,e):null},t.prototype.create=function(e,n,r){var i=this.query(n);if(null==i)throw new l("Unable to create "+n+" blot");var o=i,a=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(r),s=new o(e,a,r);return t.blots.set(s.domNode,s),s},t.prototype.find=function(e,n){return void 0===n&&(n=!1),t.find(e,n)},t.prototype.query=function(t,e){var n,r=this;return void 0===e&&(e=a.ANY),"string"==typeof t?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:"number"==typeof t?t&a.LEVEL&a.BLOCK?n=this.types.block:t&a.LEVEL&a.INLINE&&(n=this.types.inline):t instanceof HTMLElement&&((t.getAttribute("class")||"").split(/\s+/).some((function(t){return!!(n=r.classes[t])})),n=n||this.tags[t.tagName]),null==n?null:e&a.LEVEL&n.scope&&e&a.TYPE&n.scope?n:null},t.prototype.register=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map((function(e){return t.register(e)}));var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new l("Invalid definition");if("abstract"===r.blotName)throw new l("Cannot register abstract class");return this.types[r.blotName||r.attrName]=r,"string"==typeof r.keyName?this.attributes[r.keyName]=r:(null!=r.className&&(this.classes[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(t){return t.toUpperCase()})):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach((function(e){null!=t.tags[e]&&null!=r.className||(t.tags[e]=r)})))),r},t.blots=new WeakMap,t}(),h=f,d=function(){function t(t,e){this.scroll=t,this.domNode=e,h.blots.set(e,this),this.prev=null,this.next=null}return t.create=function(t){if(null==this.tagName)throw new l("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t,10).toString()===t&&(t=parseInt(t,10))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),t.prototype.attach=function(){},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return this.scroll.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),h.blots.delete(this.domNode)},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,r){var i=this.isolate(t,e);if(null!=this.scroll.query(n,a.BLOT)&&r)i.wrap(n,r);else if(null!=this.scroll.query(n,a.ATTRIBUTE)){var o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,r)}},t.prototype.insertAt=function(t,e,n){var r=null==n?this.scroll.create("text",e):this.scroll.create(e,n),i=this.split(t);this.parent.insertBefore(r,i||void 0)},t.prototype.isolate=function(t,e){var n=this.split(t);if(null==n)throw new Error("Attempt to isolate at end");return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new l("Cannot wrap "+t);return n.appendChild(this),n},t.blotName="abstract",t}(),p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function g(t,e){var n=e.find(t);if(null==n)try{n=e.create(t)}catch(r){n=e.create(a.INLINE),Array.from(t.childNodes).forEach((function(t){n.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach()}return n}var m=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.uiNode=null,r.build(),r}return p(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.attachUI=function(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,e.uiClass&&this.uiNode.classList.add(e.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},e.prototype.build=function(){var t=this;this.children=new u,Array.from(this.domNode.childNodes).filter((function(e){return e!==t.uiNode})).reverse().forEach((function(e){try{var n=g(e,t.scroll);t.insertBefore(n,t.children.head||void 0)}catch(r){if(r instanceof l)return;throw r}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){void 0===n&&(n=0);var r=this.children.find(n),i=r[0],o=r[1];return null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t?[i,o]:i instanceof e?i.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&i.push(n),n instanceof e&&(i=i.concat(n.descendants(t,r,o))),o-=a})),i},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.enforceAllowedChildren=function(){var t=this,n=!1;this.children.forEach((function(r){n||t.statics.allowedChildren.some((function(t){return r instanceof t}))||(r.statics.scope===a.BLOCK_BLOT?(null!=r.next&&t.splitAfter(r),null!=r.prev&&t.splitAfter(r.prev),r.parent.unwrap(),n=!0):r instanceof e?r.unwrap():r.remove())}))},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,(function(t,e,i){t.formatAt(e,i,n,r)}))},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),i=r[0],o=r[1];if(i)i.insertAt(o,e,n);else{var a=null==n?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(t!==e){null!=t.parent&&t.parent.children.remove(t);var n=null;this.children.insertBefore(t,e||null),t.parent=this,null!=e&&(n=e.domNode),t.domNode.parentNode===this.domNode&&t.domNode.nextSibling===n||this.domNode.insertBefore(t.domNode,n),t.attach()}},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),i=r[0],o=r[1],a=[[this,t]];return i instanceof e?a.concat(i.path(o,n)):(null!=i&&a.push([i,o]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replaceWith=function(n,r){var i="string"==typeof n?this.scroll.create(n,r):n;return i instanceof e&&this.moveChildren(i),t.prototype.replaceWith.call(this,i)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(function(t,r,i){var o=t.split(r,e);null!=o&&n.appendChild(o)})),n},e.prototype.splitAfter=function(t){for(var e=this.clone();null!=t.next;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e},e.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],i=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),i.push.apply(i,t.removedNodes))})),i.forEach((function(t){if(null==t.parentNode||t instanceof Element&&("IFRAME"===t.tagName||null!=t.querySelector("iframe"))||!(document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=n.scroll.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),r.filter((function(t){return t.parentNode===n.domNode||t===n.uiNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=n.scroll.find(t.nextSibling));var r=g(t,n.scroll);r.next===e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))})),this.enforceAllowedChildren()},e.uiClass="",e}(d),y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.checkMerge=function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName},e.prototype.deleteAt=function(e,n){t.prototype.deleteAt.call(this,e,n),this.enforceAllowedChildren()},e.prototype.formatAt=function(e,n,r,i){t.prototype.formatAt.call(this,e,n,r,i),this.enforceAllowedChildren()},e.prototype.insertAt=function(e,n,r){t.prototype.insertAt.call(this,e,n,r),this.enforceAllowedChildren()},e.prototype.optimize=function(e){t.prototype.optimize.call(this,e),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},e.blotName="container",e.scope=a.BLOCK_BLOT,e}(m),b=v,w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=a.INLINE_BLOT,e}(d),T=E,x=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var r=a.TYPE&a.ATTRIBUTE;this.scope=null!=n.scope?n.scope&a.LEVEL|r:a.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return Array.from(t.attributes).map((function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}(),A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function S(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){S(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(S(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(x),O=_,R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style.setProperty(this.keyName,e),!0)},e.prototype.remove=function(t){t.style.removeProperty(this.keyName),t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style.getPropertyValue(this.keyName).trim();return this.canAdd(t,e)?e:""},e}(x),k=C,N=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=h.find(this.domNode);if(null!=e){var n=x.keys(this.domNode),r=O.keys(this.domNode),i=k.keys(this.domNode);n.concat(r).concat(i).forEach((function(n){var r=e.scroll.query(n,a.ATTRIBUTE);r instanceof x&&(t.attributes[r.attrName]=r)}))}},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}(),I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.attributes=new N(r.domNode),r}return I(e,t),e.formats=function(t,n){var r=n.query(e.blotName);if(null==r||t.tagName!==r.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,n){var r=this;if(t!==this.statics.blotName||n){var i=this.scroll.query(t,a.INLINE);if(null==i)return;i instanceof x?this.attributes.attribute(i,n):!n||t===this.statics.blotName&&this.formats()[t]===n||this.replaceWith(t,n)}else this.children.forEach((function(t){t instanceof e||(t=t.wrap(e.blotName,!0)),r.attributes.copy(t)})),this.unwrap()},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.formatAt=function(e,n,r,i){null!=this.formats()[r]||this.scroll.query(r,a.ATTRIBUTE)?this.isolate(e,n).format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof e&&i.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,r){var i=t.prototype.wrap.call(this,n,r);return i instanceof e&&this.attributes.move(i),i},e.allowedChildren=[e,T],e.blotName="inline",e.scope=a.INLINE_BLOT,e.tagName="SPAN",e}(m),L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.attributes=new N(r.domNode),r}return L(e,t),e.formats=function(t,n){var r=n.query(e.blotName);if(null==r||t.tagName!==r.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,n){var r=this.scroll.query(t,a.BLOCK);null!=r&&(r instanceof x?this.attributes.attribute(r,n):t!==this.statics.blotName||n?!n||t===this.statics.blotName&&this.formats()[t]===n||this.replaceWith(t,n):this.replaceWith(e.blotName))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.formatAt=function(e,n,r,i){null!=this.scroll.query(r,a.BLOCK)?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=this.scroll.query(n,a.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var i=this.split(e);if(null==i)throw new Error("Attempt to insertAt after block boundaries");var o=this.scroll.create(n,r);i.parent.insertBefore(o,i)}},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.blotName="block",e.scope=a.BLOCK_BLOT,e.tagName="P",e.allowedChildren=[P,e,T],e}(m),j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e.formats=function(t,e){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,i){0===e&&n===this.length()?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},e}(T),B=D,U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},H=function(t){function e(e,n){var r=t.call(this,null,n)||this;return r.registry=e,r.scroll=r,r.build(),r.observer=new MutationObserver((function(t){r.update(t)})),r.observer.observe(r.domNode,F),r.attach(),r}return U(e,t),e.prototype.create=function(t,e){return this.registry.create(this,t,e)},e.prototype.find=function(t,e){void 0===e&&(e=!1);var n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null},e.prototype.query=function(t,e){return void 0===e&&(e=a.ANY),this.registry.query(t,e)},e.prototype.register=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.registry).register.apply(t,e)},e.prototype.build=function(){null!=this.scroll&&t.prototype.build.call(this)},e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,i){this.update(),t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var i=n.mutationsMap||new WeakMap,o=Array.from(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var a=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(i.has(t.domNode)||i.set(t.domNode,[]),e&&a(t.parent))},s=function(t){i.has(t.domNode)&&(t instanceof m&&t.children.forEach(s),i.delete(t.domNode),t.optimize(n))},u=e,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(t){var e=r.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(r.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach((function(t){var e=r.find(t,!1);a(e,!1),e instanceof m&&e.children.forEach((function(t){a(t,!1)}))}))):"attributes"===t.type&&a(e.prev)),a(e))})),this.children.forEach(s),o=(u=Array.from(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),e=e||this.observer.takeRecords();var i=new WeakMap;e.map((function(t){var e=r.find(t.target,!0);return null==e?null:i.has(e.domNode)?(i.get(e.domNode).push(t),null):(i.set(e.domNode,[t]),e)})).forEach((function(t){null!=t&&t!==r&&i.has(t.domNode)&&t.update(i.get(t.domNode)||[],n)})),n.mutationsMap=i,i.has(this.domNode)&&t.prototype.update.call(this,i.get(this.domNode),n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild=M,e.allowedChildren=[M,b],e.scope=a.BLOCK_BLOT,e.tagName="DIV",e}(m),V=H,G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.text=r.statics.value(r.domNode),r}return G(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){return t.data},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.INLINE_BLOT,e}(T)},function(t,e,n){"use strict";var r=n(43),i=n.n(r),o=n(25),a=n(11);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},c.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var d=Object(a.a)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((function(t){var n,r=o.a.get(t);r&&r.emitter&&(n=r.emitter).handleDOM.apply(n,e)}))}))}));var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(o,t);var e,n,r,i=f(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).listeners={},t.on("error",d.error),t}return e=o,n=[{key:"emit",value:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=d.log).call.apply(t,[d].concat(r)),(e=c(h(o.prototype),"emit",this)).call.apply(e,[this].concat(r))}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach((function(e){var r=e.node,i=e.handler;(t.target===r||r.contains(t.target))&&i.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}],n&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.a);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},e.a=p},function(t,e,n){"use strict";n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return A})),n.d(e,"a",(function(){return T})),n.d(e,"d",(function(){return E}));var r=n(1),i=n.n(r),o=n(2),a=n(8),s=n(12),u=n(7);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},m.apply(this,arguments)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var E=function(t){y(n,t);var e=b(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t,r)).cache={},i}return g(n,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=x(this)),this.cache.delta}},{key:"deleteAt",value:function(t,e){m(w(n.prototype),"deleteAt",this).call(this,t,e),this.cache={}}},{key:"formatAt",value:function(t,e,r,i){e<=0||(this.scroll.query(r,o.Scope.BLOCK)?t+e===this.length()&&this.format(r,i):m(w(n.prototype),"formatAt",this).call(this,t,Math.min(e,this.length()-t-1),r,i),this.cache={})}},{key:"insertAt",value:function(t,e,r){if(null!=r)return m(w(n.prototype),"insertAt",this).call(this,t,e,r),void(this.cache={});if(0!==e.length){var i=e.split("\n"),o=i.shift();o.length>0&&(t<this.length()-1||null==this.children.tail?m(w(n.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var a=this;i.reduce((function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length}),t+o.length)}}},{key:"insertBefore",value:function(t,e){var r=this.children.head;m(w(n.prototype),"insertBefore",this).call(this,t,e),r instanceof a.a&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=m(w(n.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,e){m(w(n.prototype),"moveChildren",this).call(this,t,e),this.cache={}}},{key:"optimize",value:function(t){m(w(n.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return m(w(n.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){m(w(n.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=m(w(n.prototype),"split",this).call(this,t,e);return this.cache={},i}}]),n}(o.BlockBlot);E.blotName="block",E.tagName="P",E.defaultChild=a.a,E.allowedChildren=[a.a,s.a,o.EmbedBlot,u.a];var T=function(t){y(n,t);var e=b(n);function n(){return d(this,n),e.apply(this,arguments)}return g(n,[{key:"attach",value:function(){m(w(n.prototype),"attach",this).call(this),this.attributes=new o.AttributorStore(this.domNode)}},{key:"delta",value:function(){return(new i.a).insert(this.value(),f(f({},this.formats()),this.attributes.values()))}},{key:"format",value:function(t,e){var n=this.scroll.query(t,o.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,e,r){if("string"==typeof e&&e.endsWith("\n")){var i=this.scroll.create(E.blotName);this.parent.insertBefore(i,0===t?this:this.next),i.insertAt(0,e.slice(0,-1))}else m(w(n.prototype),"insertAt",this).call(this,t,e,r)}}]),n}(o.EmbedBlot);function x(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.descendants(o.LeafBlot).reduce((function(t,n){return 0===n.length()?t:t.insert(n.value(),A(n,{},e))}),new i.a).insert("\n",A(t))}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==t?e:("function"==typeof t.formats&&(e=f(f({},e),t.formats()),n&&delete e["code-token"]),null==t.parent||"scroll"===t.parent.statics.blotName||t.parent.statics.scope!==t.statics.scope?e:A(t.parent,e,n))}T.scope=o.Scope.BLOCK_BLOT},function(t,e,n){"use strict";var r=n(10),i=n.n(r),o=n(18),a=n.n(o),s=n(17),u=n.n(s),c=n(1),l=n.n(c),f=n(2),h=n(6),d=n(16),p=n(4),g=n(8),m=n(7);function y(t){return _(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||A(t)||x()}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function T(t,e){return _(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||A(t,e)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t){if(Array.isArray(t))return t}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var R=/^[ -~]*$/,C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}var e,n,r;return e=t,n=[{key:"applyDelta",value:function(t){var e=this;this.scroll.update();var n=this.scroll.length();this.scroll.batchStart();var r=function(t){return t.reduce((function(t,e){if("string"==typeof e.insert){var n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)}),new l.a)}(t),i=new l.a;return r.reduce((function(t,r){var o=c.Op.length(r),a=r.attributes||{},s=!1;if(null!=r.insert){if(i.retain(o),"string"==typeof r.insert){var l=r.insert;s=!l.endsWith("\n")&&(n<=t||e.scroll.descendant(p.a,t)[0]),e.scroll.insertAt(t,l);var h=T(e.scroll.line(t),2),d=h[0],g=h[1],m=u()({},Object(p.c)(d));if(d instanceof p.d){var y=T(d.descendant(f.LeafBlot,g),1)[0];m=u()(m,Object(p.c)(y))}a=c.AttributeMap.diff(m,a)||{}}else if("object"===E(r.insert)){var v=Object.keys(r.insert)[0];if(null==v)return t;s=null!=e.scroll.query(v,f.Scope.INLINE)&&(n<=t||e.scroll.descendant(p.a,t)[0]),e.scroll.insertAt(t,v,r.insert[v])}n+=o}else i.push(r);Object.keys(a).forEach((function(n){e.scroll.formatAt(t,o,n,a[n])}));var b=s?1:0;return n+=b,i.delete(b),t+o+b}),0),i.reduce((function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+c.Op.length(n)}),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new l.a).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach((function(i){n.scroll.lines(t,Math.max(e,1)).forEach((function(t){t.format(i,r[i])}))})),this.scroll.optimize();var o=(new l.a).retain(t).retain(e,i()(r));return this.update(o)}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((function(i){n.scroll.formatAt(t,e,i,r[i])}));var o=(new l.a).retain(t).retain(e,i()(r));return this.update(o)}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new l.a)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){var e=T(t,1)[0];e instanceof p.d?n.push(e):e instanceof f.LeafBlot&&r.push(e)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(f.LeafBlot,t,e));var i=T([n,r].map((function(t){if(0===t.length)return{};for(var e=Object(p.c)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=I(Object(p.c)(n),e)}return e})),2);return n=i[0],r=i[1],b(b({},n),r)}},{key:"getHTML",value:function(t,e){var n=T(this.scroll.line(t),2),r=n[0],i=n[1];return r.length()>=i+e?N(r,i,e,!0):N(this.scroll,t,e,!0)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new l.a).retain(t).insert(w({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach((function(i){n.scroll.formatAt(t,e.length,i,r[i])})),this.update((new l.a).retain(t).insert(e,i()(r)))}},{key:"isBlank",value:function(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===p.d.blotName&&!(t.children.length>1)&&t.children.head instanceof g.a}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=T(this.scroll.line(t+e),2),i=r[0],o=r[1],a=0,s=new l.a;null!=i&&(a=i.length()-o,s=i.delta().slice(o,o+a-1).insert("\n"));var u=this.getContents(t,e+a).diff((new l.a).insert(n).concat(s)),c=(new l.a).retain(t).concat(u);return this.applyDelta(c)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(R)&&this.scroll.find(e[0].target)){var i=this.scroll.find(e[0].target),o=Object(p.c)(i),s=i.offset(this.scroll),u=e[0].oldValue.replace(d.a.CONTENTS,""),c=(new l.a).insert(u),f=(new l.a).insert(i.value()),h=n&&{oldRange:L(n.oldRange,-s),newRange:L(n.newRange,-s)};t=(new l.a).retain(s).concat(c.diff(f,h)).reduce((function(t,e){return e.insert?t.insert(e.insert,o):t.push(e)}),new l.a),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&a()(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}],n&&O(e.prototype,n),r&&O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t,e,n){if(0===t.length){var r=T(P(n.pop()),1)[0];return e<=0?"</li></".concat(r,">"):"</li></".concat(r,">").concat(k([],e-1,n))}var i=y(t),o=i[0],a=o.child,s=o.offset,u=o.length,c=o.indent,l=o.type,f=i.slice(1),h=T(P(l),2),d=h[0],p=h[1];if(c>e)return n.push(l),c===e+1?"<".concat(d,"><li").concat(p,">").concat(N(a,s,u)).concat(k(f,c,n)):"<".concat(d,"><li>").concat(k(t,e+1,n));var g=n[n.length-1];if(c===e&&l===g)return"</li><li".concat(p,">").concat(N(a,s,u)).concat(k(f,c,n));var m=T(P(n.pop()),1)[0];return"</li></".concat(m,">").concat(k(t,e-1,n))}function N(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"==typeof t.html)return t.html(e,n);if(t instanceof m.a)return Object(m.b)(t.value().slice(e,e+n));if(t.children){if("list-container"===t.statics.blotName){var i=[];return t.children.forEachAt(e,n,(function(t,e,n){var r=t.formats();i.push({child:t,offset:e,length:n,indent:r.indent||(r["list-level"]?r["list-level"]-1:0),type:r.list})})),k(i,-1,[])}var o=[];if(t.children.forEachAt(e,n,(function(t,e,n){o.push(N(t,e,n))})),r||"list"===t.statics.blotName)return o.join("");var a=t.domNode,s=a.outerHTML,u=a.innerHTML,c=T(s.split(">".concat(u,"<")),2),l=c[0],f=c[1];return"<table"===l?'<table style="border: 1px solid #000;">'.concat(o.join(""),"<").concat(f):"".concat(l,">").concat(o.join(""),"<").concat(f)}return t.domNode.outerHTML}function I(t,e){return Object.keys(e).reduce((function(n,r){return null==t[r]||(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]]),n}),{})}function P(t){var e="ordered"===t?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function L(t,e){var n=t.index,r=t.length;return new h.a(n+e,r)}e.a=C},function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return b}));var r=n(2),i=n(10),o=n.n(i),a=n(18),s=n.n(a),u=n(3),c=n(11);function l(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=Object(c.a)("quill:selection"),v=g((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m(this,t),this.index=e,this.length=n})),b=function(){function t(e,n){var r=this;m(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new v(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,u.a.sources.USER),1)})),this.emitter.on(u.a.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(u.a.events.SCROLL_UPDATE,(function(){try{r.root.contains(t.start.node)&&r.root.contains(t.end.node)&&r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset),r.update(u.a.sources.SILENT)}catch(e){}}))}})),this.emitter.on(u.a.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,i=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(i,o,a,s),r.update(u.a.sources.SILENT)}})),this.update(u.a.sources.SILENT)}return g(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(u.a.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(t,r.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=this.scroll.find(n.start.node,!1);if(null==i)return;if(i instanceof r.LeafBlot){var o=i.split(n.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();t=Math.min(t,r-1),n=Math.min(t+n,r-1)-t;var i=f(this.scroll.leaf(t),2),o=i[0],a=i[1];if(null==o)return null;var s=f(o.position(a,!0),2);e=s[0],a=s[1];var u=document.createRange();if(n>0){u.setStart(e,a);var c=f(this.scroll.leaf(t+n),2);if(o=c[0],a=c[1],null==o)return null;var l=f(o.position(a,!0),2);return e=l[0],a=l[1],u.setEnd(e,a),u.getBoundingClientRect()}var h,d="left";if(e instanceof Text){if(!e.data.length)return null;a<e.data.length?(u.setStart(e,a),u.setEnd(e,a+1)):(u.setStart(e,a-1),u.setEnd(e,a),d="right"),h=u.getBoundingClientRect()}else h=o.domNode.getBoundingClientRect(),a>0&&(d="right");return{bottom:h.top+h.height,height:h.height,left:h[d],right:h[d],top:h.top,width:0}}},{key:"getNativeRange",value:function(){var t,e=document.getSelection();if(null==e||e.rangeCount<=0)return null;try{t=e.getRangeAt(0)}catch(r){return null}if(null==t)return null;var n=this.normalizeNative(t);return y.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||w(this.scroll,document.activeElement)}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var i=n.map((function(t){var n=f(t,2),i=n[0],o=n[1],a=e.scroll.find(i,!0),s=a.offset(e.scroll);return 0===o?s:a instanceof r.ContainerBlot?s+a.length():s+a.index(i,o)})),o=Math.min(Math.max.apply(Math,l(i)),this.scroll.length()-1),a=Math.min.apply(Math,[o].concat(l(i)));return new v(a,o-a)}},{key:"normalizeNative",value:function(t){if(!w(this.scroll,t.startContainer)||!t.collapsed&&!w(this.scroll,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length>0?e.childNodes.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],r=[],i=this.scroll.length();return n.forEach((function(t,n){t=Math.min(i-1,t);var o=f(e.scroll.leaf(t),2),a=o[0],s=o[1],u=f(a.position(s,0!==n),2),c=u[0],l=u[1];r.push(c,l)})),r.length<2?r.concat(r):r}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var r=this.scroll.length()-1,i=f(this.scroll.line(Math.min(e.index,r)),1)[0],o=i;if(e.length>0&&(o=f(this.scroll.line(Math.min(e.index+e.length,r)),1)[0]),null!=i&&null!=o){var a=t.getBoundingClientRect();n.top<a.top?t.scrollTop-=a.top-n.top:n.bottom>a.bottom&&(t.scrollTop+=n.bottom-a.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(y.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||i||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"===t.tagName&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),"BR"===n.tagName&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(n,r),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a.sources.API;if("string"==typeof e&&(n=e,e=!1),y.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,l(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.sources.USER,e=this.lastRange,n=f(this.getRange(),2),r=n[0],i=n[1];if(this.lastRange=r,this.lastNative=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!s()(e,this.lastRange)){var a;if(!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode){var c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}var l,h=[u.a.events.SELECTION_CHANGE,o()(this.lastRange),o()(e),t];(a=this.emitter).emit.apply(a,[u.a.events.EDITOR_CHANGE].concat(h)),t!==u.a.sources.SILENT&&(l=this.emitter).emit.apply(l,h)}}}]),t}();function w(t,e){try{e.parentNode}catch(r){return!1}if(!t.domNode.contains(e))return!1;var n=t.registry.find(e,!0);return n&&n.scroll===t}},function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c}));var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,t);var e,n,r,s=a(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),s.apply(this,arguments)}return e=u,n&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(n(2).TextBlot);function c(t){return t.replace(/[&<>"']/g,(function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t]}))}},function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,t);var e,n,r,s=a(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),s.apply(this,arguments)}return e=u,r=[{key:"value",value:function(){}}],(n=[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(2).EmbedBlot);u.blotName="break",u.tagName="BR",e.a=u},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=i((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n}));o.DEFAULTS={},e.a=o},function(t,e,n){(function(t,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",f="[object Number]",h="[object Object]",d="[object Promise]",p="[object RegExp]",g="[object Set]",m="[object String]",y="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",S="[object Int32Array]",_="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",C="[object Uint32Array]",k=/\w*$/,N=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,P={};P[o]=P["[object Array]"]=P[b]=P[w]=P[a]=P[s]=P[E]=P[T]=P[x]=P[A]=P[S]=P[l]=P[f]=P[h]=P[p]=P[g]=P[m]=P[y]=P[_]=P[O]=P[R]=P[C]=!0,P["[object Error]"]=P[u]=P[v]=!1;var L="object"==typeof t&&t&&t.Object===Object&&t,M="object"==typeof self&&self&&self.Object===Object&&self,j=L||M||Function("return this")(),D=e&&!e.nodeType&&e,B=D&&"object"==typeof n&&n&&!n.nodeType&&n,U=B&&B.exports===D;function F(t,e){return t.set(e[0],e[1]),t}function H(t,e){return t.add(e),t}function V(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function G(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function q(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function z(t,e){return function(n){return t(e(n))}}function K(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var W,X=Array.prototype,Y=Function.prototype,Z=Object.prototype,$=j["__core-js_shared__"],J=(W=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Q=Y.toString,tt=Z.hasOwnProperty,et=Z.toString,nt=RegExp("^"+Q.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=U?j.Buffer:void 0,it=j.Symbol,ot=j.Uint8Array,at=z(Object.getPrototypeOf,Object),st=Object.create,ut=Z.propertyIsEnumerable,ct=X.splice,lt=Object.getOwnPropertySymbols,ft=rt?rt.isBuffer:void 0,ht=z(Object.keys,Object),dt=Bt(j,"DataView"),pt=Bt(j,"Map"),gt=Bt(j,"Promise"),mt=Bt(j,"Set"),yt=Bt(j,"WeakMap"),vt=Bt(Object,"create"),bt=Gt(dt),wt=Gt(pt),Et=Gt(gt),Tt=Gt(mt),xt=Gt(yt),At=it?it.prototype:void 0,St=At?At.valueOf:void 0;function _t(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){this.__data__=new Ot(t)}function kt(t,e){var n=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Kt(t)}(t)&&tt.call(t,"callee")&&(!ut.call(t,"callee")||et.call(t)==o)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var a in t)!e&&!tt.call(t,a)||i&&("length"==a||Ht(a,r))||n.push(a);return n}function Nt(t,e,n){var r=t[e];tt.call(t,e)&&qt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function It(t,e){for(var n=t.length;n--;)if(qt(t[n][0],e))return n;return-1}function Pt(t,e,n,r,i,d,v){var N;if(r&&(N=d?r(t,i,d,v):r(t)),void 0!==N)return N;if(!Yt(t))return t;var I=zt(t);if(I){if(N=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&tt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,N)}else{var L=Ft(t),M=L==u||L==c;if(Wt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(L==h||L==o||M&&!d){if(G(t))return d?t:{};if(N=function(t){return"function"!=typeof t.constructor||Vt(t)?{}:Yt(e=at(t))?st(e):{};var e}(M?{}:t),!e)return function(t,e){return jt(t,Ut(t),e)}(t,function(t,e){return t&&jt(e,Zt(e),t)}(N,t))}else{if(!P[L])return d?t:{};N=function(t,e,n,r){var i,o=t.constructor;switch(e){case b:return Mt(t);case a:case s:return new o(+t);case w:return function(t,e){var n=e?Mt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case E:case T:case x:case A:case S:case _:case O:case R:case C:return function(t,e){var n=e?Mt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case l:return function(t,e,n){var r=e?n(q(t),!0):q(t);return V(r,F,new t.constructor)}(t,r,n);case f:case m:return new o(t);case p:return function(t){var e=new t.constructor(t.source,k.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return function(t,e,n){var r=e?n(K(t),!0):K(t);return V(r,H,new t.constructor)}(t,r,n);case y:return i=t,St?Object(St.call(i)):{}}}(t,L,Pt,e)}}v||(v=new Ct);var j=v.get(t);if(j)return j;if(v.set(t,N),!I)var D=n?function(t){return function(t,e,n){var r=e(t);return zt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Zt,Ut)}(t):Zt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(D||t,(function(i,o){D&&(i=t[o=i]),Nt(N,o,Pt(i,e,n,r,o,t,v))})),N}function Lt(t){return!(!Yt(t)||(e=t,J&&J in e))&&(Xt(t)||G(t)?nt:N).test(Gt(t));var e}function Mt(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e}function jt(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;Nt(n,a,void 0===s?t[a]:s)}return n}function Dt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Bt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Lt(n)?n:void 0}_t.prototype.clear=function(){this.__data__=vt?vt(null):{}},_t.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},_t.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===r?void 0:n}return tt.call(e,t)?e[t]:void 0},_t.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:tt.call(e,t)},_t.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?r:e,this},Ot.prototype.clear=function(){this.__data__=[]},Ot.prototype.delete=function(t){var e=this.__data__,n=It(e,t);return!(n<0||(n==e.length-1?e.pop():ct.call(e,n,1),0))},Ot.prototype.get=function(t){var e=this.__data__,n=It(e,t);return n<0?void 0:e[n][1]},Ot.prototype.has=function(t){return It(this.__data__,t)>-1},Ot.prototype.set=function(t,e){var n=this.__data__,r=It(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Rt.prototype.clear=function(){this.__data__={hash:new _t,map:new(pt||Ot),string:new _t}},Rt.prototype.delete=function(t){return Dt(this,t).delete(t)},Rt.prototype.get=function(t){return Dt(this,t).get(t)},Rt.prototype.has=function(t){return Dt(this,t).has(t)},Rt.prototype.set=function(t,e){return Dt(this,t).set(t,e),this},Ct.prototype.clear=function(){this.__data__=new Ot},Ct.prototype.delete=function(t){return this.__data__.delete(t)},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ot){var r=n.__data__;if(!pt||r.length<199)return r.push([t,e]),this;n=this.__data__=new Rt(r)}return n.set(t,e),this};var Ut=lt?z(lt,Object):function(){return[]},Ft=function(t){return et.call(t)};function Ht(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||I.test(t))&&t>-1&&t%1==0&&t<e}function Vt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Z)}function Gt(t){if(null!=t){try{return Q.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function qt(t,e){return t===e||t!=t&&e!=e}(dt&&Ft(new dt(new ArrayBuffer(1)))!=w||pt&&Ft(new pt)!=l||gt&&Ft(gt.resolve())!=d||mt&&Ft(new mt)!=g||yt&&Ft(new yt)!=v)&&(Ft=function(t){var e=et.call(t),n=e==h?t.constructor:void 0,r=n?Gt(n):void 0;if(r)switch(r){case bt:return w;case wt:return l;case Et:return d;case Tt:return g;case xt:return v}return e});var zt=Array.isArray;function Kt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Xt(t)}var Wt=ft||function(){return!1};function Xt(t){var e=Yt(t)?et.call(t):"";return e==u||e==c}function Yt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Zt(t){return Kt(t)?kt(t):function(t){if(!Vt(t))return ht(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return Pt(t,!0,!0)}}).call(this,n(39),n(40)(t))},function(t,e,n){"use strict";var r=["error","warn","log","info"],i="warn";function o(t){if(r.indexOf(t)<=r.indexOf(i)){for(var e,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(e=console)[t].apply(e,o)}}function a(t){return r.reduce((function(e,n){return e[n]=o.bind(console,n,t),e}),{})}a.level=function(t){i=t},o.level=a.level,e.a=a},function(t,e,n){"use strict";var r=n(2),i=n(8),o=n(7);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},u.apply(this,arguments)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(a,t);var e,n,i,o=l(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return e=a,i=[{key:"compare",value:function(t,e){var n=a.order.indexOf(t),r=a.order.indexOf(e);return n>=0||r>=0?n-r:t===e?0:t<e?-1:1}}],(n=[{key:"formatAt",value:function(t,e,n,i){if(a.compare(this.statics.blotName,n)<0&&this.scroll.query(n,r.Scope.BLOT)){var o=this.isolate(t,e);i&&o.wrap(n,i)}else u(f(a.prototype),"formatAt",this).call(this,t,e,n,i)}},{key:"optimize",value:function(t){if(u(f(a.prototype),"optimize",this).call(this,t),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.InlineBlot);h.allowedChildren=[h,i.a,r.EmbedBlot,o.a],h.order=["cursor","inline","link","underline","strike","italic","bold","script","code"],e.a=h},function(t,e,n){"use strict";n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return w}));var r=n(4),i=n(8),o=n(16),a=n(12),s=n(7),u=n(15),c=n(0);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},p.apply(this,arguments)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var b=function(t){g(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return d(n,[{key:"code",value:function(t,e){return this.children.map((function(t){return t.length()<=1?"":t.domNode.innerText})).join("\n").slice(t,t+e)}},{key:"html",value:function(t,e){return"<pre>\n".concat(Object(s.b)(this.code(t,e)),"\n</pre>")}}],[{key:"create",value:function(t){var e=p(v(n),"create",this).call(this,t);return e.setAttribute("spellcheck",!1),e}}]),n}(u.a),w=function(t){g(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return d(n,null,[{key:"register",value:function(){c.a.register(b)}}]),n}(r.d),E=function(t){g(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return d(n)}(a.a);E.blotName="code",E.tagName="CODE",w.blotName="code-block",w.className="ql-code-block",w.tagName="DIV",b.blotName="code-block-container",b.className="ql-code-block-container",b.tagName="DIV",b.allowedChildren=[w],w.allowedChildren=[s.a,i.a,o.a],w.requiredContainer=b,w.TAB="  "},function(t,e,n){"use strict";var r=n(2),i=n(3),o=n(4),a=n(8),s=n(15),u=n(32);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},d.apply(this,arguments)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function y(t){return t instanceof o.d||t instanceof o.a}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(f,t);var e,n,s,c=g(f);function f(t,e,n){var r,i=n.emitter;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(r=c.call(this,t,e)).defaultUpdateAttributes=void 0,r.emitter=i,r.optimize(),r.enable(),r.domNode.addEventListener("dragstart",(function(t){return r.handleDragStart(t)})),r}return e=f,n=[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"emitMount",value:function(t){this.emitter.emit(i.a.events.SCROLL_BLOT_MOUNT,t)}},{key:"emitUnmount",value:function(t){this.emitter.emit(i.a.events.SCROLL_BLOT_UNMOUNT,t)}},{key:"deleteAt",value:function(t,e){var n=l(this.line(t),2),r=n[0],i=n[1],s=l(this.line(t+e),1)[0];if(d(m(f.prototype),"deleteAt",this).call(this,t,e),null!=s&&r!==s&&i>0){if(r instanceof o.a||s instanceof o.a)return void this.optimize();var u=s.children.head instanceof a.a?null:s.children.head;r.moveChildren(s,u),r.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,e,n,r){d(m(f.prototype),"formatAt",this).call(this,t,e,n,r),this.optimize()}},{key:"handleDragStart",value:function(t){t.preventDefault()}},{key:"insertAt",value:function(t,e,n){if(t>=this.length())if(null==n||null==this.scroll.query(e,r.Scope.BLOCK)){var i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),null==n&&e.endsWith("\n")?i.insertAt(0,e.slice(0,-1),n):i.insertAt(0,e,n)}else{var o=this.scroll.create(e,n);this.appendChild(o)}else d(m(f.prototype),"insertAt",this).call(this,t,e,n);this.optimize()}},{key:"insertBefore",value:function(t,e){if(t.statics.scope===r.Scope.INLINE_BLOT){var n=this.scroll.create(this.statics.defaultChild.blotName);if(n.appendChild(t),d(m(f.prototype),"insertBefore",this).call(this,n,e),null==this.defaultUpdateAttributes)return;var i=this.defaultUpdateAttributes,o=i.paraAttributes,a=i.charAttributes,s=t.domNode;s.nodeType===Node.TEXT_NODE&&Object.entries(a).forEach((function(t){var e=l(t,2),r=e[0],i=e[1];return n.formatAt(0,s.length,r,i)})),Object.entries(o).forEach((function(t){var e=l(t,2),r=e[0],i=e[1];return n.format(r,i)}))}else d(m(f.prototype),"insertBefore",this).call(this,t,e)}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(t){var e=this.path(t).pop();return e&&e[0]instanceof r.LeafBlot?e:[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(y,t)}},{key:"lines",value:function(){return function t(e,n,i){var o=[],a=i;return e.children.forEachAt(n,i,(function(e,n,i){y(e)?o.push(e):e instanceof r.ContainerBlot&&(o=o.concat(t(e,n,a))),a-=i})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(d(m(f.prototype),"optimize",this).call(this,t,e),t.length>0&&this.emitter.emit(i.a.events.SCROLL_OPTIMIZE,t,e))}},{key:"path",value:function(t){return d(m(f.prototype),"path",this).call(this,t).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(t){var e=this;if(!0!==this.batch){var n=i.a.sources.USER;if("string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter((function(t){var n=t.target,r=e.find(n,!0);return r&&r.scroll===e})),1===t.length&&"childList"===t[0].type&&1===t[0].removedNodes.length&&t[0].removedNodes[0].tagName===u.b.tagName&&0===t[0].target.childElementCount){var r=t[0],a=this.registry.find(r.target);if(a instanceof u.a){var s=r.removedNodes[0].cloneNode(!1),c=this.scroll.create(s);return a.appendChild(c),void a.deleteAt(0,c.length())}}t.length>0&&this.emitter.emit(i.a.events.SCROLL_BEFORE_UPDATE,n,t);var l,h=0===this.domNode.childElementCount,p=1===this.domNode.childElementCount&&"BR"===this.domNode.firstElementChild.tagName;if((h||p)&&(l=t.find((function(t){return"childList"===t.type&&t.target===e.domNode&&t.removedNodes.length>0}))),l){var g,y=l.removedNodes[0],v=this.registry.find(y);v&&(v instanceof o.d?g=v.delta():v.children&&v.children.head instanceof o.d&&(g=v.children.head.delta()),g&&g.eachLine((function(t,n){var r=t.ops.length>0&&t.ops[0].attributes||{};return e.defaultUpdateAttributes={charAttributes:r,paraAttributes:n},!1})))}d(m(f.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(i.a.events.SCROLL_UPDATE,n,t,p&&this.defaultUpdateAttributes?this.defaultUpdateAttributes.charAttributes:null),this.defaultUpdateAttributes&&(this.defaultUpdateAttributes=void 0)}}}],n&&h(e.prototype,n),s&&h(e,s),Object.defineProperty(e,"prototype",{writable:!1}),f}(r.ScrollBlot);v.blotName="scroll",v.className="ql-editor",v.tagName="DIV",v.defaultChild=o.d,v.allowedChildren=[o.d,o.a,s.a],e.a=v},function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,t);var e,n,r,s=a(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),s.apply(this,arguments)}return e=u,n&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(n(2).ContainerBlot);e.a=u},function(t,e,n){"use strict";var r=n(2),i=n(7);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},s.apply(this,arguments)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(h,t);var e,n,o,f=c(h);function h(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(r=f.call(this,t,e)).selection=n,r.textNode=document.createTextNode(h.CONTENTS),r.domNode.appendChild(r.textNode),r.savedLength=0,r}return e=h,o=[{key:"value",value:function(){}}],(n=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,e){if(0===this.savedLength){for(var n=this,i=0;null!=n&&n.statics.scope!==r.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=h.CONTENTS.length,n.optimize(),n.formatAt(i,h.CONTENTS.length,t,e),this.savedLength=0)}else s(l(h.prototype),"format",this).call(this,t,e)}},{key:"index",value:function(t,e){return t===this.textNode?0:s(l(h.prototype),"index",this).call(this,t,e)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(l(h.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var t=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var e,n=this.prev instanceof i.a?this.prev:null,r=n?n.length():0,o=this.next instanceof i.a?this.next:null,a=o?o.text:"",s=this.textNode,u=s.data.split(h.CONTENTS).join("");s.data=h.CONTENTS;var c=!1;if(n)e=n,(u||o)&&(n.insertAt(n.length(),u+a),o&&o.remove());else if(o)e=o,o.insertAt(0,u);else{var l=document.createTextNode(u);e=this.scroll.create(l),this.parent.insertBefore(e,this),c=!0}if(this.remove(),t){var f=function(t,e){return n&&t===n.domNode?e:t===s?r+e-1:o&&t===o.domNode?r+u.length+e:null},d=f(t.start.node,t.start.offset),p=f(t.end.node,t.end.offset);if(c&&d===p&&0===d&&t.start.node===t.end.node&&t.start.node===s&&(p=d=e.domNode.data.length),null!==d&&null!==p)return{startNode:e.domNode,startOffset:d,endNode:e.domNode,endOffset:p}}return null}},{key:"update",value:function(t,e){var n=this,r=!1;if(t.forEach((function(t){t.target===n.textNode&&"characterData"===t.type?r=!0:t.target===n.domNode&&"childList"===t.type&&t.addedNodes.forEach((function(t){t.nodeType===Node.ELEMENT_NODE&&"BR"===t.tagName&&n.domNode.removeChild(t)}))})),r){var i=this.restore();i&&(e.range=i)}}},{key:"optimize",value:function(t){s(l(h.prototype),"optimize",this).call(this,t);for(var e=this.parent;e;){if("A"===e.domNode.tagName){this.savedLength=h.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}},{key:"value",value:function(){return""}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.EmbedBlot);f.blotName="cursor",f.className="ql-cursor",f.tagName="span",f.CONTENTS="\ufeff",e.a=f},function(t,e,n){(function(t,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Null]",l="[object Object]",f="[object Proxy]",h="[object Undefined]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[s]=g["[object Map]"]=g["[object Number]"]=g[l]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var m,y,v,b="object"==typeof t&&t&&t.Object===Object&&t,w="object"==typeof self&&self&&self.Object===Object&&self,E=b||w||Function("return this")(),T=e&&!e.nodeType&&e,x=T&&"object"==typeof n&&n&&!n.nodeType&&n,A=x&&x.exports===T,S=A&&b.process,_=function(){try{var t=x&&x.require&&x.require("util").types;return t||S&&S.binding&&S.binding("util")}catch(e){}}(),O=_&&_.isTypedArray,R=Array.prototype,C=Function.prototype,k=Object.prototype,N=E["__core-js_shared__"],I=C.toString,P=k.hasOwnProperty,L=(m=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",M=k.toString,j=I.call(Object),D=RegExp("^"+I.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=A?E.Buffer:void 0,U=E.Symbol,F=E.Uint8Array,H=B?B.allocUnsafe:void 0,V=(y=Object.getPrototypeOf,v=Object,function(t){return y(v(t))}),G=Object.create,q=k.propertyIsEnumerable,z=R.splice,K=U?U.toStringTag:void 0,W=function(){try{var t=bt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),X=B?B.isBuffer:void 0,Y=Math.max,Z=Date.now,$=bt(E,"Map"),J=bt(Object,"create"),Q=function(){function t(){}return function(e){if(!Nt(e))return{};if(G)return G(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rt(t){var e=this.__data__=new et(t);this.size=e.size}function it(t,e){var n=_t(t),r=!n&&St(t),i=!n&&!r&&Rt(t),o=!n&&!r&&!i&&Pt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var c in t)!e&&!P.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wt(c,u))||s.push(c);return s}function ot(t,e,n){(void 0!==n&&!At(t[e],n)||void 0===n&&!(e in t))&&ut(t,e,n)}function at(t,e,n){var r=t[e];P.call(t,e)&&At(r,n)&&(void 0!==n||e in t)||ut(t,e,n)}function st(t,e){for(var n=t.length;n--;)if(At(t[n][0],e))return n;return-1}function ut(t,e,n){"__proto__"==e&&W?W(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}tt.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},tt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},tt.prototype.get=function(t){var e=this.__data__;if(J){var n=e[t];return n===r?void 0:n}return P.call(e,t)?e[t]:void 0},tt.prototype.has=function(t){var e=this.__data__;return J?void 0!==e[t]:P.call(e,t)},tt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=J&&void 0===e?r:e,this},et.prototype.clear=function(){this.__data__=[],this.size=0},et.prototype.delete=function(t){var e=this.__data__,n=st(e,t);return!(n<0||(n==e.length-1?e.pop():z.call(e,n,1),--this.size,0))},et.prototype.get=function(t){var e=this.__data__,n=st(e,t);return n<0?void 0:e[n][1]},et.prototype.has=function(t){return st(this.__data__,t)>-1},et.prototype.set=function(t,e){var n=this.__data__,r=st(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},nt.prototype.clear=function(){this.size=0,this.__data__={hash:new tt,map:new($||et),string:new tt}},nt.prototype.delete=function(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e},nt.prototype.get=function(t){return vt(this,t).get(t)},nt.prototype.has=function(t){return vt(this,t).has(t)},nt.prototype.set=function(t,e){var n=vt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},rt.prototype.clear=function(){this.__data__=new et,this.size=0},rt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},rt.prototype.get=function(t){return this.__data__.get(t)},rt.prototype.has=function(t){return this.__data__.has(t)},rt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof et){var r=n.__data__;if(!$||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nt(r)}return n.set(t,e),this.size=n.size,this};var ct,lt=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[ct?a:++r];if(!1===e(i[s],s,i))break}return t};function ft(t){return null==t?void 0===t?h:c:K&&K in Object(t)?function(t){var e=P.call(t,K),n=t[K];try{t[K]=void 0;var r=!0}catch(o){}var i=M.call(t);return r&&(e?t[K]=n:delete t[K]),i}(t):function(t){return M.call(t)}(t)}function ht(t){return It(t)&&ft(t)==o}function dt(t){return!(!Nt(t)||function(t){return!!L&&L in t}(t))&&(Ct(t)?D:d).test(function(t){if(null!=t){try{return I.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t))}function pt(t){if(!Nt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Et(t),n=[];for(var r in t)("constructor"!=r||!e&&P.call(t,r))&&n.push(r);return n}function gt(t,e,n,r,i){t!==e&&lt(e,(function(o,a){if(i||(i=new rt),Nt(o))!function(t,e,n,r,i,o,a){var s=Tt(t,n),u=Tt(e,n),c=a.get(u);if(c)ot(t,n,c);else{var f,h,d,p,g,m=o?o(s,u,n+"",t,e,a):void 0,y=void 0===m;if(y){var v=_t(u),b=!v&&Rt(u),w=!v&&!b&&Pt(u);m=u,v||b||w?_t(s)?m=s:It(g=s)&&Ot(g)?m=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(s):b?(y=!1,m=function(t,e){if(e)return t.slice();var n=t.length,r=H?H(n):new t.constructor(n);return t.copy(r),r}(u,!0)):w?(y=!1,d=(f=u).buffer,p=new d.constructor(d.byteLength),new F(p).set(new F(d)),h=p,m=new f.constructor(h,f.byteOffset,f.length)):m=[]:function(t){if(!It(t)||ft(t)!=l)return!1;var e=V(t);if(null===e)return!0;var n=P.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==j}(u)||St(u)?(m=s,St(s)?m=function(t){return function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?ut(n,s,u):at(n,s,u)}return n}(t,Lt(t))}(s):Nt(s)&&!Ct(s)||(m=function(t){return"function"!=typeof t.constructor||Et(t)?{}:Q(V(t))}(u))):y=!1}y&&(a.set(u,m),i(m,u,r,o,a),a.delete(u)),ot(t,n,m)}}(t,e,a,n,gt,r,i);else{var s=r?r(Tt(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),ot(t,a,s)}}),Lt)}function mt(t,e){return xt(function(t,e,n){return e=Y(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Y(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}}(t,e,Dt),t+"")}var yt=W?function(t,e){return W(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Dt;function vt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function bt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return dt(n)?n:void 0}function wt(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&p.test(t))&&t>-1&&t%1==0&&t<e}function Et(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||k)}function Tt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var xt=function(t){var e=0,n=0;return function(){var r=Z(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(yt);function At(t,e){return t===e||t!=t&&e!=e}var St=ht(function(){return arguments}())?ht:function(t){return It(t)&&P.call(t,"callee")&&!q.call(t,"callee")},_t=Array.isArray;function Ot(t){return null!=t&&kt(t.length)&&!Ct(t)}var Rt=X||function(){return!1};function Ct(t){if(!Nt(t))return!1;var e=ft(t);return e==s||e==u||e==a||e==f}function kt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Nt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function It(t){return null!=t&&"object"==typeof t}var Pt=O?function(t){return function(e){return t(e)}}(O):function(t){return It(t)&&kt(t.length)&&!!g[ft(t)]};function Lt(t){return Ot(t)?it(t,!0):pt(t)}var Mt,jt=(Mt=function(t,e,n){gt(t,e,n)},mt((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=Mt.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!Nt(n))return!1;var r=typeof e;return!!("number"==r?Ot(n)&&wt(e,n.length):"string"==r&&e in n)&&At(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&Mt(t,a,n,i)}return t})));function Dt(t){return t}n.exports=jt}).call(this,n(39),n(40)(t))},function(t,e,n){(function(t,n){var r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",l="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",w="[object Proxy]",E="[object RegExp]",T="[object Set]",x="[object String]",A="[object Symbol]",S="[object Undefined]",_="[object WeakMap]",O="[object ArrayBuffer]",R="[object DataView]",C=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[s]=N[u]=N[O]=N[l]=N[R]=N[f]=N[h]=N[d]=N[g]=N[m]=N[v]=N[E]=N[T]=N[x]=N[_]=!1;var I="object"==typeof t&&t&&t.Object===Object&&t,P="object"==typeof self&&self&&self.Object===Object&&self,L=I||P||Function("return this")(),M=e&&!e.nodeType&&e,j=M&&"object"==typeof n&&n&&!n.nodeType&&n,D=j&&j.exports===M,B=D&&I.process,U=function(){try{return B&&B.binding&&B.binding("util")}catch(t){}}(),F=U&&U.isTypedArray;function H(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function V(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function G(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var q,z,K,W=Array.prototype,X=Function.prototype,Y=Object.prototype,Z=L["__core-js_shared__"],$=X.toString,J=Y.hasOwnProperty,Q=(q=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",tt=Y.toString,et=RegExp("^"+$.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=D?L.Buffer:void 0,rt=L.Symbol,it=L.Uint8Array,ot=Y.propertyIsEnumerable,at=W.splice,st=rt?rt.toStringTag:void 0,ut=Object.getOwnPropertySymbols,ct=nt?nt.isBuffer:void 0,lt=(z=Object.keys,K=Object,function(t){return z(K(t))}),ft=Ut(L,"DataView"),ht=Ut(L,"Map"),dt=Ut(L,"Promise"),pt=Ut(L,"Set"),gt=Ut(L,"WeakMap"),mt=Ut(Object,"create"),yt=Gt(ft),vt=Gt(ht),bt=Gt(dt),wt=Gt(pt),Et=Gt(gt),Tt=rt?rt.prototype:void 0,xt=Tt?Tt.valueOf:void 0;function At(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ot(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _t;++e<n;)this.add(t[e])}function Rt(t){var e=this.__data__=new St(t);this.size=e.size}function Ct(t,e){var n=Kt(t),r=!n&&zt(t),i=!n&&!r&&Wt(t),o=!n&&!r&&!i&&Jt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var c in t)!e&&!J.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Vt(c,u))||s.push(c);return s}function kt(t,e){for(var n=t.length;n--;)if(qt(t[n][0],e))return n;return-1}function Nt(t){return null==t?void 0===t?S:y:st&&st in Object(t)?function(t){var e=J.call(t,st),n=t[st];try{t[st]=void 0;var r=!0}catch(o){}var i=tt.call(t);return r&&(e?t[st]=n:delete t[st]),i}(t):function(t){return tt.call(t)}(t)}function It(t){return $t(t)&&Nt(t)==s}function Pt(t,e,n,r,a){return t===e||(null==t||null==e||!$t(t)&&!$t(e)?t!=t&&e!=e:function(t,e,n,r,a,c){var d=Kt(t),p=Kt(e),y=d?u:Ht(t),b=p?u:Ht(e),w=(y=y==s?v:y)==v,S=(b=b==s?v:b)==v,_=y==b;if(_&&Wt(t)){if(!Wt(e))return!1;d=!0,w=!1}if(_&&!w)return c||(c=new Rt),d||Jt(t)?jt(t,e,n,r,a,c):function(t,e,n,r,a,s,u){switch(n){case R:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!s(new it(t),new it(e)));case l:case f:case m:return qt(+t,+e);case h:return t.name==e.name&&t.message==e.message;case E:case x:return t==e+"";case g:var c=V;case T:var d=r&i;if(c||(c=G),t.size!=e.size&&!d)return!1;var p=u.get(t);if(p)return p==e;r|=o,u.set(t,e);var y=jt(c(t),c(e),r,a,s,u);return u.delete(t),y;case A:if(xt)return xt.call(t)==xt.call(e)}return!1}(t,e,y,n,r,a,c);if(!(n&i)){var C=w&&J.call(t,"__wrapped__"),k=S&&J.call(e,"__wrapped__");if(C||k){var N=C?t.value():t,I=k?e.value():e;return c||(c=new Rt),a(N,I,n,r,c)}}return!!_&&(c||(c=new Rt),function(t,e,n,r,o,a){var s=n&i,u=Dt(t),c=u.length,l=Dt(e),f=l.length;if(c!=f&&!s)return!1;for(var h=c;h--;){var d=u[h];if(!(s?d in e:J.call(e,d)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var g=!0;a.set(t,e),a.set(e,t);for(var m=s;++h<c;){var y=t[d=u[h]],v=e[d];if(r)var b=s?r(v,y,d,e,t,a):r(y,v,d,t,e,a);if(!(void 0===b?y===v||o(y,v,n,r,a):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=t.constructor,E=e.constructor;w==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,r,a,c))}(t,e,n,r,Pt,a))}function Lt(t){return!(!Zt(t)||function(t){return!!Q&&Q in t}(t))&&(Xt(t)?et:C).test(Gt(t))}function Mt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||Y,e!==r)return lt(t);var e,n,r,i=[];for(var o in Object(t))J.call(t,o)&&"constructor"!=o&&i.push(o);return i}function jt(t,e,n,r,a,s){var u=n&i,c=t.length,l=e.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(t);if(f&&s.get(e))return f==e;var h=-1,d=!0,p=n&o?new Ot:void 0;for(s.set(t,e),s.set(e,t);++h<c;){var g=t[h],m=e[h];if(r)var y=u?r(m,g,h,e,t,s):r(g,m,h,t,e,s);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!H(e,(function(t,e){if(i=e,!p.has(i)&&(g===t||a(g,t,n,r,s)))return p.push(e);var i}))){d=!1;break}}else if(g!==m&&!a(g,m,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Dt(t){return function(t,e,n){var r=e(t);return Kt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Qt,Ft)}function Bt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Ut(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Lt(n)?n:void 0}At.prototype.clear=function(){this.__data__=mt?mt(null):{},this.size=0},At.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},At.prototype.get=function(t){var e=this.__data__;if(mt){var n=e[t];return n===r?void 0:n}return J.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:J.call(e,t)},At.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mt&&void 0===e?r:e,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(t){var e=this.__data__,n=kt(e,t);return!(n<0||(n==e.length-1?e.pop():at.call(e,n,1),--this.size,0))},St.prototype.get=function(t){var e=this.__data__,n=kt(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return kt(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=kt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},_t.prototype.clear=function(){this.size=0,this.__data__={hash:new At,map:new(ht||St),string:new At}},_t.prototype.delete=function(t){var e=Bt(this,t).delete(t);return this.size-=e?1:0,e},_t.prototype.get=function(t){return Bt(this,t).get(t)},_t.prototype.has=function(t){return Bt(this,t).has(t)},_t.prototype.set=function(t,e){var n=Bt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ot.prototype.add=Ot.prototype.push=function(t){return this.__data__.set(t,r),this},Ot.prototype.has=function(t){return this.__data__.has(t)},Rt.prototype.clear=function(){this.__data__=new St,this.size=0},Rt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Rt.prototype.get=function(t){return this.__data__.get(t)},Rt.prototype.has=function(t){return this.__data__.has(t)},Rt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var r=n.__data__;if(!ht||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _t(r)}return n.set(t,e),this.size=n.size,this};var Ft=ut?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(ut(t),(function(e){return ot.call(t,e)})))}:function(){return[]},Ht=Nt;function Vt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function Gt(t){if(null!=t){try{return $.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function qt(t,e){return t===e||t!=t&&e!=e}(ft&&Ht(new ft(new ArrayBuffer(1)))!=R||ht&&Ht(new ht)!=g||dt&&Ht(dt.resolve())!=b||pt&&Ht(new pt)!=T||gt&&Ht(new gt)!=_)&&(Ht=function(t){var e=Nt(t),n=e==v?t.constructor:void 0,r=n?Gt(n):"";if(r)switch(r){case yt:return R;case vt:return g;case bt:return b;case wt:return T;case Et:return _}return e});var zt=It(function(){return arguments}())?It:function(t){return $t(t)&&J.call(t,"callee")&&!ot.call(t,"callee")},Kt=Array.isArray,Wt=ct||function(){return!1};function Xt(t){if(!Zt(t))return!1;var e=Nt(t);return e==d||e==p||e==c||e==w}function Yt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function Zt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function $t(t){return null!=t&&"object"==typeof t}var Jt=F?function(t){return function(e){return t(e)}}(F):function(t){return $t(t)&&Yt(t.length)&&!!N[Nt(t)]};function Qt(t){return null!=(e=t)&&Yt(e.length)&&!Xt(e)?Ct(t):Mt(t);var e}n.exports=function(t,e){return Pt(t,e)}}).call(this,n(39),n(40)(t))},function(t,e,n){"use strict";n.d(e,"b",(function(){return S})),n.d(e,"a",(function(){return A})),n.d(e,"d",(function(){return k})),n.d(e,"c",(function(){return N}));var r=n(10),i=n.n(r),o=n(18),a=n.n(o),s=n(1),u=n.n(s),c=n(2),l=n(0),f=n(11),h=n(9);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var x=Object(f.a)("quill:keyboard"),A=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(o,t);var e,n,r,i=E(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,t,e)).bindings={},Object.keys(n.options.bindings).forEach((function(t){n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:"Enter",shiftKey:null},n.handleEnter),n.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:"Backspace"},{collapsed:!0},n.handleBackspace),n.addBinding({key:"Delete"},{collapsed:!0},n.handleDelete)):(n.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},n.handleBackspace),n.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},n.handleDelete)),n.addBinding({key:"Backspace"},{collapsed:!1},n.handleDeleteRange),n.addBinding({key:"Delete"},{collapsed:!1},n.handleDeleteRange),n.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},n.handleBackspace),n.listen(),n}return e=o,n=[{key:"addBinding",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=k(t);null!=i?("function"==typeof n&&(n={handler:n}),"function"==typeof r&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach((function(t){var o=y(y(y({},i),{},{key:t},n),r);e.bindings[o.key]=e.bindings[o.key]||[],e.bindings[o.key].push(o)}))):x.warn("Attempted to add invalid keyboard binding",i)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(e){var n="Enter"===e.key&&229===e.which,r=e.isComposing||n;if(!e.defaultPrevented&&!r){var i=(t.bindings[e.key]||[]).concat(t.bindings[e.which]||[]).filter((function(t){return o.match(e,t)}));if(0!==i.length){var s=t.quill.getSelection();if(null!=s&&t.quill.hasFocus()){var u=p(t.quill.getLine(s.index),2),l=u[0],f=u[1],h=p(t.quill.getLeaf(s.index),2),g=h[0],m=h[1],y=p(0===s.length?[g,m]:t.quill.getLeaf(s.index+s.length),2),v=y[0],b=y[1],w=g instanceof c.TextBlot?g.value().slice(0,m):"",E=v instanceof c.TextBlot?v.value().slice(b):"",T={collapsed:0===s.length,empty:0===s.length&&l.length()<=1,format:t.quill.getFormat(s),line:l,offset:f,prefix:w,suffix:E,event:e};i.some((function(e){if(null!=e.collapsed&&e.collapsed!==T.collapsed)return!1;if(null!=e.empty&&e.empty!==T.empty)return!1;if(null!=e.offset&&e.offset!==T.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==T.format[t]})))return!1}else if("object"===d(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=T.format[t]:!1===e.format[t]?null==T.format[t]:a()(e.format[t],T.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(T.prefix)||null!=e.suffix&&!e.suffix.test(T.suffix)||!0===e.handler.call(t,s,T,e))}))&&e.preventDefault()}}}}))}},{key:"handleBackspace",value:function(t,e){var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(!(0===t.index||this.quill.getLength()<=1)){var r={},i=p(this.quill.getLine(t.index),1)[0],o=(new u.a).retain(t.index-n).delete(n);if(0===e.offset){var a=p(this.quill.getLine(t.index-1),1)[0];if(a&&!("block"===a.statics.blotName&&a.length()<=1)){var c=i.formats(),f=this.quill.getFormat(t.index-1,1);if(r=s.AttributeMap.diff(c,f)||{},Object.keys(r).length>0){var h=(new u.a).retain(t.index+i.length()-2).retain(1,r);o=o.compose(h)}}}this.quill.updateContents(o,l.a.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},i=p(this.quill.getLine(t.index),1)[0],o=(new u.a).retain(t.index).delete(n);if(e.offset>=i.length()-1){var a=p(this.quill.getLine(t.index+1),1)[0];if(a){var c=i.formats(),f=this.quill.getFormat(t.index,1);r=s.AttributeMap.diff(c,f)||{},Object.keys(r).length>0&&(o=o.retain(a.length()-1).retain(1,r))}}this.quill.updateContents(o,l.a.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(t){N({range:t,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(t,e){var n=this,r=Object.keys(e.format).reduce((function(t,r){return n.quill.scroll.query(r,c.Scope.BLOCK)&&!Array.isArray(e.format[r])&&(t[r]=e.format[r]),t}),{}),i=(new u.a).retain(t.index).delete(t.length).insert("\n",r);this.quill.updateContents(i,l.a.sources.USER),this.quill.setSelection(t.index+1,l.a.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==r[t]&&(Array.isArray(e.format[t])||"code"!==t&&"link"!==t&&n.quill.format(t,e.format[t],l.a.sources.USER))}))}}],r=[{key:"match",value:function(t,e){return!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&(e.key===t.key||e.key===t.which)}}],n&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(h.a);function _(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=this.quill.scroll.query("code-block"),r=0===e.length?this.quill.getLines(e.index,1):this.quill.getLines(e),i=e.index,o=e.length;r.forEach((function(e,r){t?(e.insertAt(0,n.TAB),0===r?i+=n.TAB.length:o+=n.TAB.length):e.domNode.textContent.startsWith(n.TAB)&&(e.deleteAt(0,n.TAB.length),0===r?i-=n.TAB.length:o-=n.TAB.length)})),this.quill.update(l.a.sources.USER),this.quill.setSelection(i,o,l.a.sources.SILENT)}}}function O(t,e){var n;return v(n={key:t,shiftKey:e,altKey:null},"ArrowLeft"===t?"prefix":"suffix",/^$/),v(n,"handler",(function(n){var r=n.index;return"ArrowRight"===t&&(r+=n.length+1),!(p(this.quill.getLeaf(r),1)[0]instanceof c.EmbedBlot&&("ArrowLeft"===t?e?this.quill.setSelection(n.index-1,n.length+1,l.a.sources.USER):this.quill.setSelection(n.index-1,l.a.sources.USER):e?this.quill.setSelection(n.index,n.length+1,l.a.sources.USER):this.quill.setSelection(n.index+n.length+1,l.a.sources.USER),1))})),n}function R(t){return{key:t[0],shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],l.a.sources.USER)}}}function C(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler:function(e,n){var r=t?"prev":"next",i=n.line,o=i.parent[r];if(null!=o){if("table-row"===o.statics.blotName){for(var a=o.children.head,s=i;null!=s.prev;)s=s.prev,a=a.next;var u=a.offset(this.quill.scroll)+Math.min(n.offset,a.length()-1);this.quill.setSelection(u,0,l.a.sources.USER)}}else{var c=i.table()[r];null!=c&&(t?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,l.a.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,l.a.sources.USER))}return!1}}}function k(t){if("string"==typeof t||"number"==typeof t)t={key:t};else{if("object"!==d(t))return null;t=i()(t)}return t.shortKey&&(t[A]=t.shortKey,delete t.shortKey),t}function N(t){var e=t.quill,n=t.range,r=e.getLines(n),i={};if(r.length>1){var o=r[0].formats(),a=r[r.length-1].formats();i=s.AttributeMap.diff(a,o)||{}}e.deleteText(n,l.a.sources.USER),Object.keys(i).length>0&&e.formatLine(n.index,1,i,l.a.sources.USER),e.setSelection(n.index,l.a.sources.SILENT)}S.DEFAULTS={bindings:{bold:R("bold"),italic:R("italic"),underline:R("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","+1",l.a.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","-1",l.a.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",l.a.sources.USER):null!=e.format.list&&this.quill.format("list",!1,l.a.sources.USER)}},"indent code-block":_(!0),"outdent code-block":_(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,l.a.sources.USER)}},tab:{key:"Tab",handler:function(t,e){if(e.format.table)return!0;this.quill.history.cutoff();var n=(new u.a).retain(t.index).delete(t.length).insert("\t");return this.quill.updateContents(n,l.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,l.a.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,l.a.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler:function(t,e){var n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,l.a.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler:function(t){var e=p(this.quill.getLine(t.index),2),n=e[0],r=e[1],i=y(y({},n.formats()),{},{list:"checked"}),o=(new u.a).retain(t.index).insert("\n",i).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,l.a.sources.USER),this.quill.setSelection(t.index+1,l.a.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=p(this.quill.getLine(t.index),2),r=n[0],i=n[1],o=(new u.a).retain(t.index).insert("\n",e.format).retain(r.length()-i-1).retain(1,{header:null});this.quill.updateContents(o,l.a.sources.USER),this.quill.setSelection(t.index+1,l.a.sources.SILENT),this.quill.scrollIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler:function(t){var e=this.quill.getModule("table");if(e){var n=p(e.getTable(t),4),r=n[0],i=function(t,e,n,r){return null==e.prev&&null==e.next?null==n.prev&&null==n.next?0===r?-1:1:null==n.prev?-1:1:null==e.prev?-1:null==e.next?1:null}(0,n[1],n[2],n[3]);if(null==i)return;var o=r.offset();if(i<0){var a=(new u.a).retain(o).insert("\n");this.quill.updateContents(a,l.a.sources.USER),this.quill.setSelection(t.index+1,t.length,l.a.sources.SILENT)}else if(i>0){o+=r.length();var s=(new u.a).retain(o).insert("\n");this.quill.updateContents(s,l.a.sources.USER),this.quill.setSelection(o,l.a.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler:function(t,e){var n=e.event,r=e.line,i=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,l.a.sources.USER):this.quill.setSelection(i+r.length(),l.a.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){if(null==this.quill.scroll.query("list"))return!0;var n,r=e.prefix.length,i=p(this.quill.getLine(t.index),2),o=i[0],a=i[1];if(a>r)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(t.index," ",l.a.sources.USER),this.quill.history.cutoff();var s=(new u.a).retain(t.index-a).delete(r+1).retain(o.length()-2-a).retain(1,{list:n});return this.quill.updateContents(s,l.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,l.a.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(t){for(var e=p(this.quill.getLine(t.index),2),n=e[0],r=e[1],i=2,o=n;null!=o&&o.length()<=1&&o.formats()["code-block"];)if(o=o.prev,(i-=1)<=0){var a=(new u.a).retain(t.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,l.a.sources.USER),this.quill.setSelection(t.index-1,l.a.sources.SILENT),!1}return!0}},"embed left":O("ArrowLeft",!1),"embed left shift":O("ArrowLeft",!0),"embed right":O("ArrowRight",!1),"embed right shift":O("ArrowRight",!0),"table down":C(!1),"table up":C(!0)}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/".concat(t));return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();i.DEFAULTS={modules:{}},i.themes={default:i},e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return h}));var r=n(2);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},a.apply(this,arguments)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,r,i=u(l);function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"value",value:function(t){var e=a(c(l.prototype),"value",this).call(this,t);if(!e.startsWith("rgb("))return e;e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var n=e.split(",").map((function(t){return"00".concat(parseInt(t,10).toString(16)).slice(-2)})).join("");return"#".concat(n)}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.StyleAttributor),f=new r.ClassAttributor("color","ql-color",{scope:r.Scope.INLINE}),h=new l("color","color",{scope:r.Scope.INLINE})},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var r=n(2),i={scope:r.Scope.BLOCK,whitelist:["rtl"]},o=new r.Attributor("direction","dir",i),a=new r.ClassAttributor("direction","ql-direction",i),s=new r.StyleAttributor("direction","direction",i)},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var r=n(2),i={scope:r.Scope.BLOCK,whitelist:["right","center","justify"]},o=new r.Attributor("align","align",i),a=new r.ClassAttributor("align","ql-align",i),s=new r.StyleAttributor("align","text-align",i)},function(t,e,n){"use strict";e.a=new WeakMap},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n(2),i=n(21),o=new r.ClassAttributor("background","ql-bg",{scope:r.Scope.INLINE}),a=new i.a("background","background-color",{scope:r.Scope.INLINE})},function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));var r=n(2);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},a.apply(this,arguments)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var l={scope:r.Scope.INLINE,whitelist:["serif","monospace"]},f=new r.ClassAttributor("font","ql-font",l),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,r,i=u(l);function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return e=l,(n=[{key:"value",value:function(t){return a(c(l.prototype),"value",this).call(this,t).replace(/["']/g,"")}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.StyleAttributor),d=new h("font","font-family",l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(2),i=new r.ClassAttributor("size","ql-size",{scope:r.Scope.INLINE,whitelist:["small","large","huge"]}),o=new r.StyleAttributor("size","font-size",{scope:r.Scope.INLINE,whitelist:["10px","18px","32px"]})},,function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return m}));var r=n(4),i=n(15),o=n(0);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},s.apply(this,arguments)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var g=function(t){f(n,t);var e=d(n);function n(){return l(this,n),e.apply(this,arguments)}return c(n)}(i.a);g.blotName="list-container",g.tagName="OL";var m=function(t){f(n,t);var e=d(n);function n(t,r){var i;l(this,n),i=e.call(this,t,r);var o=r.ownerDocument.createElement("span"),a=function(e){if(t.isEnabled()){var n=i.statics.formats(r,t);"checked"===n?(i.format("list","unchecked"),e.preventDefault()):"unchecked"===n&&(i.format("list","checked"),e.preventDefault())}};return o.addEventListener("mousedown",a),o.addEventListener("touchstart",a),i.attachUI(o),i}return c(n,[{key:"format",value:function(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):s(p(n.prototype),"format",this).call(this,t,e)}}],[{key:"create",value:function(t){var e=s(p(n),"create",this).call(this);return e.setAttribute("data-list",t),e}},{key:"formats",value:function(t){return t.getAttribute("data-list")||void 0}},{key:"register",value:function(){o.a.register(g)}}]),n}(r.d);m.blotName="list",m.tagName="LI",g.allowedChildren=[m],m.requiredContainer=g},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return d}));var r=n(2),i=n(0);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}(this,n)}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,r,o=u(l);function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,t,e)).lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.a.events.EDITOR_CHANGE,(function(t,e,r,o){t!==i.a.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==i.a.sources.USER?n.transform(e):n.record(e,r))})),n.quill.keyboard.addBinding({key:"z",shortKey:!0},n.undo.bind(c(n))),n.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},n.redo.bind(c(n))),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"y",shortKey:!0},n.redo.bind(c(n))),n.quill.root.addEventListener("beforeinput",(function(t){"historyUndo"===t.inputType?(n.undo(),t.preventDefault()):"historyRedo"===t.inputType&&(n.redo(),t.preventDefault())})),n}return e=l,(n=[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop(),r=this.quill.getContents(),o=n.invert(r);this.stack[e].push(o),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n,i.a.sources.USER),this.ignoreChange=!1;var a=d(this.quill.scroll,n);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=t.invert(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i)}else this.lastRecorded=r;0!==n.length()&&(this.stack.undo.push(n),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){h(this.stack.undo,t),h(this.stack.redo,t)}},{key:"undo",value:function(){this.change("undo","redo")}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(n(9).a);function h(t,e){for(var n=e,r=t.length-1;r>=0;r-=1){var i=t[r];t[r]=n.transform(i,!0),n=i.transform(n),0===t[r].length()&&t.splice(r,1)}}function d(t,e){var n=e.reduce((function(t,e){return t+(e.delete||0)}),0),i=e.length()-n;return function(t,e){var n=e.ops[e.ops.length-1];return null!=n&&(null!=n.insert?"string"==typeof n.insert&&n.insert.endsWith("\n"):null!=n.attributes&&Object.keys(n.attributes).some((function(e){return null!=t.query(e,r.Scope.BLOCK)})))}(t,e)&&(i-=1),i}f.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},,,function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(4),o=n(8),a=n(15),s=n(16),u=n(37),c=n(12),l=n(14),f=n(7),h=n(38),d=n(33),p=n(19),g=n(1),m=n.n(g),y=n(3);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(o,t);var e,n,r,i=E(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,t,e),t.root.addEventListener("drop",(function(e){var r;if(e.preventDefault(),document.caretRangeFromPoint)r=document.caretRangeFromPoint(e.clientX,e.clientY);else{if(!document.caretPositionFromPoint)return;var i=document.caretPositionFromPoint(e.clientX,e.clientY);(r=document.createRange()).setStart(i.offsetNode,i.offset),r.setEnd(i.offsetNode,i.offset)}var o=t.selection.normalizeNative(r),a=t.selection.normalizedToRange(o);n.upload(a,e.dataTransfer.files)})),n}return e=o,(n=[{key:"upload",value:function(t,e){var n=this,r=[];Array.from(e).forEach((function(t){t&&n.options.mimetypes.includes(t.type)&&r.push(t)})),r.length>0&&this.options.handler.call(this,t,r)}}])&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(n(9).a);x.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler:function(t,e){var n=this,r=e.map((function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}))}));Promise.all(r).then((function(e){var r=e.reduce((function(t,e){return t.insert({image:e})}),(new m.a).retain(t.index).delete(t.length));n.quill.updateContents(r,y.a.sources.USER),n.quill.setSelection(t.index+e.length,y.a.sources.SILENT)}))}};var A=x;r.a.register({"blots/block":i.d,"blots/block/embed":i.a,"blots/break":o.a,"blots/container":a.a,"blots/cursor":s.a,"blots/embed":u.a,"blots/inline":c.a,"blots/scroll":l.a,"blots/text":f.a,"modules/clipboard":h.a,"modules/history":d.a,"modules/keyboard":p.b,"modules/uploader":A}),e.default={Quill:r.a}},function(t,e,n){"use strict";var r=n(2),i=n(7);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},s.apply(this,arguments)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f="\ufeff",h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(h,t);var e,n,r,o=c(h);function h(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(n=o.call(this,t,e)).contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),Array.from(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(f),n.rightGuard=document.createTextNode(f),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return e=h,(n=[{key:"index",value:function(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:s(l(h.prototype),"index",this).call(this,t,e)}},{key:"restore",value:function(t){var e,n,r=t.data.split(f).join("");if(t===this.leftGuard)if(this.prev instanceof i.a){var o=this.prev.length();this.prev.insertAt(o,r),e={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof i.a?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data=f,e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}}))}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.EmbedBlot);e.a=h},function(t,e,n){"use strict";n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return U}));var r=n(1),i=n.n(r),o=n(2),a=n(4),s=n(0),u=n(11),c=n(9),l=n(24),f=n(28),h=n(13),d=n(21),p=n(22),g=n(29),m=n(30),y=n(19);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},S(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return O(t)}(this,n)}}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var C=Object(u.a)("quill:clipboard"),k=[[Node.TEXT_NODE,function(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&n.includes("\n"))return e;if(!B(t)){var r=function(t,e){var n=e.replace(/[^\u00a0]/g,"");return n.length<1&&t?" ":n};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&j(t.parentNode)||null!=t.previousSibling&&j(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&j(t.parentNode)||null!=t.nextSibling&&j(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return e.insert(n)}],[Node.TEXT_NODE,H],["br",function(t,e){return M(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,function(t,e,n){var r=n.query(t);if(null==r)return e;if(r.prototype instanceof o.EmbedBlot){var a={},s=r.value(t);if(null!=s)return a[r.blotName]=s,(new i.a).insert(a,r.formats(t,n))}else if(r.prototype instanceof o.BlockBlot&&!M(e,"\n")&&e.insert("\n"),"function"==typeof r.formats)return L(e,r.blotName,r.formats(t,n));return e}],[Node.ELEMENT_NODE,function(t,e,n){var r=o.Attributor.keys(t),i=o.ClassAttributor.keys(t),a=o.StyleAttributor.keys(t),s={};return r.concat(i).concat(a).forEach((function(e){var r=n.query(e,o.Scope.ATTRIBUTE);null!=r&&(s[r.attrName]=r.value(t),s[r.attrName])||(null==(r=N[e])||r.attrName!==e&&r.keyName!==e||(s[r.attrName]=r.value(t)||void 0),null==(r=I[e])||r.attrName!==e&&r.keyName!==e||(r=I[e],s[r.attrName]=r.value(t)||void 0))})),Object.keys(s).length>0?L(e,s):e}],[Node.ELEMENT_NODE,function(t,e){var n={},r=t.style||{};return"italic"===r.fontStyle&&(n.italic=!0),"underline"===r.textDecoration&&(n.underline=!0),"line-through"===r.textDecoration&&(n.strike=!0),(r.fontWeight.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=L(e,n)),parseFloat(r.textIndent||0)>0?(new i.a).insert("\t").concat(e):e}],["li",function(t,e,n){var r=n.query(t);if(null==r||"list"!==r.blotName||!M(e,"\n"))return e;for(var o=-1,a=t.parentNode;null!=a;)["OL","UL"].includes(a.tagName)&&(o+=1),a=a.parentNode;return o<=0?e:e.reduce((function(t,e){return e.attributes&&"number"==typeof e.attributes.indent?t.push(e):t.insert(e.insert,b({indent:o},e.attributes||{}))}),new i.a)}],["ol, ul",function(t,e){var n="OL"===t.tagName?"ordered":"bullet";return L(e,"list",n)}],["pre",function(t,e,n){var r=n.query("code-block"),i=!r||r.formats(t,n);return L(e,"code-block",i)}],["tr",function(t,e){var n="TABLE"===t.parentNode.tagName?t.parentNode:t.parentNode.parentNode,r=Array.from(n.querySelectorAll("tr")).indexOf(t)+1;return L(e,"table",r)}],["b",F.bind(F,"bold")],["i",F.bind(F,"italic")],["strike",F.bind(F,"strike")],["style",function(){return new i.a}]],N=[l.a,p.a].reduce((function(t,e){return t[e.keyName]=e,t}),{}),I=[l.c,f.b,d.c,p.c,g.b,m.b].reduce((function(t,e){return t[e.keyName]=e,t}),{}),P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(a,t);var e,n,r,o=_(a);function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,t,e)).quill.root.addEventListener("copy",(function(t){return n.onCaptureCopy(t,!1)})),n.quill.root.addEventListener("cut",(function(t){return n.onCaptureCopy(t,!0)})),n.quill.root.addEventListener("paste",n.onCapturePaste.bind(O(n))),n.matchers=[],k.concat(n.options.matchers).forEach((function(t){var e=T(t,2),r=e[0],i=e[1];n.addMatcher(r,i)})),n}return e=a,n=[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){var e=t.html,n=t.text,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[h.c.blotName])return(new i.a).insert(n,E({},h.c.blotName,r[h.c.blotName]));if(!e)return(new i.a).insert(n||"");var o=this.convertHTML(e);return M(o,"\n")&&(null==o.ops[o.ops.length-1].attributes||r.table)?o.compose((new i.a).retain(o.length()-1).delete(1)):o}},{key:"convertHTML",value:function(t){var e=(new DOMParser).parseFromString(t,"text/html").body,n=new WeakMap,r=T(this.prepareMatching(e,n),2),i=r[0],o=r[1];return U(this.quill.scroll,e,i,o,n)}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a.sources.API;if("string"==typeof t){var r=this.convert({html:t,text:""});this.quill.setContents(r,e),this.quill.setSelection(0,s.a.sources.SILENT)}else{var o=this.convert({html:e,text:""});this.quill.updateContents((new i.a).retain(t).concat(o),n),this.quill.setSelection(t+o.length(),s.a.sources.SILENT)}}},{key:"onCaptureCopy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.defaultPrevented){t.preventDefault();var n=T(this.quill.selection.getRange(),1)[0];if(null!=n){var r=this.onCopy(n,e),i=r.html,o=r.text;t.clipboardData.setData("text/plain",o),t.clipboardData.setData("text/html",i),e&&Object(y.c)({range:n,quill:this.quill})}}}},{key:"onCapturePaste",value:function(t){if(!t.defaultPrevented&&this.quill.isEnabled()){t.preventDefault();var e=this.quill.getSelection(!0);if(null!=e){var n=t.clipboardData.getData("text/html"),r=t.clipboardData.getData("text/plain"),i=Array.from(t.clipboardData.files||[]);if(!n&&i.length>0)this.quill.uploader.upload(e,i);else{if(n&&i.length>0){var o=(new DOMParser).parseFromString(n,"text/html");if(1===o.body.childElementCount&&"IMG"===o.body.firstElementChild.tagName)return void this.quill.uploader.upload(e,i)}this.onPaste(e,{html:n,text:r})}}}}},{key:"onCopy",value:function(t){var e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}},{key:"onPaste",value:function(t,e){var n=e.text,r=e.html,o=this.quill.getFormat(t.index),a=this.convert({text:n,html:r},o);C.log("onPaste",a,{text:n,html:r});var u=(new i.a).retain(t.index).delete(t.length).concat(a);this.quill.updateContents(u,s.a.sources.USER),this.quill.setSelection(u.length()-t.length,s.a.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(t,e){var n=[],r=[];return this.matchers.forEach((function(i){var o=T(i,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:r.push(s);break;case Node.ELEMENT_NODE:n.push(s);break;default:Array.from(t.querySelectorAll(a)).forEach((function(t){e.has(t)?e.get(t).push(s):e.set(t,[s])}))}})),[n,r]}}],n&&A(e.prototype,n),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(c.a);function L(t,e,n){return"object"===w(e)?Object.keys(e).reduce((function(t,n){return L(t,n,e[n])}),t):t.reduce((function(t,r){if(r.attributes&&r.attributes[e])return t.push(r);var i=n?E({},e,n):{};return t.insert(r.insert,b(b({},i),r.attributes))}),new i.a)}function M(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var i=t.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*e.length)===e}function j(t){return 0!==t.childNodes.length&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}P.DEFAULTS={matchers:[]};var D=new WeakMap;function B(t){return null!=t&&(D.has(t)||("PRE"===t.tagName?D.set(t,!0):D.set(t,B(t.parentNode))),D.get(t))}function U(t,e,n,r,o){return e.nodeType===e.TEXT_NODE?r.reduce((function(n,r){return r(e,n,t)}),new i.a):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((function(i,a){var s=U(t,a,n,r,o);return a.nodeType===e.ELEMENT_NODE&&(s=n.reduce((function(e,n){return n(a,e,t)}),s),s=(o.get(a)||[]).reduce((function(e,n){return n(a,e,t)}),s)),i.concat(s)}),new i.a):new i.a}function F(t,e,n){return L(n,t,!0)}function H(t,e,n){if(!M(e,"\n")){if(j(t))return e.insert("\n");if(e.length()>0&&t.nextSibling)for(var r=t.nextSibling;null!=r;){if(j(r))return e.insert("\n");var i=n.query(r);if(i&&i.prototype instanceof a.a)return e.insert("\n");r=r.firstChild}}return e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=r(n(52));!function(t){t.iterator=function(t){return new o.default(t)},t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}}(i||(i={})),e.default=i},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,i||t,a),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},u.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},u.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,void 0!==t&&(t.exports=u)},,,,,,,function(t,e){var n=-1,r=1,i=0;function o(t,e,l,f){if(t===e)return t?[[i,t]]:[];if(null!=l){var h=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=t.length,a=e.length;if(0===r.length&&(null===i||0===i.length)){var s=r.index,u=t.slice(0,s),c=t.slice(s),l=i?i.index:null,f=s+a-o;if((null===l||l===f)&&!(f<0||f>a)){var h=e.slice(0,f);if((m=e.slice(f))===c){var d=Math.min(s,f);if((v=u.slice(0,d))===(w=h.slice(0,d)))return p(v,u.slice(d),h.slice(d),c)}}if(null===l||l===s){var g=s,m=(h=e.slice(0,g),e.slice(g));if(h===u){var y=Math.min(o-g,a-g);if((b=c.slice(c.length-y))===(E=m.slice(m.length-y)))return p(u,c.slice(0,c.length-y),m.slice(0,m.length-y),b)}}}if(r.length>0&&i&&0===i.length){var v=t.slice(0,r.index),b=t.slice(r.index+r.length);if(!(a<(d=v.length)+(y=b.length))){var w=e.slice(0,d),E=e.slice(a-y);if(v===w&&b===E)return p(v,t.slice(d,o-y),e.slice(d,a-y),b)}}return null}(t,e,l);if(h)return h}var d=s(t,e),g=t.substring(0,d);d=u(t=t.substring(d),e=e.substring(d));var m=t.substring(t.length-d),y=function(t,e){var c;if(!t)return[[r,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,f=t.length>e.length?e:t,h=l.indexOf(f);if(-1!==h)return c=[[r,l.substring(0,h)],[i,f],[r,l.substring(h+f.length)]],t.length>e.length&&(c[0][0]=c[2][0]=n),c;if(1===f.length)return[[n,t],[r,e]];var d=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function i(t,e,n){for(var r,i,o,a,c=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";-1!==(l=e.indexOf(c,l+1));){var h=s(t.substring(n),e.substring(l)),d=u(t.substring(0,n),e.substring(0,l));f.length<d+h&&(f=e.substring(l-d,l)+e.substring(l,l+h),r=t.substring(0,n-d),i=t.substring(n+h),o=e.substring(0,l-d),a=e.substring(l+h))}return 2*f.length>=t.length?[r,i,o,a,f]:null}var o,a,c,l,f,h=i(n,r,Math.ceil(n.length/4)),d=i(n,r,Math.ceil(n.length/2));if(!h&&!d)return null;o=d?h&&h[4].length>d[4].length?h:d:h,t.length>e.length?(a=o[0],c=o[1],l=o[2],f=o[3]):(l=o[0],f=o[1],a=o[2],c=o[3]);var p=o[4];return[a,c,l,f,p]}(t,e);if(d){var p=d[0],g=d[1],m=d[2],y=d[3],v=d[4],b=o(p,m),w=o(g,y);return b.concat([[i,v]],w)}return function(t,e){for(var i=t.length,o=e.length,s=Math.ceil((i+o)/2),u=s,c=2*s,l=new Array(c),f=new Array(c),h=0;h<c;h++)l[h]=-1,f[h]=-1;l[u+1]=0,f[u+1]=0;for(var d=i-o,p=d%2!=0,g=0,m=0,y=0,v=0,b=0;b<s;b++){for(var w=-b+g;w<=b-m;w+=2){for(var E=u+w,T=(O=w===-b||w!==b&&l[E-1]<l[E+1]?l[E+1]:l[E-1]+1)-w;O<i&&T<o&&t.charAt(O)===e.charAt(T);)O++,T++;if(l[E]=O,O>i)m+=2;else if(T>o)g+=2;else if(p&&(S=u+d-w)>=0&&S<c&&-1!==f[S]&&O>=(A=i-f[S]))return a(t,e,O,T)}for(var x=-b+y;x<=b-v;x+=2){for(var A,S=u+x,_=(A=x===-b||x!==b&&f[S-1]<f[S+1]?f[S+1]:f[S-1]+1)-x;A<i&&_<o&&t.charAt(i-A-1)===e.charAt(o-_-1);)A++,_++;if(f[S]=A,A>i)v+=2;else if(_>o)y+=2;else if(!p){var O;if((E=u+d-x)>=0&&E<c&&-1!==l[E])if(T=u+(O=l[E])-E,O>=(A=i-A))return a(t,e,O,T)}}}return[[n,t],[r,e]]}(t,e)}(t=t.substring(0,t.length-d),e=e.substring(0,e.length-d));return g&&y.unshift([i,g]),m&&y.push([i,m]),c(y,f),y}function a(t,e,n,r){var i=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),u=e.substring(r),c=o(i,a),l=o(s,u);return c.concat(l)}function s(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return l(t.charCodeAt(i-1))&&i--,i}function u(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return f(t.charCodeAt(t.length-i))&&i--,i}function c(t,e){t.push([i,""]);for(var o,a=0,l=0,f=0,p="",g="";a<t.length;)if(a<t.length-1&&!t[a][1])t.splice(a,1);else switch(t[a][0]){case r:f++,g+=t[a][1],a++;break;case n:l++,p+=t[a][1],a++;break;case i:var m=a-f-l-1;if(e){if(m>=0&&d(t[m][1])){var y=t[m][1].slice(-1);if(t[m][1]=t[m][1].slice(0,-1),p=y+p,g=y+g,!t[m][1]){t.splice(m,1),a--;var v=m-1;t[v]&&t[v][0]===r&&(f++,g=t[v][1]+g,v--),t[v]&&t[v][0]===n&&(l++,p=t[v][1]+p,v--),m=v}}h(t[a][1])&&(y=t[a][1].charAt(0),t[a][1]=t[a][1].slice(1),p+=y,g+=y)}if(a<t.length-1&&!t[a][1]){t.splice(a,1);break}if(p.length>0||g.length>0){p.length>0&&g.length>0&&(0!==(o=s(g,p))&&(m>=0?t[m][1]+=g.substring(0,o):(t.splice(0,0,[i,g.substring(0,o)]),a++),g=g.substring(o),p=p.substring(o)),0!==(o=u(g,p))&&(t[a][1]=g.substring(g.length-o)+t[a][1],g=g.substring(0,g.length-o),p=p.substring(0,p.length-o)));var b=f+l;0===p.length&&0===g.length?(t.splice(a-b,b),a-=b):0===p.length?(t.splice(a-b,b,[r,g]),a=a-b+1):0===g.length?(t.splice(a-b,b,[n,p]),a=a-b+1):(t.splice(a-b,b,[n,p],[r,g]),a=a-b+2)}0!==a&&t[a-1][0]===i?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,f=0,l=0,p="",g=""}""===t[t.length-1][1]&&t.pop();var w=!1;for(a=1;a<t.length-1;)t[a-1][0]===i&&t[a+1][0]===i&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)===t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),w=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),w=!0)),a++;w&&c(t,e)}function l(t){return t>=55296&&t<=56319}function f(t){return t>=56320&&t<=57343}function h(t){return f(t.charCodeAt(0))}function d(t){return l(t.charCodeAt(t.length-1))}function p(t,e,o,a){return d(t)||h(a)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[i,t],[n,e],[r,o],[i,a]])}function g(t,e,n){return o(t,e,n,!0)}g.INSERT=r,g.DELETE=n,g.EQUAL=i,t.exports=g},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=r(n(10)),a=r(n(18));!function(t){t.compose=function(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=o.default(e);for(var i in n||(r=Object.keys(r).reduce((function(t,e){return null!=r[e]&&(t[e]=r[e]),t}),{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},t.diff=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,r){return a.default(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n}),{});return Object.keys(n).length>0?n:void 0},t.invert=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=t||{};var n=Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0!==t[r]&&(n[r]=e[r]),n}),{});return Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0===e[r]&&(n[r]=null),n}),n)},t.transform=function(t,e,n){if(void 0===n&&(n=!1),"object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(i||(i={})),e.default=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(42)),o=function(){function t(t){this.ops=t,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.default.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t}();e.default=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(36)}]).default},t.exports=e()},907554:(t,e,n)=>{!function(){var t="undefined"!=typeof window?window:n.g,r={};for(var i in function(t,e,n){var r;function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var a="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var s=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof t&&t,"object"==typeof self&&self,"object"==typeof e&&e];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function u(t,e){if(e)t:{var n=s;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];if(!(i in n))break t;n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&a(n,t,{configurable:!0,writable:!0,value:e})}}function c(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function l(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}function f(t){if(!(t instanceof Array)){t=l(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}u("Symbol",(function(t){function e(t,e){this.g=t,a(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(n+(i||"")+"_"+r++,i)}})),u("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var r=s[e[n]];"function"==typeof r&&"function"!=typeof r.prototype[t]&&a(r.prototype,t,{configurable:!0,writable:!0,value:function(){return c(o(this))}})}return t}));var h,d="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)h=Object.setPrototypeOf;else{var p;t:{var g={};try{g.__proto__={a:!0},p=g.a;break t}catch(bp){}p=!1}h=p?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var m=h;function y(t,e){if(t.prototype=d(e.prototype),t.prototype.constructor=t,m)m(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.zg=e.prototype}function v(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.u=this.i=null}function b(t){if(t.o)throw new TypeError("Generator is already running");t.o=!0}function w(t,e){t.i={me:e,ue:!0},t.g=t.m||t.j}function E(t,e,n){return t.g=n,{value:e}}function T(t){t.g=0}function x(t,e,n){t.m=e,null!=n&&(t.j=n)}function A(t,e,n){t.g=e,t.m=n||0}function S(t,e){return t.m=e||0,e=t.i.me,t.i=null,e}function _(t){t.u=[t.i],t.m=0,t.j=0}function O(t){var e=t.u.splice(0)[0];(e=t.i=t.i||e)?e.ue?t.g=t.m||t.j:null!=e.B&&t.j<e.B?(t.g=e.B,t.i=null):t.g=t.j:t.g=0}function R(t){this.g=new v,this.h=t}function C(t,e,n,r){try{var i=e.call(t.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.g.o=!1,i;var o=i.value}catch(a){return t.g.l=null,w(t.g,a),k(t)}return t.g.l=null,r.call(t.g,o),k(t)}function k(t){for(;t.g.g;)try{var e=t.h(t.g);if(e)return t.g.o=!1,{value:e.value,done:!1}}catch(n){t.g.h=void 0,w(t.g,n)}if(t.g.o=!1,t.g.i){if(e=t.g.i,t.g.i=null,e.ue)throw e.me;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function N(t){this.next=function(e){return b(t.g),t.g.l?e=C(t,t.g.l.next,e,t.g.s):(t.g.s(e),e=k(t)),e},this.throw=function(e){return b(t.g),t.g.l?e=C(t,t.g.l.throw,e,t.g.s):(w(t.g,e),e=k(t)),e},this.return=function(e){return function(t,e){b(t.g);var n=t.g.l;return n?C(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.g.return):(t.g.return(e),k(t))}(t,e)},this[Symbol.iterator]=function(){return this}}function I(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise((function(r,i){!function t(o){o.done?r(o.value):Promise.resolve(o.value).then(e,n).then(t,i)}(t.next())}))}(new N(new R(t)))}function P(){for(var t=Number(this),e=[],n=t;n<arguments.length;n++)e[n-t]=arguments[n];return e}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e,n){t instanceof String&&(t=String(t));for(var r=t.length,i=0;i<r;i++){var o=t[i];if(e.call(n,o,i,t))return{re:i,v:o}}return{re:-1,v:void 0}}function j(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""}function D(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}v.prototype.s=function(t){this.h=t},v.prototype.return=function(t){this.i={return:t},this.g=this.j},v.prototype.B=function(t){this.g=t},u("Promise",(function(t){function e(t){this.h=0,this.i=void 0,this.g=[],this.o=!1;var e=this.j();try{t(e.resolve,e.reject)}catch(i){e.reject(i)}}function n(){this.g=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.h=function(t){if(null==this.g){this.g=[];var e=this;this.i((function(){e.l()}))}this.g.push(t)};var o=s.setTimeout;n.prototype.i=function(t){o(t,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var t=this.g;this.g=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(t){this.i((function(){throw t}))},e.prototype.j=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.D),reject:t(this.l)}},e.prototype.D=function(t){if(t===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.I(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.C(t):this.m(t)}},e.prototype.C=function(t){var e=void 0;try{e=t.then}catch(i){return void this.l(i)}"function"==typeof e?this.K(e,t):this.m(t)},e.prototype.l=function(t){this.s(2,t)},e.prototype.m=function(t){this.s(1,t)},e.prototype.s=function(t,e){if(0!=this.h)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.h);this.h=t,this.i=e,2===this.h&&this.F(),this.u()},e.prototype.F=function(){var t=this;o((function(){if(t.A()){var e=s.console;void 0!==e&&e.error(t.i)}}),1)},e.prototype.A=function(){if(this.o)return!1;var t=s.CustomEvent,e=s.Event,n=s.dispatchEvent;return void 0===n||("function"==typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"==typeof e?t=new e("unhandledrejection",{cancelable:!0}):(t=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.i,n(t))},e.prototype.u=function(){if(null!=this.g){for(var t=0;t<this.g.length;++t)a.h(this.g[t]);this.g=null}};var a=new n;return e.prototype.I=function(t){var e=this.j();t.zc(e.resolve,e.reject)},e.prototype.K=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.zc(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.zc=function(t,e){function n(){switch(r.h){case 1:t(r.i);break;case 2:e(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=l(t),o=i.next();!o.done;o=i.next())r(o.value).zc(e,n)}))},e.all=function(t){var n=l(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).zc(o(a.length-1),e),i=n.next()}while(!i.done)}))},e})),u("WeakMap",(function(t){function e(t){if(this.g=(u+=Math.random()+1).toString(),t){t=l(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(){}function r(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}function i(t){if(!L(t,s)){var e=new n;a(t,s,{value:e})}}function o(t){var e=Object[t];e&&(Object[t]=function(t){return t instanceof n?t:(Object.isExtensible(t)&&i(t),e(t))})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(i){return!1}}())return t;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return e.prototype.set=function(t,e){if(!r(t))throw Error("Invalid WeakMap key");if(i(t),!L(t,s))throw Error("WeakMap key fail: "+t);return t[s][this.g]=e,this},e.prototype.get=function(t){return r(t)&&L(t,s)?t[s][this.g]:void 0},e.prototype.has=function(t){return r(t)&&L(t,s)&&L(t[s],this.g)},e.prototype.delete=function(t){return!!(r(t)&&L(t,s)&&L(t[s],this.g))&&delete t[s][this.g]},e})),u("Map",(function(t){function e(){var t={};return t.Ra=t.next=t.head=t}function n(t,e){var n=t.g;return c((function(){if(n){for(;n.head!=t.g;)n=n.Ra;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}}))}function r(t,e){var n=e&&typeof e;"object"==n||"function"==n?o.has(e)?n=o.get(e):(n=""+ ++a,o.set(e,n)):n="p_"+e;var r=t.h[n];if(r&&L(t.h,n))for(t=0;t<r.length;t++){var i=r[t];if(e!=e&&i.key!=i.key||e===i.key)return{id:n,list:r,index:t,entry:i}}return{id:n,list:r,index:-1,entry:void 0}}function i(t){if(this.h={},this.g=e(),this.size=0,t){t=l(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(l([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(o){return!1}}())return t;var o=new WeakMap;i.prototype.set=function(t,e){var n=r(this,t=0===t?0:t);return n.list||(n.list=this.h[n.id]=[]),n.entry?n.entry.value=e:(n.entry={next:this.g,Ra:this.g.Ra,head:this.g,key:t,value:e},n.list.push(n.entry),this.g.Ra.next=n.entry,this.g.Ra=n.entry,this.size++),this},i.prototype.delete=function(t){return!(!(t=r(this,t)).entry||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.h[t.id],t.entry.Ra.next=t.entry.next,t.entry.next.Ra=t.entry.Ra,t.entry.head=null,this.size--,!0)},i.prototype.clear=function(){this.h={},this.g=this.g.Ra=e(),this.size=0},i.prototype.has=function(t){return!!r(this,t).entry},i.prototype.get=function(t){return(t=r(this,t).entry)&&t.value},i.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},i.prototype.keys=function(){return n(this,(function(t){return t.key}))},i.prototype.values=function(){return n(this,(function(t){return t.value}))},i.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var a=0;return i})),u("Set",(function(t){function e(t){if(this.g=new Map,t){t=l(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.g.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(l([e]));if(!n.has(e)||1!=n.size||n.add(e)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&i.value[1]==e&&(!(i=r.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(o){return!1}}()?t:(e.prototype.add=function(t){return t=0===t?0:t,this.g.set(t,t),this.size=this.g.size,this},e.prototype.delete=function(t){return t=this.g.delete(t),this.size=this.g.size,t},e.prototype.clear=function(){this.g.clear(),this.size=0},e.prototype.has=function(t){return this.g.has(t)},e.prototype.entries=function(){return this.g.entries()},e.prototype.values=function(){return this.g.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var n=this;this.g.forEach((function(r){return t.call(e,r,r,n)}))},e)})),u("Array.prototype.findIndex",(function(t){return t||function(t,e){return M(this,t,e).re}})),u("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),u("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(e=e||0)&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}})),u("String.prototype.includes",(function(t){return t||function(t,e){return-1!==j(this,t,"includes").indexOf(t,e||0)}})),u("Array.prototype.find",(function(t){return t||function(t,e){return M(this,t,e).v}})),u("String.prototype.startsWith",(function(t){return t||function(t,e){var n=j(this,t,"startsWith"),r=n.length,i=t.length;e=Math.max(0,Math.min(0|e,n.length));for(var o=0;o<i&&e<r;)if(n[e++]!=t[o++])return!1;return o>=i}})),u("Array.prototype.keys",(function(t){return t||function(){return D(this,(function(t){return t}))}}));var B="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)L(r,i)&&(t[i]=r[i])}return t};u("Object.assign",(function(t){return t||B})),u("Array.from",(function(t){return t||function(t,e,n){e=null!=e?e:function(t){return t};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if("function"==typeof i){t=i.call(t);for(var o=0;!(i=t.next()).done;)r.push(e.call(n,i.value,o++))}else for(i=t.length,o=0;o<i;o++)r.push(e.call(n,t[o],o));return r}})),u("Array.prototype.values",(function(t){return t||function(){return D(this,(function(t,e){return e}))}})),u("Object.values",(function(t){return t||function(t){var e,n=[];for(e in t)L(t,e)&&n.push(t[e]);return n}})),u("Promise.prototype.finally",(function(t){return t||function(t){return this.then((function(e){return Promise.resolve(t()).then((function(){return e}))}),(function(e){return Promise.resolve(t()).then((function(){throw e}))}))}})),u("Math.log2",(function(t){return t||function(t){return Math.log(t)/Math.LN2}})),u("Array.prototype.entries",(function(t){return t||function(){return D(this,(function(t,e){return[t,e]}))}})),u("String.prototype.repeat",(function(t){return t||function(t){var e=j(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)1&t&&(n+=e),(t>>>=1)&&(e+=e);return n}})),u("Number.isNaN",(function(t){return t||function(t){return"number"==typeof t&&isNaN(t)}})),u("Number.isFinite",(function(t){return t||function(t){return"number"==typeof t&&(!isNaN(t)&&1/0!==t&&-1/0!==t)}}));var U=this||self;function F(t,e){t=t.split(".");var n,r=U;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)t.length||void 0===e?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=e}function H(t){this.g=Math.exp(Math.log(.5)/t),this.i=this.h=0}function V(t){return t.h/(1-Math.pow(t.g,t.i))}function G(){this.h=new H(2),this.j=new H(5),this.g=0,this.i=128e3,this.l=16e3}function q(){}function z(){}function K(){}function W(t){var e=P.apply(1,arguments);X.has(t)||(X.add(t),K.apply(q,f(e)))}H.prototype.sample=function(t,e){var n=Math.pow(this.g,t);e=e*(1-n)+n*this.h,isNaN(e)||(this.h=e,this.i+=t)},G.prototype.configure=function(t){this.i=t.minTotalBytes,this.l=t.minBytes,this.h.g=Math.exp(Math.log(.5)/t.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/t.slowHalfLife)},G.prototype.sample=function(t,e){if(!(e<this.l)){var n=8e3*e/t;t/=1e3,this.g+=e,this.h.sample(t,n),this.j.sample(t,n)}},G.prototype.getBandwidthEstimate=function(t){return this.g<this.i?t:Math.min(V(this.h),V(this.j))};var X=new Set;function Y(t){if(Z.has(t))return Z.get(t);var e=MediaSource.isTypeSupported(t);return Z.set(t,e),e}t.console&&(K=function(){return console.warn.apply(console,f(P.apply(0,arguments)))},z=function(){console.error.apply(console,f(P.apply(0,arguments)))});var Z=new Map;function $(){}function J(){}function Q(){}function tt(t,e){if(!t&&!e)return!0;if(!t||!e||t.byteLength!=e.byteLength)return!1;if(et(t)==et(e)&&(t.byteOffset||0)==(e.byteOffset||0))return!0;var n=rt(t);e=rt(e);for(var r=0;r<t.byteLength;r++)if(n[r]!=e[r])return!1;return!0}function et(t){return t instanceof ArrayBuffer?t:t.buffer}function nt(t){return t instanceof ArrayBuffer?t:0==t.byteOffset&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function rt(t,e,n){return ot(t,void 0===e?0:e,n=void 0===n?1/0:n,Uint8Array)}function it(t,e,n){return ot(t,void 0===e?0:e,n=void 0===n?1/0:n,DataView)}function ot(t,e,n,r){var i=(t.byteOffset||0)+t.byteLength;return e=Math.max(0,Math.min((t.byteOffset||0)+e,i)),new r(et(t),e,Math.min(e+Math.max(n,0),i)-e)}function at(){}function st(t){this.h=new J,(t=ut[t.toLowerCase()])&&(this.h=t()),this.g=new $,(t=ct)&&(this.g=t())}$.prototype.extract=function(){},$.prototype.decode=function(){return[]},$.prototype.clear=function(){},J.prototype.init=function(){},J.prototype.parse=function(){return[]},F("shaka.util.BufferUtils",Q),Q.toDataView=it,Q.toUint8=rt,Q.toArrayBuffer=nt,Q.equal=tt,at.prototype.init=function(){},at.prototype.j=function(){},at.prototype.i=function(){},F("shaka.media.IClosedCaptionParser",at),st.prototype.init=function(t){this.h.init(t)},st.prototype.j=function(t){for(var e=(t=l(t=this.h.parse(t))).next();!e.done;e=t.next()){var n=rt((e=e.value).packet);0<n.length&&this.g.extract(n,e.pts)}return this.g.decode()},st.prototype.i=function(){this.g.clear()},F("shaka.media.ClosedCaptionParser",st),st.findDecoder=function(){return ct},st.unregisterDecoder=function(){ct=null},st.registerDecoder=function(t){ct=t},st.findParser=function(t){return ut[t]},st.unregisterParser=function(t){delete ut[t]},st.registerParser=function(t,e){ut[t]=e};var ut={},ct=null;function lt(t,e){return!("number"!=typeof t||"number"!=typeof e||!isNaN(t)||!isNaN(e))||t===e}function ft(t,e){var n;if(n||(n=lt),t.length!=e.length)return!1;e=e.slice();for(var r={},i=(t=l(t)).next();!i.done;r={ad:r.ad},i=t.next()){if(r.ad=i.value,-1==(i=e.findIndex(function(t){return function(e){return n(t.ad,e)}}(r))))return!1;e[i]=e[e.length-1],e.pop()}return 0==e.length}function ht(t,e,n){if(n||(n=lt),t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function dt(t,e,n){this.startTime=t,this.endTime=e,this.S=n,this.region=new At,this.position=null,this.D=gt,this.size=0,this.textAlign=mt,this.direction=vt,this.writingMode=bt,this.u=wt,this.h=null,this.L="",this.i=Et,this.j=yt,this.A=this.backgroundColor=this.l="",this.C=Tt,this.m=xt,this.K=this.I="",this.O=1,this.o=[],this.id=this.Z=this.W=this.P="",this.g=[],this.s=!1,this.F={ug:32,rows:15}}function pt(t,e){if(t.startTime!=e.startTime||t.endTime!=e.endTime||t.S!=e.S)return!1;for(var n in t)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!ht(t.g,e.g,pt))return!1}else if("region"==n||"cellResolution"==n){for(var r in t[n])if(t[n][r]!=e[n][r])return!1}else if(Array.isArray(t[n])){if(!ht(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}dt.prototype.clone=function(){var t,e=new dt(0,0,"");for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e},F("shaka.text.Cue",dt),dt.equal=pt,dt.prototype.clone=dt.prototype.clone;var gt="auto";dt.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:gt};var mt="center";dt.textAlign={LEFT:"left",RIGHT:"right",CENTER:mt,START:"start",END:"end"};var yt="after";dt.displayAlign={BEFORE:"before",CENTER:"center",AFTER:yt};var vt="ltr";dt.direction={HORIZONTAL_LEFT_TO_RIGHT:vt,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var bt="horizontal-tb";dt.writingMode={HORIZONTAL_TOP_TO_BOTTOM:bt,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var wt=0;dt.lineInterpretation={LINE_NUMBER:wt,PERCENTAGE:1};var Et="start";dt.lineAlign={CENTER:"center",START:Et,END:"end"},dt.defaultTextColor={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"},dt.defaultTextBackgroundColor={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};var Tt=400;dt.fontWeight={NORMAL:Tt,BOLD:700};var xt="normal";function At(){this.id="",this.height=this.width=100,this.h=this.i=this.g=St}dt.fontStyle={NORMAL:xt,ITALIC:"italic",OBLIQUE:"oblique"},dt.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},F("shaka.text.CueRegion",At);var St=1;function _t(){}function Ot(t,e,n){Ct[t.toLowerCase().split(";")[0]+"-"+n]={priority:n,Wc:e}}function Rt(t,e){for(var n=t.toLowerCase().split(";")[0],r=l([Pt,It,Nt,kt]),i=r.next();!i.done;i=r.next())if(i=Ct[n+"-"+i.value]){var o=i.Wc(),a=o.isSupported(t,e);if(o.destroy(),a)return i.Wc}return null}At.units={PX:0,PERCENTAGE:St,LINES:2},At.scrollMode={NONE:"",UP:"up"},_t.prototype.destroy=function(){},F("shaka.transmuxer.TransmuxerEngine",_t),_t.findTransmuxer=Rt,_t.unregisterTransmuxer=function(t,e){delete Ct[t.toLowerCase().split(";")[0]+"-"+e]},_t.registerTransmuxer=Ot,_t.prototype.destroy=_t.prototype.destroy;var Ct={},kt=1,Nt=2,It=3,Pt=4;_t.PluginPriority={FALLBACK:kt,PREFERRED_SECONDARY:Nt,PREFERRED:It,APPLICATION:Pt};var Lt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Mt(t){var e;t instanceof Mt?(jt(this,t.za),this.sb=t.sb,this.Da=t.Da,Dt(this,t.Lb),this.va=t.va,Bt(this,t.g.clone()),this.ib=t.ib):t&&(e=String(t).match(Lt))?(jt(this,e[1]||"",!0),this.sb=Ut(e[2]||""),this.Da=Ut(e[3]||"",!0),Dt(this,e[4]),this.va=Ut(e[5]||"",!0),Bt(this,e[6]||"",!0),this.ib=Ut(e[7]||"")):this.g=new Wt(null)}function jt(t,e,n){t.za=n?Ut(e,!0):e,t.za&&(t.za=t.za.replace(/:$/,""))}function Dt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Lb=e}else t.Lb=null}function Bt(t,e,n){e instanceof Wt?t.g=e:(n||(e=Ft(e,zt)),t.g=new Wt(e))}function Ut(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function Ft(t,e,n){return null!=t?(t=encodeURI(t).replace(e,Ht),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ht(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=Mt.prototype).za="",r.sb="",r.Da="",r.Lb=null,r.va="",r.ib="",r.toString=function(){var t=[],e=this.za;if(e&&t.push(Ft(e,Vt,!0),":"),e=this.Da){t.push("//");var n=this.sb;n&&t.push(Ft(n,Vt,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.Lb)&&t.push(":",String(e))}return(e=this.va)&&(this.Da&&"/"!=e.charAt(0)&&t.push("/"),t.push(Ft(e,"/"==e.charAt(0)?qt:Gt,!0))),(e=this.g.toString())&&t.push("?",e),(e=this.ib)&&t.push("#",Ft(e,Kt)),t.join("")},r.resolve=function(t){var e=this.clone();"data"===e.za&&(e=new Mt);var n=!!t.za;n?jt(e,t.za):n=!!t.sb,n?e.sb=t.sb:n=!!t.Da,n?e.Da=t.Da:n=null!=t.Lb;var r=t.va;if(n)Dt(e,t.Lb);else if(n=!!t.va){if("/"!=r.charAt(0))if(this.Da&&!this.va)r="/"+r;else{var i=e.va.lastIndexOf("/");-1!=i&&(r=e.va.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}r=o.join("/")}}return n?e.va=r:n=""!==t.g.toString(),n?Bt(e,t.g.clone()):n=!!t.ib,n&&(e.ib=t.ib),e},r.clone=function(){return new Mt(this)};var Vt=/[#\/\?@]/g,Gt=/[#\?:]/g,qt=/[#\?]/g,zt=/[#\?@]/g,Kt=/#/g;function Wt(t){this.g=t||null}function Xt(t){if(!t.la&&(t.la={},t.Cc=0,t.g))for(var e=t.g.split("&"),n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];o=decodeURIComponent(o.replace(/\+/g," ")),i=i||"",t.add(o,decodeURIComponent(i.replace(/\+/g," ")))}}function Yt(t,e,n){var r=P.apply(3,arguments);if(this.severity=t,this.category=e,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code,Zt)try{throw Error(this.message||"Shaka Error")}catch(i){this.stack=i.stack}}(r=Wt.prototype).la=null,r.Cc=null,r.add=function(t,e){Xt(this),this.g=null;var n=this.la.hasOwnProperty(t)?this.la[t]:null;return n||(this.la[t]=n=[]),n.push(e),this.Cc++,this},r.set=function(t,e){return Xt(this),this.g=null,this.la.hasOwnProperty(t)?this.la[t]=[e]:this.add(t,e),this},r.toString=function(){if(this.g)return this.g;if(!this.la)return"";var t,e=[];for(t in this.la)for(var n=encodeURIComponent(t),r=this.la[t],i=0;i<r.length;i++){var o=n;""!==r[i]&&(o+="="+encodeURIComponent(r[i])),e.push(o)}return this.g=e.join("&")},r.clone=function(){var t=new Wt;if(t.g=this.g,this.la){var e,n={};for(e in this.la)n[e]=this.la[e].concat();t.la=n,t.Cc=this.Cc}return t},Yt.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},F("shaka.util.Error",Yt);var Zt=!0;function $t(t,e){return t.concat(e)}function Jt(){}function Qt(t){return null!=t}function te(t,e){if(0==e.length)return t;var n=e.map((function(t){return new Mt(t)}));return t.map((function(t){return new Mt(t)})).map((function(t){return n.map((function(e){return t.resolve(e)}))})).reduce($t,[]).map((function(t){return t.toString()}))}function ee(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:e||[],keyIds:new Set}}function ne(t,e){if(1==e.length)return e[0];if(null!=(t=re(t,e)))return t;throw new Yt(2,4,4025,e)}function re(t,e){for(var n=l(ae[t]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=l(e),o=i.next();!o.done;o=i.next())if(o=o.value,r.test(o.trim()))return o.trim()}return t==ie?"":null}Yt.Severity={RECOVERABLE:1,CRITICAL:2},Yt.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Yt.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS:2016,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_CODEC_UNKNOWN:3021,MSS_TRANSMUXING_FAILED:3022,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};var ie="text",oe={Aa:"video",xb:"audio",da:ie,fd:"image",ng:"application"},ae={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvh/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function se(){}function ue(t,e){var n=t;return e&&!pe.includes(t)&&(n+='; codecs="'+e+'"'),n}function ce(t,e){return e&&(t+='; codecs="'+e+'"'),t}function le(t,e,n){var r=ue(t,e);return Rt(e=ce(t,e))?(t=Rt(e))?(n=(t=t()).convertCodecs(n,e),t.destroy()):n=e:n="video/mp2t"!=t&&"audio"==n?r.replace("video","audio"):r,n}function fe(t){var e=de(t);switch(t=e[0],e=e[1].toLowerCase(),!0){case"mp4a"===t&&"69"===e:case"mp4a"===t&&"6b"===e:case"mp4a"===t&&"40.34"===e:return"mp3";case"mp4a"===t&&"66"===e:case"mp4a"===t&&"67"===e:case"mp4a"===t&&"68"===e:case"mp4a"===t&&"40.2"===e:case"mp4a"===t&&"40.02"===e:case"mp4a"===t&&"40.5"===e:case"mp4a"===t&&"40.05"===e:case"mp4a"===t&&"40.29"===e:case"mp4a"===t&&"40.42"===e:return"aac";case"mp4a"===t&&"a5"===e:return"ac-3";case"mp4a"===t&&"a6"===e:return"ec-3";case"mp4a"===t&&"b2"===e:return"dtsx";case"mp4a"===t&&"a9"===e:return"dtsc";case"avc1"===t:case"avc3"===t:return"avc";case"hvc1"===t:case"hev1"===t:return"hevc";case"dvh1"===t:case"dvhe"===t:return"dovi"}return t}function he(t){return(t=t.split(/ *; */)).shift(),(t=t.find((function(t){return t.startsWith("codecs=")})))?t.split("=")[1].replace(/^"|"$/g,""):""}function de(t){var e=(t=t.split("."))[0];return t.shift(),[e,t.join(".")]}F("shaka.util.MimeUtils",se),se.getFullTypeWithAllCodecs=ce,se.getFullType=ue,(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");var pe=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function ge(t){this.i=null,this.j=t,this.u=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.A="",this.o=new Map}function me(t){return!!be[t]||("application/cea-608"==t||"application/cea-708"==t)&&!!ct}function ye(t,e,n){if(t.A=e,e=t.o.get(e))for(var r=l(e.keys()),i=r.next();!i.done;i=r.next())(i=e.get(i.value).filter((function(t){return t.endTime<=n})))&&t.j.append(i)}function ve(t,e,n){e.startTime+=n,e.endTime+=n;for(var r=(e=l(e.g)).next();!r.done;r=e.next())ve(t,r.value,n)}ge.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()},ge.prototype.remove=function(t,e){var n=this;return I((function(r){if(1==r.g)return E(r,Promise.resolve(),2);!n.j||!n.j.remove(t,e)||null==n.g||e<=n.g||t>=n.h||(t<=n.g&&e>=n.h?n.g=n.h=null:t<=n.g&&e<n.h?n.g=e:t>n.g&&e>=n.h&&(n.h=t)),T(r)}))},F("shaka.text.TextEngine",ge),ge.prototype.destroy=ge.prototype.destroy,ge.findParser=function(t){return be[t]},ge.unregisterParser=function(t){delete be[t]},ge.registerParser=function(t,e){be[t]=e};var be={};function we(){}function Ee(t,e){return t=Ae(t),e=Ae(e),t.split("-")[0]==e.split("-")[0]}function Te(t,e){return t=Ae(t),e=Ae(e),t=t.split("-"),e=e.split("-"),t[0]==e[0]&&1==t.length&&2==e.length}function xe(t,e){return t=Ae(t),e=Ae(e),t=t.split("-"),e=e.split("-"),2==t.length&&2==e.length&&t[0]==e[0]}function Ae(t){var e=t.split("-x-"),n=e[0].split("-");return t=n[0]||"",n=n[1]||"",e=e[1]?"x-"+e[1]:"",t=t.toLowerCase(),t=Ce.get(t)||t,((n=n.toUpperCase())?t+"-"+n:t)+(e?"-"+e:"")}function Se(t,e){return t=Ae(t),(e=Ae(e))==t?4:Te(e,t)?3:xe(e,t)?2:Te(t,e)?1:0}function _e(t){var e=t.indexOf("-");return t=(t=0<=e?t.substring(0,e):t).toLowerCase(),Ce.get(t)||t}function Oe(t){return t.language?Ae(t.language):t.audio&&t.audio.language?Ae(t.audio.language):t.video&&t.video.language?Ae(t.video.language):"und"}function Re(t,e){t=Ae(t);var n=new Set,r=l(e);for(e=r.next();!e.done;e=r.next())n.add(Ae(e.value));for(e=(r=l(n)).next();!e.done;e=r.next())if((e=e.value)==t)return e;for(e=(r=l(n)).next();!e.done;e=r.next())if(Te(e=e.value,t))return e;for(e=(r=l(n)).next();!e.done;e=r.next())if(xe(e=e.value,t))return e;for(e=(n=l(n)).next();!e.done;e=n.next())if(Te(t,e=e.value))return e;return null}F("shaka.util.LanguageUtils",we),we.findClosestLocale=Re,we.getLocaleForVariant=Oe,we.getLocaleForText=function(t){return Ae(t.language||"und")},we.getBase=_e,we.relatedness=Se,we.areSiblings=function(t,e){var n=_e(t),r=_e(e);return t!=n&&e!=r&&n==r},we.normalize=Ae,we.isSiblingOf=xe,we.isParentOf=Te,we.areLanguageCompatible=Ee,we.areLocaleCompatible=function(t,e){return(t=Ae(t))==(e=Ae(e))};var Ce=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function ke(){this.g={}}function Ne(t){this.h=t,this.g=null}function Ie(t){this.h=t,this.g=null}function Pe(){return!(!t.MediaSource||!MediaSource.isTypeSupported)}function Le(t){return""!=Ge().canPlayType(t)}function Me(){return!!navigator.userAgent.match(/Edge?\//)}function je(){return Ve("Xbox One")}function De(){return Ve("Tizen")}function Be(){return Ve("Web0S")&&Ve("Chrome/38.0.2125.122 Safari/537.36")}function Ue(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!De()&&!Ve("PC=EOS")&&!Ve("VirginMedia")&&!Ve("SOPOpenBrowser")&&!Fe()&&!Ve("AFT")}function Fe(){return Ve("PlayStation 4")}function He(){if(!Ue())return null;var t=navigator.userAgent.match(/Version\/(\d+)/);return t||(t=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(t[1],10):null}function Ve(t){return(navigator.userAgent||"").includes(t)}function Ge(){return ze||(qe||(qe=new Ie((function(){ze=null}))),(ze=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(ze=document.createElement("video")),qe.V(1),ze)}(r=ke.prototype).push=function(t,e){this.g.hasOwnProperty(t)?this.g[t].push(e):this.g[t]=[e]},r.get=function(t){return(t=this.g[t])?t.slice():null},r.remove=function(t,e){t in this.g&&(this.g[t]=this.g[t].filter((function(t){return t!=e})),0==this.g[t].length&&delete this.g[t])},r.forEach=function(t){for(var e in this.g)t(e,this.g[e])},r.size=function(){return Object.keys(this.g).length},r.keys=function(){return Object.keys(this.g)},Ne.prototype.V=function(e){var n=this;this.stop();var r=!0,i=null;return this.g=function(){t.clearTimeout(i),r=!1},i=t.setTimeout((function(){r&&n.h()}),1e3*e),this},Ne.prototype.stop=function(){this.g&&(this.g(),this.g=null)},Ie.prototype.Zd=function(){return this.stop(),this.h(),this},Ie.prototype.V=function(t){var e=this;return this.stop(),this.g=new Ne((function(){e.h()})).V(t),this},Ie.prototype.sa=function(t){var e=this;return this.stop(),this.g=new Ne((function(){e.g.V(t),e.h()})).V(t),this},Ie.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},F("shaka.util.Timer",Ie),Ie.prototype.stop=Ie.prototype.stop,Ie.prototype.tickEvery=Ie.prototype.sa,Ie.prototype.tickAfter=Ie.prototype.V,Ie.prototype.tickNow=Ie.prototype.Zd;var qe=null,ze=null;function Ke(){}function We(t,e,n,r,i){var o=t.variants;(e.length||n.length)&&(o=function(t,e,n){for(var r={},i=(e=l(e)).next();!i.done;r={ed:r.ed},i=e.next())if(r.ed=i.value,i=t.filter(function(t){return function(e){return e.video&&e.video.codecs.startsWith(t.ed)}}(r)),i.length){t=i;break}for(r={},n=l(n),e=n.next();!e.done;r={$c:r.$c},e=n.next())if(r.$c=e.value,e=t.filter(function(t){return function(e){return e.audio&&e.audio.codecs.startsWith(t.$c)}}(r)),e.length){t=e;break}return t}(o,e,n)),e=function(t){for(var e=new ke,n=(t=l(t)).next();!n.done;n=t.next()){var r=Ye(n=n.value);e.push(r,n)}return e}(o=gn(o,r)),e=function(t){var e=0,n=new Map,r=t.size();return t.forEach((function(t,i){for(var o=(i=l(i)).next();!o.done;o=i.next()){var a=(o=o.value).video;if(a&&a.width&&a.height){a=a.width*a.height*(a.frameRate||1),n.has(a)||n.set(a,new ke);var s=n.get(a);s.push(t,o),s.size()===r&&(e=Math.max(e,a))}}})),e?n.get(e):t}(e);var a=function(t,e){for(var n=(e=l(e)).next();!n.done;n=e.next())if((n=n.value)==Tn||n==xn){if(1==(t=Xe(t,n)).size())return t.keys()[0]}else if(n==An)break;return function(t){var e="",n=1/0;return t.forEach((function(t,r){for(var i=0,o=0,a=(r=l(r)).next();!a.done;a=r.next())i+=a.value.bandwidth||0,++o;(i/=o)<n&&(e=t,n=i)})),e}(t)}(e,i);t.variants=t.variants.filter((function(t){return Ye(t)==a}))}function Xe(t,e){var n=0,r=new ke;return t.forEach((function(t,i){for(var o=0,a=0,s=l(i),u=s.next();!u.done;u=s.next())(u=u.value).decodingInfos.length&&(o+=u.decodingInfos[0][e]?1:0,a++);(o/=a)>n?(r.g={},r.push(t,i),n=o):o==n&&r.push(t,i)})),r}function Ye(t){var e="";t.video&&(e=fe(t.video.codecs));var n="";return t.audio&&(n=fe(t.audio.codecs)),e+"-"+n}function Ze(t,e,n){function r(t,e,n){return t>=e&&t<=n}var i=t.video;return!(i&&i.width&&i.height&&(!r(i.width,e.minWidth,Math.min(e.maxWidth,n.width))||!r(i.height,e.minHeight,Math.min(e.maxHeight,n.height))||!r(i.width*i.height,e.minPixels,e.maxPixels))||t&&t.video&&t.video.frameRate&&!r(t.video.frameRate,e.minFrameRate,e.maxFrameRate)||!r(t.bandwidth,e.minBandwidth,e.maxBandwidth))}function $e(t,e){return I((function(n){return 1==n.g?E(n,function(t,e){return I((function(n){if(1==n.g)return E(n,tn(t.variants,e,!1,[]),2);t.variants=t.variants.filter((function(t){var e=t.video;if(e){var n=rn(e.codecs);if(e.codecs.includes(",")){var r=e.codecs.split(",");n=rn(n=ne("video",r)),r=nn(r=ne("audio",r));var i=le(e.mimeType,r,"audio");if(!Y(i))return!1;n=[n,r].join()}if(!Y(r=le(e.mimeType,n,"video")))return!1;e.codecs=n}if(n=t.audio){if(r=nn(n.codecs),!Y(i=le(n.mimeType,r,"audio")))return!1;n.codecs=r}return je()&&e&&(e.width&&1920<e.width||e.height&&1080<e.height)&&(e.codecs.includes("avc1.")||e.codecs.includes("avc3."))?(vn(t),!1):((e=t.decodingInfos.some((function(t){return t.supported})))||vn(t),e)})),T(n)}))}(e,0<e.offlineSessionIds.length),2):(on(t,e),function(t){t.textStreams=t.textStreams.filter((function(t){return me(t=ue(t.mimeType,t.codecs))}))}(e),E(n,function(t){var e,n,r,i,o,a,s;return I((function(u){switch(u.g){case 1:e=[],n=l(t.imageStreams),r=n.next();case 2:if(r.done){u.B(4);break}if(i=r.value,o=i.mimeType,Sn.has(o)){u.B(5);break}if(!(a=_n.get(o))){Sn.set(o,!1),u.B(5);break}return E(u,function(t){return new Promise((function(e){var n=new Image;n.src=t,"decode"in n?n.decode().then((function(){e(!0)})).catch((function(){e(!1)})):n.onload=n.onerror=function(){e(2===n.height)}}))}(a),7);case 7:s=u.h,Sn.set(o,s);case 5:Sn.get(o)&&e.push(i),r=n.next(),u.B(2);break;case 4:t.imageStreams=e,T(u)}}))}(e),0))}))}function Je(t){var e=[];for(n in t)e.push(n);e.sort();for(var n=[],r=(e=l(e)).next();!r.done;r=e.next()){var i=r.value;r=JSON.stringify(i),(i=t[i])instanceof Object?(i=Je(i),n.push(r+":"+i)):(i=JSON.stringify(i),n.push(r+":"+i))}return"{"+n.join(",")+"}"}function Qe(t,e){var n,r,i;return I((function(o){switch(o.g){case 1:if(n=Je(e),x(o,2),(r=wn)[n]){t.decodingInfos.push(r[n]),o.B(4);break}return E(o,navigator.mediaCapabilities.decodingInfo(e),5);case 5:i=o.h,r[n]=i,t.decodingInfos.push(i);case 4:A(o,0);break;case 2:S(o),JSON.stringify(e),T(o)}}))}function tn(t,e,n,r){var i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w;return I((function(T){switch(T.g){case 1:if(t.some((function(t){return t.decodingInfos.length})))return T.return();i={},o=l(r),a=o.next();case 2:if(a.done){T.B(4);break}i.bd=a.value,s=!1,u=l(t),c=u.next();case 5:if(c.done){T.B(7);break}f=c.value,h=en(f,e,n).filter((x=i,function(t){return(t.keySystemConfiguration&&t.keySystemConfiguration.keySystem)===x.bd})),d=l(h),p=d.next();case 8:if(p.done){T.B(10);break}return g=p.value,E(T,Qe(f,g),9);case 9:p=d.next(),T.B(8);break;case 10:f.decodingInfos.length&&(s=!0),c=u.next(),T.B(5);break;case 7:if(s)return T.return();i={bd:i.bd},a=o.next(),T.B(2);break;case 4:m=l(t),c=m.next();case 12:if(c.done){T.B(0);break}y=c.value,v=en(y,e,n).filter((function(t){return!(t=t.keySystemConfiguration&&t.keySystemConfiguration.keySystem)||!r.includes(t)})),b=l(v),p=b.next();case 15:if(p.done){c=m.next(),T.B(12);break}return w=p.value,E(T,Qe(y,w),16);case 16:p=b.next(),T.B(15)}var x}))}function en(t,e,n){var r=t.audio,i=t.video;if(n={type:n?"file":"media-source"},i){var o=i.codecs;if(i.codecs.includes(",")){var a=i.codecs.split(",");o=rn(o=ne("video",a)),a=nn(a=ne("audio",a)),a=le(i.mimeType,a,"audio"),n.audio={contentType:a,channels:2,bitrate:t.bandwidth||1,samplerate:1,spatialRendering:!1}}if(o=rn(o),o=le(i.mimeType,o,"video"),n.video={contentType:o,width:i.width||64,height:i.height||64,bitrate:i.bandwidth||t.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(r&&(o=nn(r.codecs),o=le(r.mimeType,o,"audio"),n.audio={contentType:o,channels:r.channelsCount||2,bitrate:r.bandwidth||t.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio}),!(a=(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[])).length)return[n];t=[],o=new Map;for(var s=(a=l(a)).next();!s.done;s=a.next()){var u=s.value;o.get(u.keySystem)||o.set(u.keySystem,[]),o.get(u.keySystem).push(u)}a=e?"required":"optional",e=e?["persistent-license"]:["temporary"];for(var c=(u=l(o.keys())).next();!c.done;c=u.next()){var f=c.value;c=Object.assign({},n);var h=o.get(f);for(f={keySystem:f,initDataType:"cenc",persistentState:a,distinctiveIdentifier:"optional",sessionTypes:e},s=(h=l(h)).next();!s.done;s=h.next()){if((s=s.value).initData&&s.initData.length){for(var d=new Set,p=l(s.initData),g=p.next();!g.done;g=p.next())d.add(g.value.initDataType);f.initDataType=s.initData[0].initDataType}s.distinctiveIdentifierRequired&&(f.distinctiveIdentifier="required"),s.persistentStateRequired&&(f.persistentState="required"),s.sessionType&&(f.sessionTypes=[s.sessionType]),r&&(""!=s.audioRobustness?f.audio?f.audio.robustness=f.audio.robustness||s.audioRobustness:f.audio={robustness:s.audioRobustness}:f.audio||(f.audio={})),i&&(""!=s.videoRobustness?f.video?f.video.robustness=f.video.robustness||s.videoRobustness:f.video={robustness:s.videoRobustness}:f.video||(f.video={}))}c.keySystemConfiguration=f,t.push(c)}return t}function nn(t){return"fLaC"===t?"flac":"Opus"===t?"opus":De()&&"ac-3"==t.toLowerCase()?"ec-3":t}function rn(t){if(t.includes("avc1")){var e=t.split(".");if(3==e.length)return t=e.shift()+".",(t+=parseInt(e.shift(),10).toString(16))+("000"+parseInt(e.shift(),10).toString(16)).slice(-4)}else if("vp9"==t)return"vp09.00.41.08";return t}function on(t,e){e.variants=e.variants.filter((function(e){var n=e.audio;return e=e.video,!(n&&t&&t.audio&&!an(n,t.audio)||e&&t&&t.video&&!an(e,t.video))}))}function an(t,e){return t.mimeType==e.mimeType&&t.codecs.split(".")[0]==e.codecs.split(".")[0]}function sn(t){var e=t.audio,n=t.video,r=e?e.mimeType:null,i=n?n.mimeType:null,o=e?e.codecs:null,a=n?n.codecs:null,s=[];a&&s.push(a),o&&s.push(o);var u=[];n&&u.push(n.mimeType),e&&u.push(e.mimeType),u=u[0]||null;var c=[];e&&c.push(e.kind),n&&c.push(n.kind),c=c[0]||null;var f=new Set;if(e)for(var h=l(e.roles),d=h.next();!d.done;d=h.next())f.add(d.value);if(n)for(d=(h=l(n.roles)).next();!d.done;d=h.next())f.add(d.value);return t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:c,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:u,audioMimeType:r,videoMimeType:i,codecs:s.join(", "),audioCodec:o,videoCodec:a,primary:t.primary,roles:Array.from(f),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.pixelAspectRatio=n.pixelAspectRatio||null,t.videoBandwidth=n.bandwidth||null,t.hdr=n.hdr||null),e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioSamplingRate=e.audioSamplingRate,t.audioBandwidth=e.bandwidth||null,t.spatialAudio=e.spatialAudio,t.label=e.label,t.audioRoles=e.roles,t.accessibilityPurpose=e.accessibilityPurpose,t.originalLanguage=e.originalLanguage),t}function un(t){return{id:t.id,active:!1,type:ie,bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:t.mimeType,audioMimeType:null,videoMimeType:null,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,audioRoles:null,forced:t.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:t.originalId,originalImageId:null,accessibilityPurpose:t.accessibilityPurpose,originalLanguage:t.originalLanguage}}function cn(t){var e=t.width||null,n=t.height||null,r=null;t.segmentIndex&&(r=t.segmentIndex.get(0));var i=t.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=e&&(e/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:t.id,active:!1,type:"image",bandwidth:t.bandwidth||0,language:"",label:null,kind:null,width:e,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:t.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:t.originalId,accessibilityPurpose:null,originalLanguage:null}}function ln(t){return t.__shaka_id||(t.__shaka_id=En++),t.__shaka_id}function fn(t){var e=dn(t);return e.active="disabled"!=t.mode,e.type="text",e.originalTextId=t.id,"captions"==t.kind&&(e.mimeType="application/cea-608"),"subtitles"==t.kind&&(e.mimeType="text/vtt"),t.kind&&(e.roles=[t.kind]),"forced"==t.kind&&(e.forced=!0),e}function hn(t){var e=dn(t);return e.active=t.enabled,e.type="variant",e.originalAudioId=t.id,"main"==t.kind&&(e.primary=!0),t.kind&&(e.roles=[t.kind],e.audioRoles=[t.kind],e.label=t.label),e}function dn(t){var e=t.language;return{id:ln(t),active:!1,type:"",bandwidth:0,language:Ae(e||"und"),label:t.label,kind:t.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:e}}function pn(t){return t.allowedByApplication&&t.allowedByKeySystem&&0==t.disabledUntilTime}function gn(t,e){for(var n=t.filter((function(t){return t.audio&&t.audio.channelsCount})),r=new Map,i=(n=l(n)).next();!i.done;i=n.next()){var o=(i=i.value).audio.channelsCount;r.has(o)||r.set(o,[]),r.get(o).push(i)}return 0==(n=Array.from(r.keys())).length?t:(t=n.filter((function(t){return t<=e}))).length?r.get(Math.max.apply(Math,f(t))):r.get(Math.min.apply(Math,f(n)))}function mn(t,e,n,r){var i=t,o=t.filter((function(t){return t.primary}));o.length&&(i=o);var a=i.length?i[0].language:"";if(i=i.filter((function(t){return t.language==a})),e){var s=Re(Ae(e),t.map((function(t){return t.language})));s&&(i=t.filter((function(t){return Ae(t.language)==s})))}if(i=i.filter((function(t){return t.forced==r})),n){if((t=yn(i,n)).length)return t}else if(t=i.filter((function(t){return 0==t.roles.length})),t.length)return t;return t=i.map((function(t){return t.roles})).reduce($t,[]),t.length?yn(i,t[0]):i}function yn(t,e){return t.filter((function(t){return t.roles.includes(e)}))}function vn(t){var e=[];return t.audio&&e.push(bn(t.audio)),t.video&&e.push(bn(t.video)),e.join(", ")}function bn(t){return"audio"==t.type?"type=audio codecs="+t.codecs+" bandwidth="+t.bandwidth+" channelsCount="+t.channelsCount+" audioSamplingRate="+t.audioSamplingRate:"video"==t.type?"type=video codecs="+t.codecs+" bandwidth="+t.bandwidth+" frameRate="+t.frameRate+" width="+t.width+" height="+t.height:"unexpected stream type"}F("shaka.util.StreamUtils",Ke),Ke.meetsRestrictions=Ze;var wn={},En=0,Tn="smooth",xn="powerEfficient",An="bandwidth",Sn=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),_n=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function On(){var t=this;this.l=null,this.o=!1,this.i=new G,this.u=null,navigator.connection&&navigator.connection.addEventListener&&(this.u=function(){if(t.o&&t.g.useNetworkInformation){t.i=new G,t.g&&t.i.configure(t.g.advanced);var e=t.chooseVariant();e&&t.l(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}},navigator.connection.addEventListener("change",this.u)),this.m=[],this.A=1,this.D=!1,this.h=this.j=this.g=this.s=null,this.C=new Ie((function(){if(t.g.restrictToElementSize){var e=t.chooseVariant();e&&t.l(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}}))}function Rn(t){var e=t.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&t.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),e}function Cn(t,e,n,r){return t&&(e=e.filter((function(e){return Ze(e,t,{width:r,height:n})}))),e.sort((function(t,e){return t.bandwidth-e.bandwidth}))}(r=On.prototype).stop=function(){this.l=null,this.o=!1,this.m=[],this.A=1,this.j=this.s=null,this.h&&(this.h.disconnect(),this.h=null),this.C.stop()},r.release=function(){navigator.connection&&navigator.connection.removeEventListener&&(navigator.connection.removeEventListener("change",this.u),this.u=null),this.C=null},r.init=function(t){this.l=t},r.chooseVariant=function(){var e=1/0,n=1/0;this.g.restrictToScreenSize&&(n=this.g.ignoreDevicePixelRatio?1:t.devicePixelRatio,e=t.screen.height*n,n*=t.screen.width),this.h&&this.g.restrictToElementSize&&(n=this.g.ignoreDevicePixelRatio?1:t.devicePixelRatio,e=this.j.clientHeight*n,n*=this.j.clientWidth),e=Cn(this.g.restrictions,this.m,e,n),n=this.i.getBandwidthEstimate(Rn(this)),this.m.length&&!e.length&&(e=[(e=Cn(null,this.m,1/0,1/0))[0]]);for(var r=e[0]||null,i=0;i<e.length;i++){for(var o=e[i],a=isNaN(this.A)?1:Math.abs(this.A),s=a*o.bandwidth/this.g.bandwidthDowngradeTarget,u={bandwidth:1/0},c=i+1;c<e.length;c++)if(o.bandwidth!=e[c].bandwidth){u=e[c];break}a=a*u.bandwidth/this.g.bandwidthUpgradeTarget,n>=s&&n<=a&&r.bandwidth!=o.bandwidth&&(r=o)}return this.s=Date.now(),r},r.enable=function(){this.o=!0},r.disable=function(){this.o=!1},r.segmentDownloaded=function(t,e){if(this.i.sample(t,e),null!=this.s&&this.o)t:{if(this.D){if(Date.now()-this.s<1e3*this.g.switchInterval)break t}else{if(!((t=this.i).g>=t.i))break t;this.D=!0}t=this.chooseVariant(),this.i.getBandwidthEstimate(Rn(this)),t&&this.l(t,this.g.clearBufferSwitch,this.g.safeMarginSwitch)}},r.getBandwidthEstimate=function(){return this.i.getBandwidthEstimate(Rn(this))},r.setVariants=function(t){this.m=t},r.playbackRateChanged=function(t){this.A=t},r.setMediaElement=function(e){var n=this;this.j=e,this.h&&(this.h.disconnect(),this.h=null),this.j&&"ResizeObserver"in t&&(this.h=new ResizeObserver((function(){n.C.V(kn)})),this.h.observe(this.j))},r.configure=function(t){this.g=t,this.i&&this.g&&this.i.configure(this.g.advanced)},F("shaka.abr.SimpleAbrManager",On),On.prototype.configure=On.prototype.configure,On.prototype.setMediaElement=On.prototype.setMediaElement,On.prototype.playbackRateChanged=On.prototype.playbackRateChanged,On.prototype.setVariants=On.prototype.setVariants,On.prototype.getBandwidthEstimate=On.prototype.getBandwidthEstimate,On.prototype.segmentDownloaded=On.prototype.segmentDownloaded,On.prototype.disable=On.prototype.disable,On.prototype.enable=On.prototype.enable,On.prototype.chooseVariant=On.prototype.chooseVariant,On.prototype.init=On.prototype.init,On.prototype.release=On.prototype.release,On.prototype.stop=On.prototype.stop;var kn=1;function Nn(t,e,n,r,i){if(r>=i)return null;for(var o=-1,a=-1,s=0;s<n.length;s++)if(n[s].some((function(t){return null!=t&&""!=t.g.trim()}))){o=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(t){return null!=t&&""!=t.g.trim()}))){a=s;break}if(-1===o||-1===a)return null;for(var u=s=!1,c="white",l="black",f=In(r,i,s,u,c,l);o<=a;o++){for(var h=n[o],d=-1,p=-1,g=0;g<h.length;g++)if(null!=h[g]&&""!==h[g].g.trim()){d=g;break}for(g=h.length-1;0<=g;g--)if(null!=h[g]&&""!==h[g].g.trim()){p=g;break}if(-1===d||-1===p)h=Pn(r,i),t.g.push(h);else{for(;d<=p;d++)if(g=h[d]){var m=g.l,y=g.i,v=g.j,b=g.h;m==s&&y==u&&v==c&&b==l||(f.S&&t.g.push(f),f=In(r,i,m,y,v,b),s=m,u=y,c=v,l=b),f.S+=g.g}else f.S+=" ";f.S&&t.g.push(f),o!==a&&(f=Pn(r,i),t.g.push(f)),f=In(r,i,s,u,c,l)}}return t.g.length?{cue:t,stream:e}:null}function In(t,e,n,r,i,o){return t=new dt(t,e,""),n&&t.o.push("underline"),r&&(t.m="italic"),t.l=i,t.backgroundColor=o,t}function Pn(t,e){return(t=new dt(t,e,"")).s=!0,t}function Ln(t,e,n,r,i){this.g=t,this.l=e,this.i=n,this.h=r,this.j=i}function Mn(t,e){this.i=[],this.g=1,this.h=0,this.u=t,this.s=e,this.j=this.m=!1,this.l="white",this.o="black",Dn(this)}function jn(t,e,n){var r="CC"+(t.u<<1|t.s+1),i=new dt(e,n,"");return i.u=1,i.h=t.g/16*100,Nn(i,r,t.i,e,n)}function Dn(t){Fn(t,0,15),t.g=1}function Bn(t,e,n){if(!(32>n||127<n)){var r="";switch(e){case Hn:r=zn.has(n)?zn.get(n):String.fromCharCode(n);break;case Vn:r=Kn.get(n);break;case Gn:t.i[t.g].pop(),r=Wn.get(n);break;case qn:t.i[t.g].pop(),r=Xn.get(n)}r&&t.i[t.g].push(new Ln(r,t.m,t.j,t.o,t.l))}}function Un(t,e,n,r){if(!(0>n||0>e))if(e>=n)for(--r;0<=r;r--)t.i[e+r]=t.i[n+r].map((function(t){return t}));else for(var i=0;i<r;i++)t.i[e+i]=t.i[n+i].map((function(t){return t}))}function Fn(t,e,n){for(var r=0;r<=n;r++)t.i[e+r]=[]}var Hn=0,Vn=1,Gn=2,qn=3,zn=new Map([[39,""],[42,""],[92,""],[92,""],[94,""],[95,""],[96,""],[123,""],[124,""],[125,""],[126,""],[127,""]]),Kn=new Map([[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),Wn=new Map([[32,""],[33,""],[34,""],[35,""],[36,""],[37,""],[38,""],[39,""],[40,"*"],[41,"'"],[42,""],[43,""],[44,""],[45,""],[46,""],[47,""],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]),Xn=new Map([[32,""],[33,""],[34,""],[35,""],[36,""],[37,""],[38,""],[39,""],[40,""],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[54,""],[55,""],[56,""],[57,""],[58,""],[59,""],[60,""],[61,""],[62,""],[63,""]]);function Yn(t,e){this.h=Qn,this.o=new Mn(t,e),this.i=new Mn(t,e),this.g=this.j=new Mn(t,e),this.l=0,this.m=null}function Zn(t,e,n){t.g=t.i;var r=t.g,i=null;return t.h!==er&&t.h!==nr&&(i=jn(r,t.l,n),(n=t.i).g=0<n.h?n.h:0,Fn(n,0,15),(n=t.j).g=0<n.h?n.h:0,Fn(n,0,15),r.g=15),t.h=er,r.h=e,i}function $n(t){t.h=tr,t.g=t.j,t.g.h=0}function Jn(t){W("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),t.g=t.o,t.h=nr}var Qn=0,tr=1,er=3,nr=4,rr="black green blue cyan red yellow magenta black".split(" "),ir="white green blue cyan red yellow magenta white_italics".split(" ");function or(){this.l=!1,this.A=this.D=0,this.C=dr,this.i=[],this.g=this.h=this.j=0,this.u=this.o=!1,this.s="white",this.m="black",ar(this)}function ar(t){t.i=[];for(var e=0;16>e;e++)t.i.push(sr())}function sr(){for(var t=[],e=0;42>e;e++)t.push(null);return t}function ur(t,e){cr(t)&&(t.i[t.h][t.g]=new Ln(e,t.u,t.o,t.m,t.s),t.g++)}function cr(t){var e=t.g<t.A&&0<=t.g;return t.h<t.D&&0<=t.h&&e}function lr(t,e,n){var r=new dt(t.j,e,"");return r.textAlign=t.C===fr?"left":t.C===hr?"right":mt,(n=Nn(r,"svc"+n,t.i,t.j,e))&&(t.j=e),n}or.prototype.isVisible=function(){return this.l};var fr=0,hr=1,dr=2;function pr(){this.i=[],this.h=null,this.g=0}function gr(t,e){3===e.type?(t.g=2*(63&e.value)-1,t.h=[]):t.h&&(0<t.g&&(t.h.push(e),t.g--),0===t.g&&(t.i.push(new mr(t.h)),t.h=null,t.g=0))}function mr(t){this.g=0,this.h=t}function yr(t){if(!t.ea())throw new Yt(2,2,3e3);return t.h[t.g++]}function vr(t){this.i=t,this.h=[null,null,null,null,null,null,null,null],this.g=null}function br(t,e,n,r){if(128<=n&&135>=n)r=7&n,t.h[r]&&(t.g=t.h[r]);else{if(136===n){n=yr(e).value,e=null;for(var i=(n=l(wr(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()&&(e=lr(i,r,t.i)),ar(i);return e}if(137===n)for(n=(e=l(wr(t,e=yr(e).value))).next();!n.done;n=e.next())(n=t.h[n.value]).isVisible()||(n.j=r),n.l=!0;else{if(138===n){for(n=yr(e).value,e=null,i=(n=l(wr(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()&&(e=lr(i,r,t.i)),i.l=!1;return e}if(139===n){for(n=yr(e).value,e=null,i=(n=l(wr(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()?e=lr(i,r,t.i):i.j=r,i.l=!i.l;return e}if(140===n)return Er(t,e=yr(e).value,r);if(143===n)return r=Er(t,255,r),Tr(t),r;if(144===n)e.skip(1),r=yr(e).value,t.g&&(t.g.o=0<(128&r),t.g.u=0<(64&r));else if(145===n)r=yr(e).value,n=yr(e).value,e.skip(1),t.g&&(e=xr((48&n)>>4,(12&n)>>2,3&n),t.g.s=xr((48&r)>>4,(12&r)>>2,3&r),t.g.m=e);else if(146===n)r=yr(e).value,e=yr(e).value,t.g&&((t=t.g).h=15&r,t.g=63&e);else if(151===n)e.skip(1),e.skip(1),r=yr(e).value,e.skip(1),t.g&&(t.g.C=3&r);else if(152<=n&&159>=n){if(n=(15&n)-8,!(i=null!==t.h[n])){var o=new or;o.j=r,t.h[n]=o}r=yr(e).value,yr(e),yr(e),o=yr(e).value;var a=yr(e).value;e=yr(e).value,i&&!(7&e)||((e=t.h[n]).h=0,e.g=0,e.u=!1,e.o=!1,e.s="white",e.m="black"),(e=t.h[n]).l=0<(32&r),e.D=1+(15&o),e.A=1+(63&a),t.g=t.h[n]}}}return null}function wr(t,e){for(var n=[],r=0;8>r;r++)!(1&~e)&&t.h[r]&&n.push(r),e>>=1;return n}function Er(t,e,n){for(var r=null,i=(e=l(wr(t,e))).next();!i.done;i=e.next()){i=i.value;var o=t.h[i];o.isVisible()&&(r=lr(o,n,t.i)),t.h[i]=null}return r}function Tr(t){t.g=null,t.h=[null,null,null,null,null,null,null,null]}function xr(t,e,n){var r={0:0,1:0,2:1,3:1};return Sr[(t=r[t])<<2|(e=r[e])<<1|(n=r[n])]}mr.prototype.ea=function(){return this.g<this.h.length},mr.prototype.aa=function(){return this.g},mr.prototype.skip=function(t){if(this.g+t>this.h.length)throw new Yt(2,2,3e3);this.g+=t};var Ar=new Map([[32," "],[33,""],[37,""],[42,""],[44,""],[48,""],[49,""],[50,""],[51,""],[52,""],[53,""],[57,""],[58,""],[60,""],[61,""],[63,""],[118,""],[119,""],[120,""],[121,""],[122,""],[123,""],[124,""],[125,""],[126,""],[127,""]]),Sr="black blue green cyan red magenta yellow white".split(" ");function _r(t){this.h=t,this.g=void 0}function Or(){}function Rr(e){if(!e)return"";if(239==(e=rt(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),t.TextDecoder&&!Fe())return(e=(new TextDecoder).decode(e)).includes("")&&z('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var n="",r=0;r<e.length;++r){var i=65533;if(128&e[r]?e.length>=r+2&&192==(224&e[r])&&128==(192&e[r+1])?(i=(31&e[r])<<6|63&e[r+1],r+=1):e.length>=r+3&&224==(240&e[r])&&128==(192&e[r+1])&&128==(192&e[r+2])?(i=(15&e[r])<<12|(63&e[r+1])<<6|63&e[r+2],r+=2):e.length>=r+4&&240==(241&e[r])&&128==(192&e[r+1])&&128==(192&e[r+2])&&128==(192&e[r+3])&&(i=(7&e[r])<<18|(63&e[r+1])<<12|(63&e[r+2])<<6|63&e[r+3],r+=3):i=e[r],65535>=i)n+=String.fromCharCode(i);else{var o=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+o)}}return n}function Cr(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw new Yt(2,2,2004);n=Math.floor(t.byteLength/2);var r=new Uint16Array(n);t=it(t);for(var i=0;i<n;i++)r[i]=t.getUint16(2*i,e);return Pr.value()(r)}function kr(t){function e(t){return n.byteLength<=t||32<=n[t]&&126>=n[t]}if(!t)return"";var n=rt(t);if(239==n[0]&&187==n[1]&&191==n[2])return Rr(n);if(254==n[0]&&255==n[1])return Cr(n.subarray(2),!1);if(255==n[0]&&254==n[1])return Cr(n.subarray(2),!0);if(0==n[0]&&0==n[2])return Cr(t,!1);if(0==n[1]&&0==n[3])return Cr(t,!0);if(e(0)&&e(1)&&e(2)&&e(3))return Rr(t);throw new Yt(2,2,2003)}function Nr(e){if(t.TextEncoder&&!Fe()){var n=new TextEncoder;return nt(n.encode(e))}e=encodeURIComponent(e),e=unescape(e),n=new Uint8Array(e.length);for(var r=0;r<e.length;r++)n[r]=e[r].charCodeAt(0);return nt(n)}function Ir(t,e){for(var n=new ArrayBuffer(2*t.length),r=new DataView(n),i=0;i<t.length;++i)r.setUint16(2*i,t.charCodeAt(i),e);return n}_r.prototype.value=function(){return null==this.g&&(this.g=this.h()),this.g},F("shaka.util.StringUtils",Or),Or.resetFromCharCode=function(){Pr.g=void 0},Or.toUTF16=Ir,Or.toUTF8=Nr,Or.fromBytesAutoDetect=kr,Or.fromUTF16=Cr,Or.fromUTF8=Rr;var Pr=new _r((function(){function t(t){try{var e=new Uint8Array(t);return 0<String.fromCharCode.apply(null,e).length}catch(n){return!1}}for(var e={Wa:65536};0<e.Wa;(e={Wa:e.Wa}).Wa/=2)if(t(e.Wa))return function(t){return function(e){for(var n="",r=0;r<e.length;r+=t.Wa)n+=String.fromCharCode.apply(null,e.subarray(r,r+t.Wa));return n}}(e);return null}));function Lr(t,e){this.h=it(t),this.i=e==jr,this.g=0}function Mr(){return new Yt(2,3,3e3)}(r=Lr.prototype).ea=function(){return this.g<this.h.byteLength},r.aa=function(){return this.g},r.getLength=function(){return this.h.byteLength},r.Sa=function(){try{var t=this.h.getUint8(this.g);return this.g+=1,t}catch(e){throw Mr()}},r.ab=function(){try{var t=this.h.getUint16(this.g,this.i);return this.g+=2,t}catch(e){throw Mr()}},r.H=function(){try{var t=this.h.getUint32(this.g,this.i);return this.g+=4,t}catch(e){throw Mr()}},r.Ae=function(){try{var t=this.h.getInt32(this.g,this.i);return this.g+=4,t}catch(e){throw Mr()}},r.Mb=function(){try{if(this.i)var t=this.h.getUint32(this.g,!0),e=this.h.getUint32(this.g+4,!0);else e=this.h.getUint32(this.g,!1),t=this.h.getUint32(this.g+4,!1)}catch(n){throw Mr()}if(2097151<e)throw new Yt(2,3,3001);return this.g+=8,e*Math.pow(2,32)+t},r.$a=function(t){if(this.g+t>this.h.byteLength)throw Mr();var e=rt(this.h,this.g,t);return this.g+=t,e},r.skip=function(t){if(this.g+t>this.h.byteLength)throw Mr();this.g+=t},r.Zf=function(t){if(this.g<t)throw Mr();this.g-=t},r.seek=function(t){if(0>t||t>this.h.byteLength)throw Mr();this.g=t},r.pc=function(){for(var t=this.g;this.ea()&&0!=this.h.getUint8(this.g);)this.g+=1;return t=rt(this.h,t,this.g-t),this.g+=1,Rr(t)},F("shaka.util.DataViewReader",Lr),Lr.prototype.readTerminatedString=Lr.prototype.pc,Lr.prototype.seek=Lr.prototype.seek,Lr.prototype.rewind=Lr.prototype.Zf,Lr.prototype.skip=Lr.prototype.skip,Lr.prototype.readBytes=Lr.prototype.$a,Lr.prototype.readUint64=Lr.prototype.Mb,Lr.prototype.readInt32=Lr.prototype.Ae,Lr.prototype.readUint32=Lr.prototype.H,Lr.prototype.readUint16=Lr.prototype.ab,Lr.prototype.readUint8=Lr.prototype.Sa,Lr.prototype.getLength=Lr.prototype.getLength,Lr.prototype.getPosition=Lr.prototype.aa,Lr.prototype.hasMoreData=Lr.prototype.ea;var jr=1;function Dr(){this.h=[],this.g=[],this.i=new pr,this.l=0,this.m=new Map([["CC1",new Yn(0,0)],["CC2",new Yn(0,1)],["CC3",new Yn(1,0)],["CC4",new Yn(1,1)]]),this.s=this.o=0,this.j=new Map,this.u=!0,Br(this)}function Br(t){t.o=0,t.s=0;for(var e=l(t.m.values()),n=e.next();!n.done;n=e.next())(n=n.value).h=Qn,n.g=n.j,n.m=null,Dn(n.i),Dn(n.j),Dn(n.o);t.u=!0}function Ur(t,e){var n=e.type;if(16==(112&e.ua)){var r=e.ua>>3&1;0===n?t.o=r:t.s=r}if(n=t.m.get("CC"+(n<<1|(n?t.s:t.o)+1)),255===e.ua&&255===e.Ia||!e.ua&&!e.Ia||!Hr(e.ua)||!Hr(e.Ia))return 45<=++t.l&&Br(t),null;if(t.l=0,e.ua&=127,e.Ia&=127,!e.ua&&!e.Ia)return null;if(t=null,16==(112&e.ua))t:{if(r=e.ua,t=e.Ia,n.m===(r<<8|t))n.m=null;else if(n.m=r<<8|t,16==(240&r)&&64==(192&t)){e=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|t>>5&1];var i=(30&t)>>1;r="white";var o=!1;7>i?r=ir[i]:7===i&&(o=!0),t=!(1&~t),n.h!==nr&&(i=n.g,n.h===er&&e!==i.g&&(Un(i,n=1+e-i.h,1+i.g-i.h,i.h),Fn(i,0,n-1),Fn(i,e+1,15-e)),i.g=e,i.m=t,i.j=o,i.l=r,i.o="black")}else if(17==(247&r)&&32==(240&t))n.g.m=!1,n.g.j=!1,n.g.l="white",Bn(n.g,Hn,32),r=!1,"white_italics"===(e=ir[(14&t)>>1])&&(e="white",r=!0),n.g.m=!(1&~t),n.g.j=r,n.g.l=e;else if(16==(247&r)&&32==(240&t)||23==(247&r)&&45==(255&t))e="black",!(7&r)&&(e=rr[(14&t)>>1]),n.g.o=e;else if(17==(247&r)&&48==(240&t))Bn(n.g,Vn,t);else if(18==(246&r)&&32==(224&t))Bn(n.g,1&r?qn:Gn,t);else if(20==(246&r)&&32==(240&t)){switch(t=e.pts,r=null,e.Ia){case 32:$n(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:r=Zn(n,2,t);break;case 38:r=Zn(n,3,t);break;case 39:r=Zn(n,4,t);break;case 40:Bn(n.g,Hn,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=t;break;case 42:Dn(n.o),Jn(n);break;case 43:Jn(n);break;case 44:e=n.i,r=null,n.h!==nr&&(r=jn(e,n.l,t)),Fn(e,0,15);break;case 45:e=n.g,n.h!==er?r=null:(r=jn(e,n.l,t),Un(e,(o=e.g-e.h+1)-1,o,e.h),Fn(e,0,o-1),Fn(e,e.g,15-e.g),n.l=t);break;case 46:Fn(n.j,0,15);break;case 47:e=null,n.h!==nr&&(e=jn(n.i,n.l,t)),r=n.j,n.j=n.i,n.i=r,$n(n),n.l=t,r=e}t=r;break t}t=null}else r=e.Ia,Bn(n.g,Hn,e.ua),Bn(n.g,Hn,r);return t}function Fr(t,e){var n=[];try{for(;e.ea();){var r=yr(e).value,i=(224&r)>>5,o=31&r;if(7===i&&0!=o&&(i=63&yr(e).value),0!=i){t.j.has(i)||t.j.set(i,new vr(i));for(var a=t.j.get(i),s=e.aa();e.aa()-s<o;){var u=yr(i=e),c=u.value,l=u.pts;if(16===c)c=c<<16|yr(i).value;if(0<=c&&31>=c){var f=l;if(a.g){var h=a.g;switch(i=null,c){case 8:!cr(h)||0>=h.g&&0>=h.h||(0>=h.g?(h.g=h.A-1,h.h--):h.g--,h.i[h.h][h.g]=null);break;case 13:if(h.isVisible()&&(i=lr(h,f,a.i)),h.h+1>=h.D){f=h;for(var d=0,p=1;16>p;p++,d++)f.i[d]=f.i[p];for(p=0;1>p;p++,d++)f.i[d]=sr()}else h.h++;h.g=0;break;case 14:h.isVisible()&&(i=lr(h,f,a.i)),h.i[h.h]=sr(),h.g=0;break;case 12:h.isVisible()&&(i=lr(h,f,a.i)),ar(h),(f=h).h=0,f.g=0}var g=i}else g=null}else if(128<=c&&159>=c)g=br(a,i,c,l);else{if(4096<=c&&4127>=c)8<=(f=255&c)&&15>=f?i.skip(1):16<=f&&23>=f?i.skip(2):24<=f&&31>=f&&i.skip(3);else if(4224<=c&&4255>=c)128<=(f=255&c)&&135>=f?i.skip(4):136<=f&&143>=f&&i.skip(5);else if(32<=c&&127>=c)i=c,a.g&&ur(a.g,127===i?"":String.fromCharCode(i));else if(160<=c&&255>=c)a.g&&ur(a.g,String.fromCharCode(c));else if(4128<=c&&4223>=c){if(i=255&c,a.g)if(Ar.has(i)){var m=Ar.get(i);ur(a.g,m)}else ur(a.g,"_")}else 4256<=c&&4351>=c&&a.g&&ur(a.g,160!=(255&c)?"_":"[CC]");g=null}(i=g)&&n.push(i)}}}}catch(y){if(!(y instanceof Yt&&3e3===y.code))throw y;W("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Hr(t){for(var e=0;t;)e^=1&t,t>>=1;return 1===e}function Vr(t){for(var e=[],n=t,r=t=0;r<n.length;)2==t&&3==n[r]?(t=0,(n=[].concat(f(n))).splice(r,1),n=new Uint8Array(n)):0==n[r]?t++:t=0,r++;for(t=n,r=0;r<t.length;){for(n=0;255==t[r];)n+=255,r++;n+=t[r++];for(var i=0;255==t[r];)i+=255,r++;i+=t[r++],4==n&&e.push(t.subarray(r,r+i)),r+=i}return e}function Gr(){this.i=[],this.h=[],this.g=!1}function qr(t){for(var e=Yr(t);t.reader.ea()&&!t.parser.g;)t.parser.nc(t.start+e,t.reader,t.partialOkay)}function zr(t){for(var e=Yr(t),n=t.reader.H(),r=0;r<n&&(t.parser.nc(t.start+e,t.reader,t.partialOkay),!t.parser.g);r++);}function Kr(t){var e=Yr(t);for(t.reader.skip(78);t.reader.ea()&&!t.parser.g;)t.parser.nc(t.start+e,t.reader,t.partialOkay)}function Wr(t){for(var e=0,n=(t=l(t)).next();!n.done;n=t.next())e=e<<8|n.value.charCodeAt(0);return e}function Xr(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function Yr(t){return 8+(t.has64BitSize?8:0)+(null!=t.flags?4:0)}Lr.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:jr},Dr.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var t=this.i;t.i=[],t.h=[],t.g=0,Br(this);for(var e=(t=l(this.j.values())).next();!e.done;e=t.next())Tr(e.value)},Dr.prototype.extract=function(t,e){if(this.u){for(var n=l(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=e;this.u=!1}if(181===(t=new Lr(t,0)).Sa()&&49===t.ab()&&1195456820===t.H()&&3===t.Sa()&&64&(n=t.Sa()))for(n&=31,t.skip(1),r=0;r<n;r++){var i=t.Sa(),o=(4&i)>>2,a=t.Sa(),s=t.Sa();o&&(0===(i&=3)||1===i?this.h.push({pts:e,type:i,ua:a,Ia:s,order:this.h.length}):(this.g.push({pts:e,type:i,value:a,order:this.g.length}),this.g.push({pts:e,type:2,value:s,order:this.g.length})))}},Dr.prototype.decode=function(){function t(t,e){return t.pts-e.pts||t.order-e.order}var e=[];this.h.sort(t),this.g.sort(t);for(var n=l(this.h),r=n.next();!r.done;r=n.next())(r=Ur(this,r.value))&&e.push(r);for(r=(n=l(this.g)).next();!r.done;r=n.next())gr(this.i,r.value);for(r=(n=l(this.i.i)).next();!r.done;r=n.next())r=Fr(this,r.value),e.push.apply(e,f(r));return this.i.i=[],this.h=[],this.g=[],e},F("shaka.cea.CeaDecoder",Dr),ct=function(){return new Dr},(r=Gr.prototype).box=function(t,e){return t=Wr(t),this.i[t]=Zr,this.h[t]=e,this},r.R=function(t,e){return t=Wr(t),this.i[t]=$r,this.h[t]=e,this},r.stop=function(){this.g=!0},r.parse=function(t,e,n){for(t=new Lr(t,0),this.g=!1;t.ea()&&!this.g;)this.nc(0,t,e,n)},r.nc=function(t,e,n,r){var i=e.aa();if(r&&i+8>e.getLength())this.g=!0;else{var o=e.H(),a=e.H(),s=Xr(a),u=!1;switch(o){case 0:o=e.getLength()-i;break;case 1:if(r&&e.aa()+8>e.getLength())return void(this.g=!0);o=e.Mb(),u=!0}var c=this.h[a];if(c){var l=null,f=null;if(this.i[a]==$r){if(r&&e.aa()+4>e.getLength())return void(this.g=!0);l=(f=e.H())>>>24,f&=16777215}a=i+o,n&&a>e.getLength()&&(a=e.getLength()),r&&a>e.getLength()?this.g=!0:(r=a-e.aa(),c({name:s,parser:this,partialOkay:n||!1,version:l,flags:f,reader:e=new Lr(e=0<r?e.$a(r):new Uint8Array(0),0),size:o,start:i+t,has64BitSize:u}))}else e.skip(Math.min(i+o-e.aa(),e.getLength()-e.aa()))}},F("shaka.util.Mp4Parser",Gr),Gr.headerSize=Yr,Gr.typeToString=Xr,Gr.allData=function(t){return function(e){t(e.reader.$a(e.reader.getLength()-e.reader.aa()))}},Gr.visualSampleEntry=Kr,Gr.sampleDescription=zr,Gr.children=qr,Gr.prototype.parseNext=Gr.prototype.nc,Gr.prototype.parse=Gr.prototype.parse,Gr.prototype.stop=Gr.prototype.stop,Gr.prototype.fullBox=Gr.prototype.R,Gr.prototype.box=Gr.prototype.box;var Zr=0,$r=1;function Jr(t,e){return 1==e?(e=t.H(),t=t.H(),{baseMediaDecodeTime:e*Math.pow(2,32)+t}):{baseMediaDecodeTime:t.H()}}function Qr(t,e){return 1==e?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4)),e=t.H(),t.skip(4),t=t.ab(),{timescale:e,language:String.fromCharCode(96+(t>>10))+String.fromCharCode(96+((960&t)>>5))+String.fromCharCode(96+(31&t))}}function ti(){this.j=new Map,this.i=this.h=0,this.g=ei}ti.prototype.init=function(t){function e(t){(t=t.name)in ii&&(n.g=ii[t])}var n=this,r=[],i=[];if((new Gr).box("moov",qr).box("mvex",qr).R("trex",(function(t){var e=t.reader;e.skip(4),e.skip(4),t=e.H(),e=e.H(),n.h=t,n.i=e})).box("trak",qr).R("tkhd",(function(t){var e=t.reader;1==(t=t.version)?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4));var n=e.H();1==t?e.skip(8):e.skip(4),e.skip(4),e.skip(8),e.skip(2),e.skip(2),e.skip(2),e.skip(2),e.skip(36),e.ab(),e.ab(),e.ab(),e.ab(),r.push(n)})).box("mdia",qr).R("mdhd",(function(t){t=Qr(t.reader,t.version),i.push(t.timescale)})).box("minf",qr).box("stbl",qr).R("stsd",zr).box("avc1",e).box("avc3",e).box("hev1",e).box("hvc1",e).box("dvh1",e).box("dvhe",e).box("encv",Kr).box("sinf",qr).box("frma",(function(t){(t=Xr(t=t.reader.H()))in ii&&(n.g=ii[t])})).parse(t,!0),!r.length||!i.length||r.length!=i.length)throw new Yt(2,2,2010);this.g==ei&&K("Unable to determine bitstream format for CEA parsing!"),r.forEach((function(t,e){n.j.set(t,i[e])}))},ti.prototype.parse=function(t){var e=this;if(this.g==ei)return[];var n=[],r=this.h,i=this.i,o=0,a=[],s=null,u=9e4;return(new Gr).box("moof",(function(t){o=t.start,a=[],qr(t)})).box("traf",qr).R("trun",(function(t){var e=t.reader,n=t.version;t=t.flags;var r=e.H(),i=[],o=null;1&t&&(o=e.H()),4&t&&e.skip(4);for(var s=0;s<r;s++){var u={Ce:null,sampleSize:null,Be:null};256&t&&(u.Ce=e.H()),512&t&&(u.sampleSize=e.H()),1024&t&&e.skip(4),2048&t&&(u.Be=0==n?e.H():e.Ae()),i.push(u)}a.push({yg:r,$f:i,Ye:o})})).R("tfhd",(function(t){var n=t.reader;t=t.flags;var o=null,a=null,s=n.H();1&t&&n.Mb(),2&t&&n.skip(4),8&t&&(o=n.H()),16&t&&(a=n.H()),r=o||e.h,i=a||e.i,e.j.has(s)&&(u=e.j.get(s))})).R("tfdt",(function(t){s=Jr(t.reader,t.version).baseMediaDecodeTime})).box("mdat",(function(t){if(null===s)throw K("Unable to find base media decode time for CEA captions!"),new Yt(2,2,2010);!function(t,e,n,r,i,o,a,s,u){var c=0,h=o,d=s.map((function(t){return t.$f}));for((d=[].concat.apply([],f(d))).length&&(h=d[0].sampleSize||o),e.skip(a+s[0].Ye);e.ea();){a=e.H();var p=e.Sa(),g=null;switch(g=!1,s=1,t.g){case ni:g=6==(g=31&p);break;case ri:s=2,e.skip(1),g=39==(g=p>>1&63)||40==g;break;default:return}if(g)for(p=0,c<d.length&&(p=d[c].Be||0),p=(n+p)/r,g=(s=l(Vr(e.$a(a-s)))).next();!g.done;g=s.next())u.push({packet:g.value,pts:p});else try{e.skip(a-s)}catch(m){break}0==(h-=a+4)&&(n=c<d.length?n+(d[c].Ce||i):n+i,h=++c<d.length&&d[c].sampleSize||o)}}(e,t.reader,s,u,r,i,o-t.start-8,a,n)})).parse(t,!1),n},F("shaka.cea.Mp4CeaParser",ti);var ei=0,ni=1,ri=2,ii={avc1:ni,avc3:ni,hev1:ri,hvc1:ri,dvh1:ri,dvhe:ri};function oi(t,e){this.g=t,this.h=e}function ai(t,e){var n=new oi(5,0),r=ci,i=r.g,o=n.h-i.h;(0<(n.g-i.g||o)?r.i:r.h)(r.g,n,t,e)}function si(t,e,n,r){K([n,"has been deprecated and will be removed in",e,". We are currently at version",t,". Additional information:",r].join(" "))}function ui(t,e,n,r){z([n,"has been deprecated and has been removed in",e,". We are now at version",t,". Additional information:",r].join(""))}ut["video/mp4"]=function(){return new ti},oi.prototype.toString=function(){return"v"+this.g+"."+this.h};var ci=null;function li(t){this.j=t,this.i=t.byteLength,this.g=this.h=0}function fi(t){var e=t.j.byteLength-t.i,n=new Uint8Array(4),r=Math.min(4,t.i);0!==r&&(n.set(t.j.subarray(e,e+r)),t.h=new Lr(n,0).H(),t.g=8*r,t.i-=r)}function hi(t,e){if(t.g<=e){e-=t.g;var n=Math.floor(e/8);e-=8*n,t.g-=n,fi(t)}t.h<<=e,t.g-=e}function di(t,e){var n=Math.min(t.g,e),r=t.h>>>32-n;return t.g-=n,0<t.g?t.h<<=n:0<t.i&&fi(t),0<(n=e-n)?r<<n|di(t,n):r}function pi(t){var e;for(e=0;e<t.g;++e)if(t.h&2147483648>>>e)return t.h<<=e,t.g-=e,e;return fi(t),e+pi(t)}function gi(t){hi(t,1+pi(t))}function mi(t){return di(t,pi(t)+1)-1}function yi(t,e){for(var n=8,r=8,i=0;i<e;i++)0!==r&&(r=(n+(1&(r=mi(t))?1+r>>>1:-1*(r>>>1))+256)%256),n=0===r?n:r}function vi(t){return di(t,8),mi(t),mi(t)}function bi(){}function wi(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&255>t[e+3]&&255>t[e+4]&&128>t[e+6]&&128>t[e+7]&&128>t[e+8]&&128>t[e+9]}function Ei(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&255>t[e+3]&&255>t[e+4]&&128>t[e+6]&&128>t[e+7]&&128>t[e+8]&&128>t[e+9]}function Ti(t,e){var n=(127&t[e])<<21;return n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]}function xi(t){var e={key:t.type,description:"",data:""};if("TXXX"===t.type){if(2>t.size||3!==t.data[0])return null;var n=t.data.subarray(1).indexOf(0);if(-1===n)return null;var r=Rr(rt(t.data,1,n));return t=Rr(rt(t.data,2+n)).replace(/\0*$/,""),e.description=r,e.data=t,e}return"WXXX"===t.type?2>t.size||3!==t.data[0]||-1===(n=t.data.subarray(1).indexOf(0))?null:(r=Rr(rt(t.data,1,n)),t=Rr(rt(t.data,2+n)).replace(/\0*$/,""),e.description=r,e.data=t,e):"PRIV"===t.type?2>t.size||-1===(r=t.data.indexOf(0))?null:(r=Rr(rt(t.data,0,r)),e.description=r,"com.apple.streaming.transportStreamTimestamp"==r?(r=t.data.subarray(r.length+1),t=1&r[3],r=(r[4]<<23)+(r[5]<<15)+(r[6]<<7)+r[7],r/=45,t&&(r+=47721858.84),e.data=r):(t=nt(t.data.subarray(r.length+1)),e.data=t),e):"T"===t.type[0]?2>t.size||3!==t.data[0]?null:(t=Rr(t.data.subarray(1)).replace(/\0*$/,""),e.data=t,e):"W"===t.type[0]?(t=Rr(t.data).replace(/\0*$/,""),e.data=t,e):t.data?(e.data=nt(t.data),e):null}function Ai(t){for(var e=0,n=[];wi(t,e);){var r=Ti(t,e+6);for(t[e+5]>>6&1&&(e+=10),r=(e+=10)+r;e+10<r;){var i=t.subarray(e),o=Ti(i,4);(o=xi(i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:o,data:i.subarray(10,10+o)}))&&n.push(o),e+=i.size+10}Ei(t,e)&&(e+=10)}return n}function Si(t,e){for(var n=e=void 0===e?0:e,r=0;wi(t,e);)t[e+5]>>6&1&&(r+=10),r+=10,r+=Ti(t,e+6),Ei(t,e+10)&&(r+=10),e+=r;return 0<r?t.subarray(n,n+r):new Uint8Array([])}function _i(){}function Oi(t){return t=rt(t),t=Pr.value()(t),btoa(t)}function Ri(t,e){return e=null==e||e,t=Oi(t).replace(/\+/g,"-").replace(/\//g,"_"),e?t:t.replace(/[=]*$/,"")}function Ci(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}function ki(e){for(var n=e.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.parseInt(e.substr(2*i,2),16);return r}function Ni(t){var e=rt(t);t="";for(var n=(e=l(e)).next();!n.done;n=e.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),t+=n;return t}function Ii(){for(var t=P.apply(0,arguments),e=0,n=l(t),r=n.next();!r.done;r=n.next())e+=r.value.byteLength;for(e=new Uint8Array(e),n=0,r=(t=l(t)).next();!r.done;r=t.next())r=r.value,e.set(rt(r),n),n+=r.byteLength;return e}function Pi(){this.u=null,this.A=!1,this.m=this.o=null,this.i=[],this.s=this.j=null,this.g=[],this.l=null,this.h=[]}function Li(t){if(1!=(t[0]<<16|t[1]<<8|t[2]))return null;var e={data:new Uint8Array(0),Md:t[4]<<8|t[5],pts:null,dts:null};if(e.Md&&e.Md>t.byteLength-6)return null;var n=t[7];return 192&n&&(e.pts=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,e.dts=e.pts,64&n&&(e.dts=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)),n=t[8]+9,t.byteLength<=n?null:(e.data=t.subarray(n),e)}function Mi(t){return!(0>ji(t))}function ji(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71==t[n]&&71==t[n+188]&&71==t[n+376])return n;n++}return-1}F("shaka.util.ExpGolomb",li),F("shaka.util.Id3Utils",bi),bi.getID3Data=Si,bi.getID3Frames=Ai,F("shaka.util.Uint8ArrayUtils",_i),_i.concat=Ii,_i.toHex=Ni,_i.fromHex=ki,_i.fromBase64=Ci,_i.toBase64=Ri,_i.toStandardBase64=Oi,(r=Pi.prototype).clearData=function(){this.i=[],this.g=[],this.h=[]},r.parse=function(t){if(564>t.length)return this;for(var e=Math.max(0,ji(t)),n=t.length-(t.length+e)%188,r=!1,i=e;i<n;i+=188)if(71==t[i]){var o=!!(64&t[i+1]),a=((31&t[i+1])<<8)+t[i+2];if(1<(48&t[i+3])>>4){var s=i+5+t[i+4];if(s==i+188)continue}else s=i+4;switch(a){case 0:o&&(s+=t[s]+1),this.u=(31&t[s+10])<<8|t[s+11];break;case 17:case 8191:break;case this.u:o&&(s+=t[s]+1),a={audio:-1,video:-1,rd:-1,audioCodec:"",videoCodec:""};var u=s+3+((15&(o=t)[s+1])<<8|o[s+2])-4;for(s+=12+((15&o[s+10])<<8|o[s+11]);s<u;){var c=(31&o[s+1])<<8|o[s+2],l=(15&o[s+3])<<8|o[s+4];switch(o[s]){case 6:if(-1==a.audio&&0<l)for(var f=s+5,h=l;2<h;){switch(o[f]){case 106:a.audio=c,a.audioCodec="ac3";break;case 122:a.audio=c,a.audioCodec="ec3"}var d=o[f+1]+2;f+=d,h-=d}break;case 15:-1==a.audio&&(a.audio=c,a.audioCodec="aac");break;case 21:-1==a.rd&&(a.rd=c);break;case 27:-1==a.video&&(a.video=c,a.videoCodec="avc");break;case 3:case 4:-1==a.audio&&(a.audio=c,a.audioCodec="mp3");break;case 36:-1==a.video&&(a.video=c,a.videoCodec="hvc");break;case 129:-1==a.audio&&(a.audio=c,a.audioCodec="ac3");break;case 132:case 135:-1==a.audio&&(a.audio=c,a.audioCodec="ec3")}s+=l+5}o=a,null==this.o&&(this.o=o.video,this.m=o.videoCodec),null==this.j&&(this.j=o.audio,this.s=o.audioCodec),null==this.l&&(this.l=o.rd),r&&!this.A&&(r=!1,i=e-188),this.A=!0;break;case this.o:s=t.subarray(s,i+188),o?this.i.push(s):this.i.length&&(o=this.i[this.i.length-1])&&(this.i[this.i.length-1]=Ii(o,s));break;case this.j:s=t.subarray(s,i+188),o?this.g.push(s):this.g.length&&(o=this.g[this.g.length-1])&&(this.g[this.g.length-1]=Ii(o,s));break;case this.l:s=t.subarray(s,i+188),o?this.h.push(s):this.h.length&&(o=this.h[this.h.length-1])&&(this.h[this.h.length-1]=Ii(o,s));break;default:r=!0}}return this},r.Nd=function(t,e){for(var n,r=t.pts?t.pts/9e4:null,i=t.data,o=i.byteLength,a=0,s=[],u=-1,c=0,l=!1,f=0;f<o;++f){var h=i[f];if(h){if(2<=a&&1==h&&l){if(0==(t=f-(3<a?3:a)))break;n.data=Ii(n.data,i.subarray(0,t)),n.La=Ii(n.La,i.subarray(0,t));break}if(2<=a&&1==h){if(0<=u&&(a=f-((3<a?3:a)+1),s.push({data:i.subarray(u+1,a+1),La:i.subarray(u,a+1),type:c,time:r})),f>=o-1)return s;u=++f,c=31&i[f]}a=0}else a++;f>=o-1&&0<=u&&0<=a&&(l?(n.data=Ii(n.data,i),n.La=Ii(n.La,i)):(l=!0,n={data:i.subarray(u+1,o),La:i.subarray(u,o),type:c,time:r},e&&0==t.Md&&(o=(i=e.data).byteLength,f=-1)))}return n&&s.push(n),s},r.getMetadata=function(){for(var t=[],e=l(this.h),n=e.next();!n.done;n=e.next())(n=Li(n.value))&&t.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Ai(n.data),dts:n.dts,pts:n.pts});return t},r.jb=function(){for(var t=[],e=l(this.g),n=e.next();!n.done;n=e.next())(n=Li(n.value))&&t.push(n);return t},r.Jc=function(){for(var t=[],e=l(this.i),n=e.next();!n.done;n=e.next()){var r=Li(n=n.value);r&&null!=r.pts&&null!=r.dts?t.push(r):t.length&&(n=r?r.data:n)&&((r=t.pop()).data=Ii(r.data,n),t.push(r))}return t},r.getStartTime=function(){for(var t=null,e=l(this.jb()),n=e.next();!n.done;n=e.next()){var r=n.value;r&&null!=r.pts&&(r=Math.min(r.dts,r.pts)/9e4,null==t||t>r)&&(t=r)}for(e=null,n=(r=l(this.Jc())).next();!n.done;n=r.next())(n=n.value)&&null!=n.pts&&(n=Math.min(n.dts,n.pts)/9e4,null==e||e>n)&&(e=n);return{audio:t,video:e}},r.md=function(){return{audio:this.s,video:this.m}},r.qd=function(){var t=[];if("avc"!=this.m)return t;for(var e=this.Jc(),n=0;n<e.length;n++){var r=e[n],i=void 0;n+1<e.length&&(i=e[n+1]),t.push.apply(t,f(this.Nd(r,i)))}return t},r.Cf=function(){ai("TsParser","Please use getVideoInfo function instead.");var t=this.qe();return{height:t.height,width:t.width}},r.qe=function(){var t={height:null,width:null,Bc:null},e=this.qd();if(!e.length)return t;if(!(e=e.find((function(t){return 7==t.type}))))return t;var n=di(e=new li(e.data),8),r=di(e,8),i=di(e,8);if(gi(e),Di.includes(n)){var o=mi(e);if(3===o&&hi(e,1),gi(e),gi(e),hi(e,1),1===di(e,1)){o=3!==o?8:12;for(var a=0;a<o;a++)1===di(e,1)&&yi(e,6>a?16:64)}}if(gi(e),0===(o=mi(e)))mi(e);else if(1===o)for(hi(e,1),gi(e),gi(e),o=mi(e),a=0;a<o;a++)gi(e);gi(e),hi(e,1),o=mi(e),a=mi(e);var s=di(e,1);0===s&&hi(e,1),hi(e,1);var u=0,c=0,l=0,f=0;return 1===di(e,1)&&(u=mi(e),c=mi(e),l=mi(e),f=mi(e)),t.height=String((2-s)*(a+1)*16-2*l-2*f),t.width=String(16*(o+1)-2*u-2*c),t.Bc="avc1."+("0"+n.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2),t},F("shaka.util.TsParser",Pi),Pi.syncOffset=ji,Pi.probe=Mi,Pi.prototype.getVideoInfo=Pi.prototype.qe,Pi.prototype.getVideoResolution=Pi.prototype.Cf,Pi.prototype.getVideoNalus=Pi.prototype.qd,Pi.prototype.getCodecs=Pi.prototype.md,Pi.prototype.getStartTime=Pi.prototype.getStartTime,Pi.prototype.getVideoData=Pi.prototype.Jc,Pi.prototype.getAudioData=Pi.prototype.jb,Pi.prototype.getMetadata=Pi.prototype.getMetadata,Pi.prototype.parseAvcNalus=Pi.prototype.Nd,Pi.prototype.parse=Pi.prototype.parse,Pi.prototype.clearData=Pi.prototype.clearData,Pi.Timescale=9e4;var Di=[100,110,122,244,44,83,86,118,128,138,139,134];function Bi(){}function Ui(t){var e=this;this.h=[],this.g=[],this.data=[],(new Gr).box("moov",qr).box("moof",qr).R("pssh",(function(t){if(!(1<t.version)){var n=rt(t.reader.h,-12,t.size);if(e.data.push(n),e.h.push(Ni(t.reader.$a(16))),0<t.version){n=t.reader.H();for(var r=0;r<n;r++){var i=Ni(t.reader.$a(16));e.g.push(i)}}}})).parse(t)}function Fi(t,e,n,r){var i=t.length,o=e.length+16+i;0<r&&(o+=4+16*n.size);var a=new Uint8Array(o),s=it(a),u=0;if(s.setUint32(u,o),u+=4,s.setUint32(u,1886614376),u+=4,1>r?s.setUint32(u,0):s.setUint32(u,16777216),u+=4,a.set(e,u),u+=e.length,0<r)for(s.setUint32(u,n.size),u+=4,n=(e=l(n)).next();!n.done;n=e.next())n=ki(n.value),a.set(n,u),u+=n.length;return s.setUint32(u,i),a.set(t,u+4),a}function Hi(t,e){return 1!=(t=Gi(t,e)).length?null:t[0]}function Vi(t,e,n){return 1!=(t=qi(t,e,n)).length?null:t[0]}function Gi(t,e){for(var n=[],r=(t=l(t.childNodes)).next();!r.done;r=t.next())(r=r.value)instanceof Element&&r.tagName==e&&n.push(r);return n}function qi(t,e,n){for(var r=[],i=(t=l(t.childNodes)).next();!i.done;i=t.next())(i=i.value)instanceof Element&&i.localName==n&&i.namespaceURI==e&&r.push(i);return r}function zi(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function Ki(t){return Array.from(t.childNodes).every(Wi)?t.textContent.trim():null}function Wi(t){return t.nodeType==Node.TEXT_NODE||t.nodeType==Node.CDATA_SECTION_NODE}function Xi(t,e,n,r){r=void 0===r?null:r;var i=null;return null!=(t=t.getAttribute(e))&&(i=n(t)),null==i?r:i}function Yi(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:t/1e3):null}function Zi(t){return t&&(t=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null}function $i(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null}function Ji(t){return 0==(t=Number(t))%1?t:null}function Qi(t){return 0==(t=Number(t))%1&&0<t?t:null}function to(t){return 0==(t=Number(t))%1&&0<=t?t:null}function eo(t){return t=Number(t),isNaN(t)?null:t}function no(t){return!!t&&"true"===t.toLowerCase()}function ro(t){var e,n=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1])/Number(e[2]):Number(t);return isNaN(n)?null:n}function io(t,e){var n=new DOMParser,r=ao.value()(t);t=null;try{t=n.parseFromString(r,"text/xml")}catch(i){return null}if(!(n=t.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=e)return null;for(e=document.createNodeIterator(t,NodeFilter.SHOW_ALL);t=e.nextNode();)if(t instanceof HTMLElement||t instanceof SVGElement)return null;return n}function oo(t,e){try{return io(kr(t),e)}catch(n){return null}}Bi.prototype.init=function(){},Bi.prototype.parse=function(t){var e=[];if(!Mi(t=rt(t)))return e;for(var n=(t=l(t=(new Pi).parse(t).qd())).next();!n.done;n=t.next())if(6==(n=n.value).type&&null!=n.time)for(var r=l(Vr(n.data)),i=r.next();!i.done;i=r.next())e.push({packet:i.value,pts:n.time});return e},F("shaka.cea.TsCeaParser",Bi),ut["video/mp2t"]=function(){return new Bi},F("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});var ao=new _r((function(){if("undefined"!=typeof trustedTypes){var t=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(e){return t.createHTML(e)}}return function(t){return t}}));function so(t,e,n){var r=function(t){for(var e=[],n=(t=l(t)).next();!n.done;n=t.next())(n=co(n.value))&&e.push(n);return e}(t),i=null;t=[];var o=[],a=new Set(r.map((function(t){return t.keyId})));if(a.delete(null),1<a.size)throw new Yt(2,4,4010);if(e||(o=r.filter((function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.Td||(i=t.init||i,!1)}))).length&&(t=function(t,e,n,r){for(var i=[],o=(e=l(e)).next();!o.done;o=e.next()){var a=n[(o=o.value).Td];if(a){var s;if(s=Vi(o.node,"urn:microsoft:playready","pro")){s=Ci(s.textContent);var u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);s=[{initData:Fi(s,u,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else s=null;if(u=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===o.Td)if(0==(u=r).size)u=null;else{var c=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);u=[{initData:Fi(new Uint8Array([]),c,u,1),initDataType:"cenc",keyId:o.keyId}]}s=ee(a,o.init||t||s||u),(a=fo.get(a))&&(s.licenseServerUri=a(o)),i.push(s)}}return i}(i,o,n,a),0==t.length&&(t=[ee("",i)])),r.length&&(e||!o.length))for(t=[],n=(e=l(Object.values(n))).next();!n.done;n=e.next())"org.w3.clearkey"!=(n=n.value)&&t.push(ee(n,i));if(a=Array.from(a)[0]||null)for(n=(e=l(t)).next();!n.done;n=e.next())for(r=(n=l(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=a;return{ke:a,vg:i,drmInfos:t,ne:!0}}function uo(t){var e=Vi(t.node,"https://dashif.org/CPS","Laurl");return e&&e.textContent?e.textContent:(t=Vi(t.node,"urn:microsoft:playready","pro"))?(t=function(t){var e=0,n=it(t),r=n.getUint32(e,!0);if(r!=t.byteLength)return[];t:{for(t=e+6,e=[];t<n.byteLength-1;){r=n.getUint16(t,!0),t+=2;var i=n.getUint16(t,!0);if(t+=2,1&i||i+t>n.byteLength){n=[];break t}var o=rt(n,t,i);e.push({type:r,value:o}),t+=i}n=e}return n}(t=Ci(t.textContent)).filter((function(t){return t.type===lo}))[0],t&&(t=io(t=Cr(t.value,!0),"WRMHEADER"))?function(t){for(var e=(t=l(t.getElementsByTagName("DATA"))).next();!e.done;e=t.next())for(var n=(e=l(e.value.childNodes)).next();!n.done;n=e.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent;return""}(t):""):""}function co(t){var e=t.getAttribute("schemeIdUri"),n=zi(t,"urn:mpeg:cenc:2013","default_KID"),r=qi(t,"urn:mpeg:cenc:2013","pssh").map(Ki);if(!e)return null;if(e=e.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new Yt(2,4,4009);var i=[];try{i=r.map((function(t){return{initDataType:"cenc",initData:Ci(t),keyId:null}}))}catch(o){throw new Yt(2,4,4007)}return{node:t,Td:e,keyId:n,init:0<i.length?i:null}}var lo=1,fo=(new Map).set("com.widevine.alpha",(function(t){var e=Vi(t.node,"https://dashif.org/CPS","Laurl");return e&&e.textContent?e.textContent:(t=Vi(t.node,"urn:microsoft","laurl"))&&t.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",uo).set("com.microsoft.playready.recommendation",uo).set("com.microsoft.playready.software",uo).set("com.microsoft.playready.hardware",uo).set("org.w3.clearkey",(function(t){var e=Vi(t.node,"https://dashif.org/CPS","Laurl");return e&&e.textContent?e.textContent:(t=Vi(t.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===t.getAttribute("Lic_type")&&t.textContent?t.textContent:""}));function ho(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.j=null==t.baseDelay?n.baseDelay:t.baseDelay,this.o=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.m=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==e&&e)&&(this.g=1)}function po(t){var e,n;return I((function(r){if(1==r.g){if(t.g>=t.l){if(!t.i)throw new Yt(2,7,1010);t.g=1,t.h=t.j}return e=t.g,t.g++,0==e?r.return():(n=t.h*(1+(2*Math.random()-1)*t.o),E(r,new Promise((function(t){new Ie(t).V(n/1e3)})),2))}t.h*=t.m,T(r)}))}function go(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function mo(t,e){this.promise=t,this.i=e,this.g=!1}function yo(t){return new mo(Promise.reject(t),(function(){return Promise.resolve()}))}function vo(){var t=Promise.reject(new Yt(2,7,7001));return t.catch((function(){})),new mo(t,(function(){return Promise.resolve()}))}function bo(t){return new mo(Promise.resolve(t),(function(){return Promise.resolve()}))}function wo(t){return new mo(t,(function(){return t.catch((function(){}))}))}function Eo(t){return new mo(Promise.all(t.map((function(t){return t.promise}))),(function(){return Promise.all(t.map((function(t){return t.abort()})))}))}function To(e,n){if(n)if(n instanceof Map)for(var r=l(n.keys()),i=r.next();!i.done;i=r.next())i=i.value,Object.defineProperty(this,i,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function xo(){this.ia=new ke,this.Ke=this}function Ao(t){var e=new Set;return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(e.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;e.add(n);var i,o=r?[]:{};for(i in n)o[i]=t(n[i]);return r&&(o.length=n.length),o}}(t)}function So(t){var e,n={};for(e in t)n[e]=t[e];return n}function _o(){this.g=[]}function Oo(t,e){t.g.push(e.finally((function(){var n=t.g,r=n.indexOf(e);-1<r&&n.splice(r,1)})))}function Ro(t,e,n,r){xo.call(this),this.i=!1,this.m=new _o,this.g=new Set,this.h=new Set,this.l=t||null,this.j=e||null,this.s=n||null,this.u=r||null,this.o=!1}function Co(t,e,n,r){n=n||Mo;var i=jo[t];(!i||n>=i.priority)&&(jo[t]={priority:n,Wc:e,Tf:void 0!==r&&r})}function ko(t,e,n){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function No(t,e,n,r,i,o,a){t.o&&(n.uris[i]=n.uris[i].replace("http://","https://"));var s=new Mt(n.uris[i]),u=s.za,c=!1;u||(jt(s,u=(u=location.protocol).slice(0,-1)),n.uris[i]=s.toString()),u=u.toLowerCase();var l=(u=jo[u])?u.Wc:null;if(!l)return yo(new Yt(2,1,1e3,s));var f,h=u.Tf,d=null,p=null,g=!1,m=!1;return wo(po(r)).ka((function(){if(t.i)return vo();f=Date.now();var r=l(n.uris[i],n,e,(function(n,r,i){d&&d.stop(),p&&p.V(s/1e3),t.l&&e==Lo&&(t.l(n,r),c=!0,a.g=i)}),(function(r){t.j&&t.j(r,n,e),m=!0}));if(!h)return r;var o=n.retryParameters.connectionTimeout;o&&(d=new Ie((function(){g=!0,r.abort()}))).V(o/1e3);var s=n.retryParameters.stallTimeout;return s&&(p=new Ie((function(){g=!0,r.abort()}))),r})).ka((function(r){d&&d.stop(),p&&p.stop(),null==r.timeMs&&(r.timeMs=Date.now()-f);var i={response:r,Ef:c};return!m&&t.j&&t.j(r.headers,n,e),i}),(function(s){if(d&&d.stop(),p&&p.stop(),t.s){var u=null,c=0;s instanceof Yt&&(u=s,1001==s.code&&(c=s.data[1])),t.s(n,u,c,g)}if(t.i)return vo();if(g&&(s=new Yt(1,1,1003,n.uris[i],e)),s instanceof Yt){if(7001==s.code)throw s;if(1010==s.code)throw o;if(1==s.severity)return u=new To("retry",u=(new Map).set("error",s)),t.dispatchEvent(u),i=(i+1)%n.uris.length,No(t,e,n,r,i,s,a)}throw s}))}function Io(){this.g=0}function Po(t,e,n){mo.call(this,t,e),this.h=n}go.prototype.resolve=function(){},go.prototype.reject=function(){},mo.prototype.abort=function(){return this.g=!0,this.i()},mo.prototype.finally=function(t){return this.promise.then((function(){return t(!0)}),(function(){return t(!1)})),this},mo.prototype.ka=function(t,e){function n(n){return function(s){if(i.g&&n)o.reject(a);else{var u=n?t:e;u?r=function(t,e,n){try{var r=t(e);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}(u,s,o):(n?o.resolve:o.reject)(s)}}}function r(){return o.reject(a),i.abort()}var i=this,o=new go,a=new Yt(2,7,7001);return this.promise.then(n(!0),n(!1)),new mo(o,(function(){return r()}))},F("shaka.util.AbortableOperation",mo),mo.prototype.chain=mo.prototype.ka,mo.prototype.finally=mo.prototype.finally,mo.all=Eo,mo.prototype.abort=mo.prototype.abort,mo.notAbortable=wo,mo.completed=bo,mo.aborted=vo,mo.failed=yo,To.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},To.prototype.stopImmediatePropagation=function(){this.g=!0},To.prototype.stopPropagation=function(){},F("shaka.util.FakeEvent",To),xo.prototype.addEventListener=function(t,e){this.ia&&this.ia.push(t,e)},xo.prototype.removeEventListener=function(t,e){this.ia&&this.ia.remove(t,e)},xo.prototype.dispatchEvent=function(t){if(!this.ia)return!0;var e=this.ia.get(t.type)||[],n=this.ia.get("All");for(n&&(e=e.concat(n)),n=(e=l(e)).next();!n.done;n=e.next()){n=n.value,t.target=this.Ke,t.currentTarget=this.Ke;try{n.handleEvent?n.handleEvent(t):n.call(this,t)}catch(r){}if(t.g)break}return t.defaultPrevented},xo.prototype.release=function(){this.ia=null},_o.prototype.destroy=function(){for(var t=[],e=l(this.g),n=e.next();!n.done;n=e.next())(n=n.value).promise.catch((function(){})),t.push(n.abort());return this.g=[],Promise.all(t)},y(Ro,xo),(r=Ro.prototype).Vd=function(t){this.o=t},r.Uf=function(t){this.g.add(t)},r.jg=function(t){this.g.delete(t)},r.Ve=function(){this.g.clear()},r.Vf=function(t){this.h.add(t)},r.kg=function(t){this.h.delete(t)},r.We=function(){this.h.clear()},r.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),xo.prototype.release.call(this),this.m.destroy()},r.request=function(t,e,n){var r=this,i=new Io;if(this.i){var o=Promise.reject(new Yt(2,7,7001));return o.catch((function(){})),new Po(o,(function(){return Promise.resolve()}),i)}e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?Ao(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},e.uris=Ao(e.uris),o=function(t,e,n,r){function i(t){o=o.ka((function(){return n.body&&(n.body=nt(n.body)),t(e,n,r)}))}var o=bo(void 0);t.u&&i(t.u);for(var a=(t=l(t.g)).next();!a.done;a=t.next())i(a.value);return o.ka(void 0,(function(t){if(t instanceof Yt&&7001==t.code)throw t;throw new Yt(2,1,1006,t)}))}(this,t,e,n);var a=o.ka((function(){return No(r,t,e,new ho(e.retryParameters,!1),0,null,i)})),s=a.ka((function(e){return function(t,e,n,r){for(var i=bo(void 0),o={},a=(t=l(t.h)).next();!a.done;o={dd:o.dd},a=t.next())o.dd=a.value,i=i.ka(function(t){return function(){var i=n.response;return i.data&&(i.data=nt(i.data)),t.dd(e,i,r)}}(o));return i.ka((function(){return n}),(function(t){var e=2;if(t instanceof Yt){if(7001==t.code)throw t;e=t.severity}throw new Yt(e,1,1007,t)}))}(r,t,e,n)})),u=Date.now(),c=0;o.promise.then((function(){c=Date.now()-u}),(function(){}));var f=0;a.promise.then((function(){f=Date.now()}),(function(){}));var h=s.ka((function(n){var i=Date.now()-f,o=n.response;return o.timeMs+=c,o.timeMs+=i,n.Ef||!r.l||o.fromCache||"HEAD"==e.method||t!=Lo||r.l(o.timeMs,o.data.byteLength),o}),(function(t){throw t&&(t.severity=2),t}));return o=new Po(h.promise,(function(){return h.abort()}),i),Oo(this.m,o),o},F("shaka.net.NetworkingEngine",Ro),Ro.prototype.request=Ro.prototype.request,Ro.prototype.destroy=Ro.prototype.destroy,Ro.makeRequest=ko,Ro.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},Ro.prototype.clearAllResponseFilters=Ro.prototype.We,Ro.prototype.unregisterResponseFilter=Ro.prototype.kg,Ro.prototype.registerResponseFilter=Ro.prototype.Vf,Ro.prototype.clearAllRequestFilters=Ro.prototype.Ve,Ro.prototype.unregisterRequestFilter=Ro.prototype.jg,Ro.prototype.registerRequestFilter=Ro.prototype.Uf,Ro.unregisterScheme=function(t){delete jo[t]},Ro.registerScheme=Co,Ro.prototype.setForceHTTPS=Ro.prototype.Vd,Ro.NumBytesRemainingClass=Io,y(Po,mo),Ro.PendingRequest=Po;var Lo=1;Ro.RequestType={MANIFEST:0,SEGMENT:Lo,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6},Ro.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5};var Mo=3;Ro.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:Mo};var jo={};function Do(e,n,r,i,o){var a={RepresentationID:n,Number:r,Bandwidth:i,Time:o};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(e,n,r,i){if("$$"==e)return"$";var o=a[n];if(null==o)return e;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(o=Math.round(o)),i){case void 0:case"d":case"i":case"u":e=o.toString();break;case"o":e=o.toString(8);break;case"x":e=o.toString(16);break;case"X":e=o.toString(16).toUpperCase();break;default:e=o.toString()}return r=t.parseInt(r,10)||1,Array(Math.max(0,r-e.length)+1).join("0")+e}))}function Bo(t,e){var n=Uo(t,e,"timescale"),r=1;n&&(r=Qi(n)||1);var i=Uo(t,e,"duration");n=Qi(i||""),"image"==t.G.contentType&&(n=eo(i||"")),n&&(n/=r);var o=Uo(t,e,"startNumber");i=Number(Uo(t,e,"presentationTimeOffset"))||0;var a=to(o||"");if(null!=o&&null!=a||(a=1),o=Fo(t,e,"SegmentTimeline"),e=null,o){e=r,t=t.U.duration||1/0,o=Gi(o,"S");for(var s=[],u=-i,c=0;c<o.length;++c){var l=o[c],f=o[c+1],h=Xi(l,"t",to),d=Xi(l,"d",to);if(l=Xi(l,"r",Ji),null!=h&&(h-=i),!d)break;if(h=null!=h?h:u,0>(l=l||0))if(f){if(null==(f=Xi(f,"t",to)))break;if(h>=f)break;l=Math.ceil((f-h)/d)-1}else{if(1/0==t)break;if(h/e>=t)break;l=Math.ceil((t*e-h)/d)-1}for(0<s.length&&h!=u&&(s[s.length-1].end=h/e),f=0;f<=l;++f)u=h+d,s.push({start:h/e,end:u/e,be:h}),h=u}e=s}return{timescale:r,fa:n,Pb:a,Ta:i/r||0,ae:i,timeline:e}}function Uo(t,e,n){return[e(t.G),e(t.$),e(t.ba)].filter(Qt).map((function(t){return t.getAttribute(n)})).reduce((function(t,e){return t||e}))}function Fo(t,e,n){return[e(t.G),e(t.$),e(t.ba)].filter(Qt).map((function(t){return Hi(t,n)})).reduce((function(t,e){return t||e}))}function Ho(t,e,n,r,i,o){if(o=void 0===o?0:o,zi(t,"http://www.w3.org/1999/xlink","href")){var a=function(t,e,n,r,i,o){for(var a=zi(t,"http://www.w3.org/1999/xlink","href"),s=zi(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=l(Array.from(t.attributes)),c=u.next();!c.done;c=u.next())"http://www.w3.org/1999/xlink"==(c=c.value).namespaceURI&&t.removeAttributeNS(c.namespaceURI,c.localName);if(5<=o)return yo(new Yt(2,4,4028));if("onLoad"!=s)return yo(new Yt(2,4,4027));var f=te([r],[a]);return i.request(0,ko(f,e)).ka((function(r){if(!(r=oo(r.data,t.tagName)))return yo(new Yt(2,4,4001,a));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),t.appendChild(s)}for(s=(r=l(Array.from(r.attributes))).next();!s.done;s=r.next())t.setAttributeNode(s.value.cloneNode(!1));return Ho(t,e,n,f[0],i,o+1)}))}(t,e,n,r,i,o);return n&&(a=a.ka(void 0,(function(){return Ho(t,e,n,r,i,o)}))),a}a=[];for(var s=l(Array.from(t.childNodes)),u=s.next();!u.done;u=s.next())(u=u.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==zi(u,"http://www.w3.org/1999/xlink","href")?t.removeChild(u):"SegmentTimeline"!=u.tagName&&a.push(Ho(u,e,n,r,i,o)));return Eo(a).ka((function(){return t}))}function Vo(t,e,n,r,i,o){this.Oa=t,this.j=e,this.i=n,this.Cd=void 0===r?null:r,this.timescale=void 0===i?null:i,this.g=void 0===o?null:o}function Go(t,e,n,r,i,o,a,s,u,c,l,f,h,d,p){c=void 0===c?[]:c,d=void 0===d?qo:d,this.startTime=t,this.l=this.endTime=e,this.O=n,this.j=r,this.i=i,this.g=o,this.m=a,this.L=s,this.K=u,this.h=c,this.tilesLayout=void 0===l?"":l,this.I=void 0===f?null:f,this.D=void 0===h?null:h,this.status=d,this.u=!1,this.s=!0,this.A=!1,this.C=void 0===p?null:p,this.F=null,this.o=0}Vo.prototype.ic=function(){return this.j},Vo.prototype.ec=function(){return this.i},F("shaka.media.InitSegmentReference",Vo),Vo.prototype.getEndByte=Vo.prototype.ec,Vo.prototype.getStartByte=Vo.prototype.ic,(r=Go.prototype).Oa=function(){return this.O()},r.getStartTime=function(){return this.startTime},r.gf=function(){return this.endTime},r.ic=function(){return this.j},r.ec=function(){return this.i},r.Af=function(){return this.tilesLayout},r.zf=function(){return this.I},r.jc=function(){return this.status},r.Mf=function(){this.status=zo},r.Lf=function(){this.u=!0},r.If=function(){return this.u},r.Kf=function(){this.s=!1},r.Hf=function(){return this.s},r.Jf=function(){this.A=!0},r.Ff=function(){return this.A},r.Ie=function(t){this.F=t},r.xf=function(){return this.F},r.offset=function(t){this.startTime+=t,this.endTime+=t,this.l+=t;for(var e=l(this.h),n=e.next();!n.done;n=e.next())(n=n.value).startTime+=t,n.endTime+=t,n.l+=t},r.hg=function(t){null==this.D?z("Sync attempted without sync time!"):(t=this.D-t-this.startTime,.001<=Math.abs(t)&&this.offset(t))},F("shaka.media.SegmentReference",Go),Go.prototype.syncAgainst=Go.prototype.hg,Go.prototype.offset=Go.prototype.offset,Go.prototype.getThumbnailSprite=Go.prototype.xf,Go.prototype.setThumbnailSprite=Go.prototype.Ie,Go.prototype.hasByterangeOptimization=Go.prototype.Ff,Go.prototype.markAsByterangeOptimization=Go.prototype.Jf,Go.prototype.isIndependent=Go.prototype.Hf,Go.prototype.markAsNonIndependent=Go.prototype.Kf,Go.prototype.isPreload=Go.prototype.If,Go.prototype.markAsPreload=Go.prototype.Lf,Go.prototype.markAsUnavailable=Go.prototype.Mf,Go.prototype.getStatus=Go.prototype.jc,Go.prototype.getTileDuration=Go.prototype.zf,Go.prototype.getTilesLayout=Go.prototype.Af,Go.prototype.getEndByte=Go.prototype.ec,Go.prototype.getStartByte=Go.prototype.ic,Go.prototype.getEndTime=Go.prototype.gf,Go.prototype.getStartTime=Go.prototype.getStartTime,Go.prototype.getUris=Go.prototype.Oa;var qo=0,zo=1;function Ko(t,e,n,r,i,o,a){var s,u=(new Gr).R("sidx",(function(t){s=function(t,e,n,r,i,o,a){var s=[];a.reader.skip(4);var u=a.reader.H();if(0==u)throw new Yt(2,3,3005);if(0==a.version)var c=a.reader.H(),l=a.reader.H();else c=a.reader.Mb(),l=a.reader.Mb();a.reader.skip(2);var f=a.reader.ab();for(t=t+a.size+l,l=0;l<f;l++){var h=a.reader.H(),d=(2147483648&h)>>>31;h&=2147483647;var p=a.reader.H();if(a.reader.skip(4),1==d)throw new Yt(2,3,3006);s.push(new Go(c/u+n,(c+p)/u+n,(function(){return o}),t,t+h-1,e,n,r,i)),c+=p,t+=h}return a.parser.stop(),s}(e,r,i,o,a,n,t)}));if(t&&u.parse(t),s)return s;throw new Yt(2,3,3004)}function Wo(t){this.g=t,this.l=null,this.i=0,this.m=!1}function Xo(t,e,n){return new Wo([new Go(t,t+e,(function(){return n}),0,null,null,t,t,t+e)])}function Yo(t,e,n){this.i=t,this.g=e,this.h=n}function Zo(){Wo.call(this,[]),this.h=[]}function $o(t){this.h=it(t),this.g=new Lr(this.h,0)}function Jo(t){var e=Qo(t);if(7<e.length)throw new Yt(2,3,3002);for(var n=0,r=(e=l(e)).next();!r.done;r=e.next())n=256*n+r.value;e=Qo(t);t:{for(var i=(r=l(ta)).next();!i.done;i=r.next())if(tt(e,new Uint8Array(i.value))){r=!0;break t}r=!1}if(r)e=t.h.byteLength-t.g.aa();else{if(8==e.length&&224&e[1])throw new Yt(2,3,3001);for(i=r=0;i<e.length;i++){var o=e[i];r=0==i?o&(1<<8-e.length)-1:256*r+o}e=r}return e=t.g.aa()+e<=t.h.byteLength?e:t.h.byteLength-t.g.aa(),r=it(t.h,t.g.aa(),e),t.g.skip(e),new ea(n,r)}function Qo(t){var e=t.g.aa(),n=t.g.Sa();if(0==n)throw new Yt(2,3,3002);return n=8-Math.floor(Math.log2(n)),t.g.skip(n-1),rt(t.h,e,n)}Go.Status={og:qo,sg:zo,qg:2},(r=Wo.prototype).fc=function(){return this.g.length},r.release=function(){this.m||(this.g=[],this.l&&this.l.stop(),this.l=null)},r.Nf=function(){this.m=!0},r.find=function(t){for(var e=this.g.length-1,n=e;0<=n;--n){var r=this.g[n],i=n<e?this.g[n+1].startTime:r.endTime;if(t>=r.startTime&&t<i)return n+this.i}return this.g.length&&t<this.g[0].startTime?this.i:null},r.get=function(t){return 0==this.g.length||0>(t-=this.i)||t>=this.g.length?null:this.g[t]},r.offset=function(t){if(!this.m)for(var e=l(this.g),n=e.next();!n.done;n=e.next())n.value.offset(t)},r.Qc=function(t){if(!this.m&&t.length){var e=Math.round(1e3*t[0].startTime)/1e3;this.g=this.g.filter((function(t){return Math.round(1e3*t.startTime)/1e3<e})),this.g.push.apply(this.g,f(t))}},r.Rc=function(t,e){var n=this;t=t.filter((function(t){return t.endTime>e&&(0==n.g.length||t.endTime>n.g[0].startTime)})),this.Qc(t),this.Ka(e)},r.Ka=function(t){if(!this.m){var e=this.g.length;this.g=this.g.filter((function(e){return e.endTime>t})),this.i+=e-this.g.length}},r.dc=function(t,e,n){if(n=void 0!==n&&n,!this.m){for(;this.g.length&&this.g[this.g.length-1].startTime>=e;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=t;)this.g.shift(),n||this.i++;0!=this.g.length&&(t=this.g[this.g.length-1],this.g[this.g.length-1]=new Go(t.startTime,e,t.O,t.j,t.i,t.g,t.m,t.L,t.K,t.h,t.tilesLayout,t.I,t.D,t.status,t.C),this.g[this.g.length-1].o=t.o)}},r.Yc=function(t,e){var n=this;this.m||(this.l&&this.l.stop(),this.l=new Ie((function(){var t=e();t?n.g.push.apply(n.g,f(t)):(n.l.stop(),n.l=null)})),this.l.sa(t))},Wo.prototype[Symbol.iterator]=function(){return this.kb(0)},Wo.prototype.kb=function(t){var e=this.find(t);if(null==e)return null;e--;var n=this.get(e+1),r=-1;if(n&&0<n.h.length)for(var i=n.h.length-1;0<=i;--i){var o=n.h[i];if(t>=o.startTime&&t<o.endTime){for(;i&&!o.s;)i--,o=n.h[i];if(!o.s)return z("No independent partial segment found!"),null;e++,r=i-1;break}}return new Yo(this,e,r)},F("shaka.media.SegmentIndex",Wo),Wo.forSingleSegment=Xo,Wo.prototype.getIteratorForTime=Wo.prototype.kb,Wo.prototype.updateEvery=Wo.prototype.Yc,Wo.prototype.fit=Wo.prototype.dc,Wo.prototype.evict=Wo.prototype.Ka,Wo.prototype.mergeAndEvict=Wo.prototype.Rc,Wo.prototype.offset=Wo.prototype.offset,Wo.prototype.get=Wo.prototype.get,Wo.prototype.find=Wo.prototype.find,Wo.prototype.markImmutable=Wo.prototype.Nf,Wo.prototype.release=Wo.prototype.release,Yo.prototype.Xe=function(){return this.g},Yo.prototype.current=function(){var t=this.i.get(this.g);return t&&0<t.h.length&&t.Oa().length&&this.h>=t.h.length&&(this.g++,this.h=0,t=this.i.get(this.g)),t&&0<t.h.length?t.h[this.h]:t},Yo.prototype.next=function(){var t=this.i.get(this.g);return t&&0<t.h.length?(this.h++,t.Oa().length&&this.h==t.h.length&&(this.g++,this.h=0)):(this.g++,this.h=0),{value:t=this.current(),done:!t}},F("shaka.media.SegmentIterator",Yo),Yo.prototype.next=Yo.prototype.next,Yo.prototype.current=Yo.prototype.current,Yo.prototype.currentPosition=Yo.prototype.Xe,y(Zo,Wo),(r=Zo.prototype).clone=function(){var t=new Zo;return t.h=this.h.slice(),t},r.release=function(){for(var t=l(this.h),e=t.next();!e.done;e=t.next())e.value.release();this.h=[]},r.find=function(t){for(var e=0,n=l(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(t);if(null!=i)return i+e;e+=r.i+r.g.length}return null},r.get=function(t){for(var e=0,n=l(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(t-e);if(i)return i;e+=r.i+r.g.length}return null},r.offset=function(){},r.Qc=function(){},r.Ka=function(){},r.Rc=function(){},r.dc=function(){},r.Yc=function(){},F("shaka.media.MetaSegmentIndex",Zo),Zo.prototype.updateEvery=Zo.prototype.Yc,Zo.prototype.fit=Zo.prototype.dc,Zo.prototype.mergeAndEvict=Zo.prototype.Rc,Zo.prototype.evict=Zo.prototype.Ka,Zo.prototype.merge=Zo.prototype.Qc,Zo.prototype.offset=Zo.prototype.offset,Zo.prototype.get=Zo.prototype.get,Zo.prototype.find=Zo.prototype.find,Zo.prototype.release=Zo.prototype.release,$o.prototype.ea=function(){return this.g.ea()};var ta=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function ea(t,e){this.id=t,this.g=e}function na(t){if(8<t.g.byteLength)throw new Yt(2,3,3002);if(8==t.g.byteLength&&224&t.g.getUint8(0))throw new Yt(2,3,3001);for(var e=0,n=0;n<t.g.byteLength;n++){e=256*e+t.g.getUint8(n)}return e}function ra(t){var e=new $o(t.g);if(179!=(t=Jo(e)).id)throw new Yt(2,3,3013);if(t=na(t),183!=(e=Jo(e)).id)throw new Yt(2,3,3012);e=new $o(e.g);for(var n=0;e.ea();){var r=Jo(e);if(241==r.id){n=na(r);break}}return{lg:t,Wf:n}}function ia(t,e){if(!(e=Fo(t,e,"Initialization")))return null;var n=t.G.ta,r=e.getAttribute("sourceURL");r&&(n=te(t.G.ta,[r])),r=0;var i=null;return(e=Xi(e,"range",$i))&&(r=e.start,i=e.end),new Vo((function(){return n}),r,i,la(t))}function oa(t,e){var n=Number(Uo(t,sa,"presentationTimeOffset"))||0,r=Uo(t,sa,"timescale"),i=1;r&&(i=Qi(r)||1);var o=n/i||0,a=ia(t,sa);!function(t,e){if(ca(t,e),!ua(t))throw new Yt(2,4,4002)}(t,a);var s=So(t);return{Eb:function(){var t=Fo(s,sa,"RepresentationIndex"),n=s.G.ta;return t&&(t=t.getAttribute("sourceURL"))&&(n=te(s.G.ta,[t])),t=ua(s),aa(s,e,a,n,t.start,t.end,o)}}}function aa(t,e,n,r,i,o,a){var s,u,c,l,f,h,d,p,g,m,y,v,b,w,T;return I((function(x){if(1==x.g)return s=t.presentationTimeline,u=!t.Ya||!t.U.sd,c=t.U.start,l=t.U.duration,f=t.G.mimeType.split("/")[1],d=null,p=[(h=e)(r,i,o,!1),"webm"==f?h(n.Oa(),n.j,n.i,!0):null],h=null,E(x,Promise.all(p),2);if(g=x.h,m=g[0],y=g[1]||null,null,b=c-a,w=c,T=l?c+l:1/0,"mp4"==f)var A=Ko(m,i,r,n,b,w,T);else{if(440786851!=Jo(A=new $o(y)).id)throw new Yt(2,3,3008);var S=Jo(A);if(408125543!=S.id)throw new Yt(2,3,3009);A=S.g.byteOffset,S=new $o(S.g);for(var _=null;S.ea();){var O=Jo(S);if(357149030==O.id){_=O;break}}if(!_)throw new Yt(2,3,3010);for(_=new $o(_.g),O=1e6,S=null;_.ea();){var R=Jo(_);if(2807729==R.id)O=na(R);else if(17545==R.id)if(4==R.g.byteLength)S=R.g.getFloat32(0);else{if(8!=R.g.byteLength)throw new Yt(2,3,3003);S=R.g.getFloat64(0)}}if(null==S)throw new Yt(2,3,3011);if(S*=_=O/1e9,475249515!=(O=Jo(new $o(m))).id)throw new Yt(2,3,3007);A=function(t,e,n,r,i,o,a,s,u){function c(){return i}var l=[];t=new $o(t.g);for(var f=null,h=null;t.ea();){var d=Jo(t);if(187==d.id){var p=ra(d);p&&(d=n*p.lg,p=e+p.Wf,null!=f&&l.push(new Go(f+a,d+a,c,h,p-1,o,a,s,u)),f=d,h=p)}}return null!=f&&l.push(new Go(f+a,r+a,c,h,null,o,a,s,u)),l}(O,A,_,S,r,n,b,w,T)}return v=A,s.Hd(v),d=new Wo(v),u&&d.dc(w,T,!0),x.return(d)}))}function sa(t){return t.sc}function ua(t){var e=Fo(t,sa,"RepresentationIndex");return t=$i((t=Uo(t,sa,"indexRange"))||""),e&&(t=Xi(e,"range",$i,t)),t}function ca(t,e){var n=t.G.mimeType.split("/")[1];if(t.G.contentType!=ie&&"mp4"!=n&&"webm"!=n)throw new Yt(2,4,4006);if("webm"==n&&!e)throw new Yt(2,4,4005)}function la(t){var e=t.G;return{bandwidth:t.bandwidth,audioSamplingRate:e.audioSamplingRate,codecs:e.codecs,contentType:e.contentType,frameRate:e.frameRate||null,height:e.height||null,mimeType:e.mimeType,channelsCount:e.Tc,pixelAspectRatio:e.pixelAspectRatio||null,width:e.width||null}}function fa(t,e){var n=ia(t,ha),r=function(t){var e=function(t){return[t.G.bb,t.$.bb,t.ba.bb].filter(Qt).map((function(t){return Gi(t,"SegmentURL")})).reduce((function(t,e){return 0<t.length?t:e})).map((function(e){return e.getAttribute("indexRange")&&!t.se&&(t.se=!0),{Of:e.getAttribute("media"),start:(e=Xi(e,"mediaRange",$i,{start:0,end:null})).start,end:e.end}}))}(t);t=Bo(t,ha);var n=t.Pb;0==n&&(n=1);var r=0;return t.fa?r=t.fa*(n-1):t.timeline&&0<t.timeline.length&&(r=t.timeline[0].start),{fa:t.fa,startTime:r,Pb:n,Ta:t.Ta,timeline:t.timeline,Jb:e}}(t);if(!r.fa&&!r.timeline&&1<r.Jb.length)throw new Yt(2,4,4002);if(!r.fa&&!t.U.duration&&!r.timeline&&1==r.Jb.length)throw new Yt(2,4,4002);if(r.timeline&&0==r.timeline.length)throw new Yt(2,4,4002);var i=null,o=null;t.ba.id&&t.G.id&&(o=e[t.ba.id+","+t.G.id])&&(i=o.segmentIndex);var a=function(t,e,n,r,i){var o=r.Jb.length;r.timeline&&r.timeline.length!=r.Jb.length&&(o=Math.min(r.timeline.length,r.Jb.length));for(var a=t-r.Ta,s=e?t+e:1/0,u=[],c=r.startTime,l={},f=0;f<o;l={Vb:l.Vb,Tb:l.Tb},f++){l.Tb=r.Jb[f];var h=void 0;h=null!=r.fa?c+r.fa:r.timeline?r.timeline[f].end:c+e,l.Vb=null,u.push(new Go(t+c,t+h,function(t){return function(){return null==t.Vb&&(t.Vb=te(n,[t.Tb.Of])),t.Vb}}(l),l.Tb.start,l.Tb.end,i,a,t,s)),c=h}return u}(t.U.start,t.U.duration,t.G.ta,r,n);return e=!i,i?i.Rc(a,t.presentationTimeline.mb()):i=new Wo(a),t.presentationTimeline.Hd(a),t.Ya&&t.U.sd||i.dc(t.U.start,t.U.duration?t.U.start+t.U.duration:1/0,e),o&&(o.segmentIndex=i),{Eb:function(){return i&&0!=i.fc()||i.Qc(a),Promise.resolve(i)}}}function ha(t){return t.bb}function da(t,e,n,r,i,o){var a=function(t){var e=Uo(t,pa,"initialization");if(!e)return null;var n=t.G.id,r=t.bandwidth||null,i=t.G.ta;return new Vo((function(){var t=Do(e,n,null,r,null);return te(i,[t])}),0,null,la(t))}(t),s=function(t){var e=Bo(t,pa),n=Uo(t,pa,"media");return t=Uo(t,pa,"index"),{fa:e.fa,timescale:e.timescale,Pb:e.Pb,Ta:e.Ta,ae:e.ae,timeline:e.timeline,Dd:n,lc:t}}(t);!function(t){var e=t.lc?1:0;if(e+=t.timeline?1:0,e+=t.fa?1:0,0==e)throw new Yt(2,4,4002);if(1!=e&&(t.lc&&(t.timeline=null),t.fa=null),!t.lc&&!t.Dd)throw new Yt(2,4,4002)}(s);var u=So(t);if(s.lc)return ca(t,a),{Eb:function(){var t=Do(s.lc,u.G.id,null,u.bandwidth||null,null);return t=te(u.G.ta,[t]),aa(u,e,a,t,0,null,s.Ta)}};if(s.fa)return r||"image"===t.$.contentType||(t.presentationTimeline.Gd(s.fa),t.presentationTimeline.Sc(t.U.start)),{Eb:function(){return function(t,e,n,r,i){function o(t){var n=(t-p)*d,i=n+e.Ta,o=n+c;return n=o+d,(o=new Go(o,Math.min(n,s()),(function(){var e=Do(m,v,t,y,i*g);return te(b,[e])}),0,null,r,w,c,s())).l=n,o}function a(){var t=[Math.max(u.mb(),c),Math.min(u.lb(),s())].map((function(t){return t-c}));return[Math.ceil(t[0]/d),Math.ceil(t[1]/d)-1].map((function(t){return t+p}))}function s(){var t=null!=f&&i[f]||h;return t?c+t:1/0}var u=t.presentationTimeline,c=t.U.start,f=t.ba.id,h=t.U.duration,d=e.fa,p=e.Pb,g=e.timescale,m=e.Dd,y=t.bandwidth||null,v=t.G.id,b=t.G.ta,w=c-e.Ta,E=a();t=t.Ya?Math.max(E[0],E[1]-n+1):E[0],E=E[1],n=[];for(var T=t;T<=E;++T){var x=o(T);n.push(x)}var A=new Wo(n);if(n=u.lb()<s(),T=u.T(),n||T){var S=Math.max(t,E+1);A.Yc(d,(function(){var t=u.mb();A.Ka(t);var e=l(a());e.next(),e=e.next().value;for(var n=[];S<=e;){var r=o(S);n.push(r),S++}return t>s()&&!n.length?null:n}))}return Promise.resolve(A)}(u,s,i,a,o)}};var c=null;r=r=null,t.ba.id&&t.G.id&&(r=n[r=t.ba.id+","+t.G.id])&&(c=r.segmentIndex);var f=t.U.start,h=t.U.duration?f+t.U.duration:1/0,d=!(t.Ya&&t.U.sd);return c?(ma(n=c,s,f,h,d),n.Ka(t.presentationTimeline.mb())):c=new ga(s,t.G.id,t.bandwidth,t.G.ta,f,h,a,d),s.timeline&&"image"!==t.$.contentType&&t.presentationTimeline.ye(s.timeline,f),r&&t.Ya&&(r.segmentIndex=c),{Eb:function(){return c instanceof ga&&0==c.fc()&&ma(c,s,f,h,d),Promise.resolve(c)}}}function pa(t){return t.tc}function ga(t,e,n,r,i,o,a,s){Wo.call(this,[]),this.h=t,this.C=e,this.s=n,this.u=r,this.j=i,this.o=o,this.A=a,s&&ya(this)}function ma(t,e,n,r,i){if(t.h){var o=(n=t.h.timeline)[n.length-1];0<(e=e.timeline.filter((function(t){return t.start>=o.end}))).length&&t.h.timeline.push.apply(t.h.timeline,f(e)),t.o!==r&&(t.o=r)}else t.h=e,t.j=n,t.o=r;i&&ya(t)}function ya(t){if(!t.m){for(var e=t.h.timeline;e.length&&e[e.length-1].start>=t.o;)e.pop();t.Ka(t.j),0!==e.length&&1/0!==t.o&&(e[e.length-1].end=t.o-t.j)}}function va(){}function ba(t,e,n){var r,i,o;return I((function(a){return 1==a.g?((r=ko([t],n)).method="HEAD",E(a,e.request(0,r).promise,2)):(i=a.h,o=i.headers["content-type"],a.return(o?o.toLowerCase().split(";").shift():""))}))}function wa(t){return 1==(t=new Mt(t).va.split("/").pop().split(".")).length?"":t.pop().toLowerCase()}y(ga,Wo),(r=ga.prototype).fc=function(){return this.h?this.h.timeline.length:0},r.release=function(){Wo.prototype.release.call(this),this.h=null},r.Ka=function(t){if(this.h){for(var e=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=t;r+=1)e+=1;0<e&&(this.h.timeline=n.slice(e),this.g.length>=e&&(this.g=this.g.slice(e)),this.i+=e,0===this.fc()&&this.release())}},r.find=function(t){if(this.h&&this.h.timeline&&this.h.timeline.length&&t<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var e=this.h.timeline;if(t<this.j||t>this.o)return null;for(var n=e.length-1,r=0;r<e.length;r++){var i=e[r],o=i.start+this.j;if(i=i.end+this.j,r<n&&(i=e[r+1].start+this.j),t>=o&&t<i)return r+this.i}return null},r.get=function(t){var e=this,n=t-this.i;if(0>n||n>=this.fc()||!this.h)return null;var r=this.g[n];if(!r){r=this.h.timeline[n];var i=t+this.h.Pb,o=this.h.ae+r.be;r=new Go(this.j+r.start,this.j+r.end,(function(){return e.h?function(t,e,n,r,i,o){return t=Do(t,e,n,r||null,i),te(o,[t]).map((function(t){return t.toString()}))}(e.h.Dd,e.C,i,e.s,o,e.u):[]}),0,null,this.A,this.j-this.h.Ta,this.j,this.o),this.g[n]=r}return r},F("shaka.media.ManifestParser",va),va.unregisterParserByMime=function(t){delete Ea[t]},va.registerParserByMime=function(t,e){Ea[t]=e},va.registerParserByExtension=function(t,e){Ta[t]=e},va.AccessibilityPurpose={tg:"visually impaired",pg:"hard of hearing"};var Ea={},Ta={};function xa(t,e,n){this.i=t,this.u=e,this.o=this.j=1/0,this.g=1,this.h=this.l=null,this.m=0,this.C=!0,this.D=0,this.s=void 0===n||n,this.F=0,this.A=!1}function Aa(t,e,n,r,i){return t=ko(t,r,i),0==e&&null==n||(t.headers.Range=n?"bytes="+e+"-"+n:"bytes="+e+"-"),t}function Sa(t){this.g=!1,this.h=new go,this.i=t}function _a(t,e){if(t.g){if(e instanceof Yt&&7003==e.code)throw e;throw new Yt(2,7,7003,e)}}function Oa(){this.g=new ke}function Ra(t,e,n,r){this.target=t,this.type=e,this.listener=n,this.g=function(t,e){if(null==e)return!1;if("boolean"==typeof e)return e;var n=new Set(["passive","capture"]);return Object.keys(e).filter((function(t){return!n.has(t)})),function(t){var e=Ca;if(null==e){e=!1;try{var n={},r={get:function(){return e=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},t.addEventListener("test",r,n),t.removeEventListener("test",r,n)}catch(i){e=!1}Ca=e}return e||!1}(t)?e:e.capture||!1}(t,r),this.target.addEventListener(e,n,this.g)}(r=xa.prototype).getDuration=function(){return this.j},r.pf=function(){return this.g},r.eg=function(t){this.i=t},r.Va=function(t){this.j=t},r.uf=function(){return this.i},r.He=function(t){this.m=t},r.Yd=function(t){this.C=t},r.Xd=function(t){this.o=t},r.cg=function(t){this.u=t},r.ff=function(){return this.u},r.ye=function(t,e){if(0!=t.length){var n=t[t.length-1].end+e;this.Sc(t[0].start+e),this.g=t.reduce((function(t,e){return Math.max(t,e.end-e.start)}),this.g),this.h=Math.max(this.h,n),null!=this.i&&this.s&&!this.A&&(this.i=(Date.now()+this.m)/1e3-this.h-this.g)}},r.Hd=function(t){if(0!=t.length){for(var e=t[0].startTime,n=t[0].endTime,r=(Date.now()+this.m)/1e3,i=(t=l(t)).next();!i.done;i=t.next())r<(i=i.value).startTime||(e=Math.min(e,i.startTime),n=Math.max(n,i.endTime),this.g=Math.max(this.g,i.endTime-i.startTime));this.Sc(e),this.h=Math.max(this.h,n),null!=this.i&&this.s&&!this.A&&(this.i=r-this.h-this.g)}},r.zd=function(){this.A=!0},r.Sc=function(t){this.l=null==this.l?t:Math.min(this.l,t)},r.Gd=function(t){this.g=Math.max(this.g,t)},r.offset=function(t){null!=this.l&&(this.l+=t),null!=this.h&&(this.h+=t)},r.T=function(){return 1/0==this.j&&!this.C},r.Hb=function(){return 1/0!=this.j&&!this.C},r.mb=function(){return Math.max(this.D,this.lb()-this.o)},r.Je=function(t){this.D=t},r.lb=function(){return this.T()||this.Hb()?Math.min(Math.max(0,(Date.now()+this.m)/1e3-this.g-this.i)+this.F,this.j):this.h?Math.min(this.h,this.j):this.j},r.hc=function(t){var e=Math.max(this.l,this.D);return 1/0==this.o?Math.ceil(1e3*e)/1e3:Math.max(e,Math.min(this.lb()-this.o+t,this.Na()))},r.Fb=function(){return this.hc(0)},r.Na=function(){return Math.max(0,this.lb()-(this.T()||this.Hb()?this.u:0))},r.Oe=function(){return!(null==this.i||null!=this.h&&this.s)},r.Ge=function(t){this.F=t},F("shaka.media.PresentationTimeline",xa),xa.prototype.setAvailabilityTimeOffset=xa.prototype.Ge,xa.prototype.usingPresentationStartTime=xa.prototype.Oe,xa.prototype.getSeekRangeEnd=xa.prototype.Na,xa.prototype.getSeekRangeStart=xa.prototype.Fb,xa.prototype.getSafeSeekRangeStart=xa.prototype.hc,xa.prototype.getSegmentAvailabilityEnd=xa.prototype.lb,xa.prototype.setUserSeekStart=xa.prototype.Je,xa.prototype.getSegmentAvailabilityStart=xa.prototype.mb,xa.prototype.isInProgress=xa.prototype.Hb,xa.prototype.isLive=xa.prototype.T,xa.prototype.offset=xa.prototype.offset,xa.prototype.notifyMaxSegmentDuration=xa.prototype.Gd,xa.prototype.notifyMinSegmentStartTime=xa.prototype.Sc,xa.prototype.lockStartTime=xa.prototype.zd,xa.prototype.notifySegments=xa.prototype.Hd,xa.prototype.notifyTimeRange=xa.prototype.ye,xa.prototype.getDelay=xa.prototype.ff,xa.prototype.setDelay=xa.prototype.cg,xa.prototype.setSegmentAvailabilityDuration=xa.prototype.Xd,xa.prototype.setStatic=xa.prototype.Yd,xa.prototype.setClockOffset=xa.prototype.He,xa.prototype.getPresentationStartTime=xa.prototype.uf,xa.prototype.setDuration=xa.prototype.Va,xa.prototype.setPresentationStartTime=xa.prototype.eg,xa.prototype.getMaxSegmentDuration=xa.prototype.pf,xa.prototype.getDuration=xa.prototype.getDuration,Sa.prototype.destroy=function(){var t=this;return this.g?this.h:(this.g=!0,this.i().then((function(){t.h.resolve()}),(function(){t.h.resolve()})))},(r=Oa.prototype).release=function(){this.Nb(),this.g=null},r.J=function(t,e,n,r){this.g&&(t=new Ra(t,e,n,r),this.g.push(e,t))},r.oa=function(t,e,n,r){var i=this;this.J(t,e,(function r(o){i.uc(t,e,r),n(o)}),r)},r.uc=function(t,e,n){if(this.g)for(var r=this.g.get(e)||[],i=(r=l(r)).next();!i.done;i=r.next())(i=i.value).target!=t||n!=i.listener&&n||(i.uc(),this.g.remove(e,i))},r.Nb=function(){if(this.g){var t,e=this.g,n=[];for(t in e.g)n.push.apply(n,f(e.g[t]));for(n=(e=l(n)).next();!n.done;n=e.next())n.value.uc();this.g.g={}}},F("shaka.util.EventManager",Oa),Oa.prototype.removeAll=Oa.prototype.Nb,Oa.prototype.unlisten=Oa.prototype.uc,Oa.prototype.listenOnce=Oa.prototype.oa,Oa.prototype.listen=Oa.prototype.J,Oa.prototype.release=Oa.prototype.release,Ra.prototype.uc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var Ca=void 0;function ka(t){for(var e=new Map,n=l(Object.keys(t)),r=n.next();!r.done;r=n.next())r=r.value,e.set(r,t[r]);return e}function Na(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}function Ia(t,e){if(!t&&!e)return!0;if(t&&!e||e&&!t)return!1;if(t.size!=e.size)return!1;for(var n=(t=l(t)).next();!n.done;n=t.next()){var r=l(n.value);if(n=r.next().value,r=r.next().value,!e.has(n))return!1;if((n=e.get(n))!=r||null==n)return!1}return!0}function Pa(t,e){var n=this;e=void 0===e?1:e,this.C=t,this.F=new Set,this.m=this.s=null,this.ha=!1,this.I=0,this.g=null,this.u=new Oa,this.i=new Map,this.A=new Map,this.l=new go,this.h=null,this.o=function(e){2==e.severity&&n.l.reject(e),t.onError(e)},this.P=new Map,this.ia=new Map,this.W=new Ie((function(){return function(t){var e=t.P,n=t.ia;n.clear(),e.forEach((function(t,e){return n.set(e,t)})),e=Array.from(n.values()),e.length&&e.every((function(t){return"expired"==t}))&&t.o(new Yt(2,6,6014)),t.C.ze(Na(n))}(n)})),this.ca=!1,this.L=[],this.O=!1,this.ja=new Ie((function(){!function(t){t.i.forEach((function(e,n){var r=e.Jd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(t.C.onExpirationUpdated(n.sessionId,i),e.Jd=i)}))}(n)})).sa(e),this.l.catch((function(){})),this.j=new Sa((function(){return function(t){return I((function(e){switch(e.g){case 1:return t.u.release(),t.u=null,t.l.reject(),t.ja.stop(),t.ja=null,t.W.stop(),t.W=null,E(e,Va(t),2);case 2:if(!t.m){e.B(3);break}return x(e,4),E(e,t.m.setMediaKeys(null),6);case 6:A(e,5);break;case 4:S(e);case 5:t.m=null;case 3:t.g=null,t.F.clear(),t.s=null,t.A=new Map,t.h=null,t.o=function(){},t.C=null,t.Z=!1,t.D=null,T(e)}}))}(n)})),this.Z=!1,this.K=this.D=null}function La(e,n,r){e.A=new Map;for(var i=(r=l(r)).next();!i.done;i=r.next())e.A.set(i.value,{initData:null,initDataType:null});for(i=(r=l(e.h.persistentSessionsMetadata)).next();!i.done;i=r.next())i=i.value,e.A.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return e.ca=0<e.A.size,function(e,n){var r,i,o,a,s,u,c,f,h,d,p,g,m,y,v;return I((function(b){if(1==b.g){if(r=function(e){if(e=ka(e.h.clearKeys),0==e.size)return null;var n=[],r=[];e.forEach((function(t,e){var i=e;22!=i.length&&(i=Ri(ki(e),!1)),22!=(e=t).length&&(e=Ri(ki(t),!1)),t={kty:"oct",kid:i,k:e},n.push(t),r.push(t.kid)})),e=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:rt(Nr(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:i,keyIds:new Set(r)}}(e))for(i=l(n),o=i.next();!o.done;o=i.next())(a=o.value).video&&(a.video.drmInfos=[r]),a.audio&&(a.audio.drmInfos=[r]);for((s=n.some((function(t){return!!(t.video&&t.video.drmInfos.length||t.audio&&t.audio.drmInfos.length)})))||(u=ka(e.h.servers),function(t,e){var n=[];for(e.forEach((function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})})),t=l(t),e=t.next();!e.done;e=t.next())(e=e.value).video&&(e.video.drmInfos=n),e.audio&&(e.audio.drmInfos=n)}(n,u)),c=new Set,f=l(n),o=f.next();!o.done;o=f.next())for(h=o.value,d=qa(h),p=l(d),g=p.next();!g.done;g=p.next())m=g.value,c.add(m);for(y=l(c),g=y.next();!g.done;g=y.next())Wa(g.value,ka(e.h.servers),ka(e.h.advanced||{}),e.h.keySystemsMapping);return E(b,tn(n,e.ca,e.Z,e.h.preferredKeySystems),2)}return s||Object.keys(e.h.servers).length?(v=function(t,e){var n,r,i,o,a,s,u,c,f,h,d,p,g,m;return I((function(y){switch(y.g){case 1:if(n=new Map,e.length){r=function(t,e,n){for(var r=l(e),i=r.next();!i.done;i=r.next()){var o=l(qa(i.value));for(i=o.next();!i.done;i=o.next())i=i.value,n.has(i.keySystem)||n.set(i.keySystem,[]),n.get(i.keySystem).push(i)}if(1==n.size&&n.has(""))throw new Yt(2,6,6e3);for(r={},t=l(t.h.preferredKeySystems),i=t.next();!i.done;r={cd:r.cd},i=t.next())for(r.cd=i.value,o=l(e),i=o.next();!i.done;i=o.next())if(i=i.value.decodingInfos.find(function(t){return function(e){return e.supported&&null!=e.keySystemAccess&&e.keySystemAccess.keySystem==t.cd}}(r)))return i.keySystemAccess;for(t=l([!0,!1]),i=t.next();!i.done;i=t.next())for(r=i.value,o=l(e),i=o.next();!i.done;i=o.next()){var a=l(i.value.decodingInfos);for(i=a.next();!i.done;i=a.next()){var s=i.value;if(s.supported&&s.keySystemAccess){var u=l(i=n.get(s.keySystemAccess.keySystem));for(i=u.next();!i.done;i=u.next())if(!!i.value.licenseServerUri==r)return s.keySystemAccess}}}return null}(t,e,n),y.B(2);break}return E(y,function(t){var e,n,r,i,o,a,s,u,c,f,h,d,p,g,m;return I((function(y){switch(y.g){case 1:if(1==(void 0).size&&(void 0).has(""))throw new Yt(2,6,6e3);for(n=l((void 0).values()),r=n.next();!r.done;r=n.next())0==(i=r.value).audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities;o=l(t.h.preferredKeySystems),a=o.next();case 2:if(a.done){y.B(4);break}if(s=a.value,!(void 0).has(s)){y.B(3);break}return u=(void 0).get(s),x(y,6),E(y,navigator.requestMediaKeySystemAccess(s,[u]),8);case 8:return e=y.h,y.return(e);case 6:S(y);case 7:_a(t.j);case 3:a=o.next(),y.B(2);break;case 4:c=l([!0,!1]),f=c.next();case 9:if(f.done){y.B(11);break}h=f.value,d=l((void 0).keys()),a=d.next();case 12:if(a.done){f=c.next(),y.B(9);break}if(p=a.value,g=(void 0).get(p),m=g.drmInfos.some((function(t){return!!t.licenseServerUri})),m!=h){y.B(13);break}return x(y,15),E(y,navigator.requestMediaKeySystemAccess(p,[g]),17);case 17:return e=y.h,y.return(e);case 15:S(y);case 16:_a(t.j);case 13:a=d.next(),y.B(12);break;case 11:return y.return(e)}}))}(t),3);case 3:r=y.h;case 2:if(!(i=r))throw new Yt(2,6,6001);for(_a(t.j),x(y,4),t.F.clear(),o=i.getConfiguration(),a=o.audioCapabilities||[],s=o.videoCapabilities||[],u=l(a),c=u.next();!c.done;c=u.next())f=c.value,t.F.add(f.contentType.toLowerCase());for(h=l(s),c=h.next();!c.done;c=h.next())d=c.value,t.F.add(d.contentType.toLowerCase());if(e.length){var v=i.keySystem,b=n.get(i.keySystem),w=[],T=[],_=[],O=[],R=new Set;Ka(b,w,_,T,O,R);var C=t.ca?"persistent-license":"temporary";for(v={keySystem:v,licenseServerUri:w[0],distinctiveIdentifierRequired:b[0].distinctiveIdentifierRequired,persistentStateRequired:b[0].persistentStateRequired,sessionType:b[0].sessionType||C,audioRobustness:b[0].audioRobustness||"",videoRobustness:b[0].videoRobustness||"",serverCertificate:_[0],serverCertificateUri:T[0],initData:O,keyIds:R},w=(b=l(b)).next();!w.done;w=b.next())(w=w.value).distinctiveIdentifierRequired&&(v.distinctiveIdentifierRequired=w.distinctiveIdentifierRequired),w.persistentStateRequired&&(v.persistentStateRequired=w.persistentStateRequired);b=v}else b=i.keySystem,v=(void 0).get(i.keySystem),w=[],T=[],_=[],O=[],R=new Set,Ka(v.drmInfos,w,_,T,O,R),b={keySystem:b,licenseServerUri:w[0],distinctiveIdentifierRequired:"required"==v.distinctiveIdentifier,persistentStateRequired:"required"==v.persistentState,sessionType:v.sessionTypes[0]||"temporary",audioRobustness:(v.audioCapabilities?v.audioCapabilities[0].robustness:"")||"",videoRobustness:(v.videoCapabilities?v.videoCapabilities[0].robustness:"")||"",serverCertificate:_[0],serverCertificateUri:T[0],initData:O,keyIds:R};if(t.g=b,!t.g.licenseServerUri)throw new Yt(2,6,6012,t.g.keySystem);return E(y,i.createMediaKeys(),6);case 6:if(p=y.h,_a(t.j),t.s=p,""==t.h.minHdcpVersion||!("getStatusForPolicy"in t.s)){y.B(7);break}return x(y,8),E(y,t.s.getStatusForPolicy({minHdcpVersion:t.h.minHdcpVersion}),10);case 10:if("usable"!=y.h)throw new Yt(2,6,6018);_a(t.j),A(y,7,4);break;case 8:if((g=S(y,4))instanceof Yt)throw g;throw new Yt(2,6,6019,g.message);case 7:return t.ha=!0,E(y,function(t){var e,n;return I((function(r){switch(r.g){case 1:if(!t.s||!t.g)return r.return();if(!t.g.serverCertificateUri||t.g.serverCertificate&&t.g.serverCertificate.length){r.B(2);break}return e=ko([t.g.serverCertificateUri],t.h.retryParameters),x(r,3),E(r,t.C.mc.request(5,e).promise,5);case 5:n=r.h,t.g.serverCertificate=rt(n.data),A(r,4);break;case 3:throw new Yt(2,6,6017,S(r));case 4:if(t.j.g)return r.return();case 2:return t.g.serverCertificate&&t.g.serverCertificate.length?(x(r,6),E(r,t.s.setServerCertificate(t.g.serverCertificate),8)):r.return();case 8:A(r,0);break;case 6:throw new Yt(2,6,6004,S(r).message)}}))}(t),11);case 11:_a(t.j),A(y,0);break;case 4:if(m=S(y),_a(t.j,m),t.g=null,t.F.clear(),m instanceof Yt)throw m;throw new Yt(2,6,6002,m.message)}}))}(e,n),b.return(s?v:v.catch((function(){})))):(e.ha=!0,b.return(Promise.resolve()))}))}(e,n)}function Ma(t){var e;return I((function(n){switch(n.g){case 1:if(t.m.mediaKeys)return n.return();if(!t.D){n.B(2);break}return E(n,t.D,3);case 3:return _a(t.j),n.return();case 2:return x(n,4),t.D=t.m.setMediaKeys(t.s),E(n,t.D,6);case 6:A(n,5);break;case 4:e=S(n),t.o(new Yt(2,6,6003,e.message));case 5:_a(t.j),T(n)}}))}function ja(t,e,n){if(n.length){for(var r=t.i.values(),i=(r=l(r)).next();!i.done;i=r.next())if(tt(n,i.value.initData)&&!Ve("Tizen 2"))return;0<t.i.size&&za(t)&&(t.l.resolve(),t.l=new go,t.l.catch((function(){}))),function(t,e,n,r){try{var i=t.s.createSession(r)}catch(o){return void t.o(new Yt(2,6,6005,o.message))}t.u.J(i,"message",(function(e){t.m&&t.h.delayLicenseRequestUntilPlayed&&t.m.paused&&!t.O?t.L.push(e):Fa(t,e)})),t.u.J(i,"keystatuseschange",(function(e){return Ha(t,e)})),t.i.set(i,{initData:n,initDataType:e,loaded:!1,Jd:1/0,cb:null,type:r});try{n=t.h.initDataTransform(n,e,t.g)}catch(o){return e=o,o instanceof Yt||(e=new Yt(2,6,6016,o)),void t.o(e)}t.h.logLicenseExchange&&Ri(n),i.generateRequest(e,n).catch((function(e){if(!t.j.g){t.i.delete(i);var n=e.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}t.o(new Yt(2,6,6006,e.message,e,r))}}))}(t,e,n,t.g.sessionType)}}function Da(t){return!!t&&!!t.match(/^com\.(microsoft|chromecast)\.playready/)}function Ba(t){za(t)&&t.l.resolve()}function Ua(t,e){new Ie((function(){e.loaded=!0,Ba(t)})).V(Ya)}function Fa(t,e){var n,r,i,o,a,s,u,c,f,h,d,p;I((function(g){switch(g.g){case 1:if(n=e.target,t.h.logLicenseExchange&&Ri(e.message),r=t.i.get(n),i=t.g.licenseServerUri,o=t.h.advanced[t.g.keySystem],"individualization-request"==e.messageType&&o&&o.individualizationServer&&(i=o.individualizationServer),(a=ko([i],t.h.retryParameters)).body=e.message,a.method="POST",a.licenseRequestType=e.messageType,a.sessionId=n.sessionId,a.drmInfo=t.g,r&&(a.initData=r.initData,a.initDataType=r.initDataType),Da(t.g.keySystem)){var m=Cr(a.body,!0,!0);if(m.includes("PlayReadyKeyMessage")){for(var y=l((m=io(m,"PlayReadyKeyMessage")).getElementsByTagName("HttpHeader")),v=y.next();!v.done;v=y.next())v=v.value,a.headers[v.getElementsByTagName("name")[0].textContent]=v.getElementsByTagName("value")[0].textContent;a.body=Ci(m.getElementsByTagName("Challenge")[0].textContent)}else a.headers["Content-Type"]="text/xml; charset=utf-8"}return s=Date.now(),x(g,2),E(g,t.C.mc.request(2,a).promise,4);case 4:u=g.h,A(g,3);break;case 2:return c=S(g),f=new Yt(2,6,6007,c),t.o(f),r&&r.cb&&r.cb.reject(f),g.return();case 3:return t.j.g?g.return():(t.I+=(Date.now()-s)/1e3,t.h.logLicenseExchange&&Ri(u.data),x(g,5),E(g,n.update(u.data),7));case 7:A(g,6);break;case 5:return h=S(g),d=new Yt(2,6,6008,h.message),t.o(d),r&&r.cb&&r.cb.reject(d),g.return();case 6:if(t.j.g)return g.return();p=new To("drmsessionupdate"),t.C.onEvent(p),r&&(r.cb&&r.cb.resolve(),Ua(t,r)),T(g)}}))}function Ha(t,e){e=e.target;var n=t.i.get(e),r=!1;e.keyStatuses.forEach((function(e,i){if("string"==typeof i){var o=i;i=e,e=o}if(Da(t.g.keySystem)&&16==i.byteLength&&(Me()||Fe())){var a=(o=it(i)).getUint32(0,!0),s=o.getUint16(4,!0),u=o.getUint16(6,!0);o.setUint32(0,a,!1),o.setUint16(4,s,!1),o.setUint16(6,u,!1)}"status-pending"!=e&&(n.loaded=!0),"expired"==e&&(r=!0),i=Ni(i).slice(0,32),t.P.set(i,e)}));var i=e.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.cb&&(t.i.delete(e),e.close().catch((function(){}))),za(t)&&(t.l.resolve(),t.W.V(Za))}function Va(t){var e;return I((function(n){return e=Array.from(t.i.entries()),t.i.clear(),E(n,Promise.all(e.map((function(e){var n=(e=l(e)).next().value,r=e.next().value;return I((function(e){return 1==e.g?(x(e,2),t.A.has(n.sessionId)||"persistent-license"!==r.type||t.h.persistentSessionOnlinePlayback?E(e,function(t){var e;return I((function(n){return 1==n.g?(e=new Promise((function(t,e){new Ie(e).V(Xa)})),x(n,2),E(n,Promise.race([Promise.all([t.close(),t.closed]),e]),4)):2!=n.g?A(n,0):(S(n),void T(n))}))}(n),5):E(e,n.remove(),5)):2!=e.g?A(e,0):(S(e),void T(e))}))}))),0)}))}function Ga(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],r=(t=l(t)).next();!r.done;r=t.next()){r=r.value;for(var i={},o=l(e),a=o.next();!a.done;i={ya:i.ya},a=o.next())if(a=a.value,r.keySystem==a.keySystem){i.ya=[],i.ya=i.ya.concat(r.initData||[]),i.ya=i.ya.concat(a.initData||[]),i.ya=i.ya.filter(function(t){return function(e,n){return void 0===e.keyId||n===t.ya.findIndex((function(t){return t.keyId===e.keyId}))}}(i)),o=r.keyIds&&a.keyIds?new Set([].concat(f(r.keyIds),f(a.keyIds))):r.keyIds||a.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||a.persistentStateRequired,videoRobustness:r.videoRobustness||a.videoRobustness,audioRobustness:r.audioRobustness||a.audioRobustness,serverCertificate:r.serverCertificate||a.serverCertificate,serverCertificateUri:r.serverCertificateUri||a.serverCertificateUri,initData:i.ya,keyIds:o});break}}return n}function qa(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[])}function za(t){return function(t,e){for(var n=(t=l(t)).next();!n.done;n=t.next())if(!e(n.value))return!1;return!0}(t=t.i.values(),(function(t){return t.loaded}))}function Ka(t,e,n,r,i,o){for(var a={},s=(t=l(t)).next();!s.done;a={ma:a.ma},s=t.next()){if(a.ma=s.value,e.includes(a.ma.licenseServerUri)||e.push(a.ma.licenseServerUri),r.includes(a.ma.serverCertificateUri)||r.push(a.ma.serverCertificateUri),a.ma.serverCertificate&&(n.some(function(t){return function(e){return tt(e,t.ma.serverCertificate)}}(a))||n.push(a.ma.serverCertificate)),a.ma.initData){s={};for(var u=l(a.ma.initData),c=u.next();!c.done;s={wc:s.wc},c=u.next())s.wc=c.value,i.some(function(t){return function(e){var n=t.wc;return!(!e.keyId||e.keyId!=n.keyId)||e.initDataType==n.initDataType&&tt(e.initData,n.initData)}}(s))||i.push(s.wc)}if(a.ma.keyIds)for(u=(s=l(a.ma.keyIds)).next();!u.done;u=s.next())o.add(u.value)}}function Wa(e,n,r,i){var o=e.keySystem;!o||"org.w3.clearkey"==o&&e.licenseServerUri||(n.size&&(n=n.get(o)||"",e.licenseServerUri=n),e.keyIds||(e.keyIds=new Set),(r=r.get(o))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate),r.sessionType&&(e.sessionType=r.sessionType),e.serverCertificateUri||(e.serverCertificateUri=r.serverCertificateUri)),i[o]&&(e.keySystem=i[o]),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==o&&(e.keySystem="com.chromecast.playready"))}(r=Pa.prototype).destroy=function(){return this.j.destroy()},r.configure=function(t){this.h=t},r.Xb=function(t){var e=this;return I((function(n){if(1==n.g)return e.s?(e.m=t,e.u.oa(e.m,"play",(function(){for(var t=l(e.L),n=t.next();!n.done;n=t.next())Fa(e,n.value);e.O=!0,e.L=[]})),"webkitCurrentPlaybackTargetIsWireless"in e.m&&e.u.J(e.m,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return Va(e)})),e.K=e.g&&e.g.initData.find((function(t){return 0<t.initData.length}))||null,e.K||"com.apple.fps"!==e.g.keySystem||e.A.size?E(n,Ma(e),2):n.B(2)):(e.u.oa(t,"encrypted",(function(){e.o(new Yt(2,6,6010))})),n.return());(function(t){var e,n,r,i;return I((function(o){if(1==o.g)return t.A.size?(t.A.forEach((function(e,n){!function(t,e,n){var r,i,o,a,s,u,c;I((function(l){switch(l.g){case 1:try{r=t.s.createSession("persistent-license")}catch(f){return i=new Yt(2,6,6005,f.message),t.o(i),l.return(Promise.reject(i))}return t.u.J(r,"message",(function(e){t.m&&t.h.delayLicenseRequestUntilPlayed&&t.m.paused&&!t.O?t.L.push(e):Fa(t,e)})),t.u.J(r,"keystatuseschange",(function(e){return Ha(t,e)})),o={initData:n.initData,initDataType:n.initDataType,loaded:!1,Jd:1/0,cb:null,type:"persistent-license"},t.i.set(r,o),x(l,2),E(l,r.load(e),4);case 4:return a=l.h,_a(t.j),a||(t.i.delete(r),s=t.h.persistentSessionOnlinePlayback?1:2,t.o(new Yt(s,6,6013)),o.loaded=!0),Ua(t,o),Ba(t),l.return(r);case 2:u=S(l),_a(t.j,u),t.i.delete(r),c=t.h.persistentSessionOnlinePlayback?1:2,t.o(new Yt(c,6,6005,u.message)),o.loaded=!0,Ba(t);case 3:return l.return(Promise.resolve())}}))}(t,n,e)})),E(o,t.l,3)):o.B(2);if(2!=o.g){if(0<(t.g&&t.g.keyIds||new Set([])).size&&function(t){for(var e=l(t.g&&t.g.keyIds||new Set([])),n=e.next();!n.done;n=e.next())if("usable"!==t.P.get(n.value))return!1;return!0}(t))return o.return(t.l);t.l=new go,t.l.catch((function(){}))}for(e=(t.g?t.g.initData:[])||[],n=l(e),r=n.next();!r.done;r=n.next())i=r.value,ja(t,i.initDataType,i.initData);return e.length||t.l.resolve(),o.return(t.l)}))})(e).catch((function(){})),e.K||e.A.size||e.h.parseInbandPsshEnabled||e.u.J(e.m,"encrypted",(function(t){return function(t,e){return I((function(n){if(1==n.g)return E(n,Ma(t),2);ja(t,e.initDataType,rt(e.initData)),T(n)}))}(e,t)})),T(n)}))},r.ld=function(){var t=this,e=this.i.keys();return e=function(t,e){for(var n=[],r=(t=l(t)).next();!r.done;r=t.next())n.push(e(r.value));return n}(e,(function(e){var n=t.i.get(e);return{sessionId:e.sessionId,sessionType:n.type,initData:n.initData,initDataType:n.initDataType}})),Array.from(e)},r.nd=function(){for(var t=1/0,e=this.i.keys(),n=(e=l(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},r.Fc=function(){return Na(this.ia)};var Xa=1,Ya=5,Za=.5,$a=new _r((function(){return nt(new Uint8Array([0]))}));function Ja(){this.j=[],this.g=[],this.i=[],this.l=[],this.h=[],this.m=new Set}function Qa(t,e,n){var r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w,T,x=rs,A=is;return I((function(S){switch(S.g){case 1:for(r=oe,i=[],o=0;o<e.length;o++)o>=n?i.push(new Set(e[o])):i.push(new Set);a=l(t),s=a.next();case 2:if(s.done){S.B(4);break}return E(S,function(t,e,n,r,i){return I((function(o){return 1==o.g?(os(e,t),t.matchedStreams?t.segmentIndex?E(o,ts(t,n),2):o.B(2):o.return(!1)):(ns(t,n,r,i),o.return(!0))}))}(s.value,e,n,A,i),5);case 5:if(!S.h)throw new Yt(2,4,4037);s=a.next(),S.B(2);break;case 4:for(u=l(i),c=u.next();!c.done;c=u.next())for(f=c.value,h=l(f),d=h.next();!d.done;d=h.next())p=d.value,(g=es(p,e,x,A,i))&&t.push(g);for(m=l(i),c=m.next();!c.done;c=m.next())for(y=c.value,v={},b=l(y),d=b.next();!d.done;v={Xa:v.Xa},d=b.next())if(v.Xa=d.value,w=v.Xa.type==r.da&&!v.Xa.language,T=v.Xa.type==r.fd&&!v.Xa.tilesLayout,!w&&!T&&t.some(function(t){return function(e){return e.mimeType==t.Xa.mimeType&&fe(e.codecs)==fe(t.Xa.codecs)}}(v)))throw new Yt(2,4,4037);return S.return(t)}}))}function ts(t,e){var n,r,i,o,a,s,u;return I((function(c){if(1==c.g){for(n=[],r=t.matchedStreams,i=l(r),o=i.next();!o.done;o=i.next())a=o.value,n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex());return E(c,Promise.all(n),2)}if(t.segmentIndex instanceof Zo)for(s=e;s<r.length;s++)(u=r[s]).segmentIndex&&t.segmentIndex.h.push(u.segmentIndex);T(c)}))}function es(t,e,n,r,i){var o=n(t);return os(e,o),o.createSegmentIndex&&(o.createSegmentIndex=function(){return I((function(t){return o.segmentIndex?t.B(0):(o.segmentIndex=new Zo,E(t,ts(o,0),0))}))}),o.matchedStreams&&o.matchedStreams.length?(ns(o,0,r,i),o):null}function ns(t,e,n,r){for(var i=t.matchedStreams,o=0;o<i.length;o++)if(o>=e){var a=i[o];n(t,a);var s=!0;"audio"==t.type&&0==Se(t.language,a.language)&&(s=!1),s&&r[o].delete(a)}}function rs(t){var e=Object.assign({},t);return e.originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.closeSegmentIndex=function(){if(e.segmentIndex&&(e.segmentIndex.release(),e.segmentIndex=null),e.matchedStreams)for(var t=l(e.matchedStreams),n=t.next();!n.done;n=t.next())(n=n.value).segmentIndex&&(n.segmentIndex.release(),n.segmentIndex=null)},e.segmentIndex=null,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e}function is(t,e){var n,r;t.roles=Array.from(new Set(t.roles.concat(e.roles))),e.emsgSchemeIdUris&&(t.emsgSchemeIdUris=Array.from(new Set(t.emsgSchemeIdUris.concat(e.emsgSchemeIdUris)))),t.keyIds=(n=t.keyIds,r=e.keyIds,new Set([].concat(f(n),f(r)))),null==t.originalId?t.originalId=e.originalId:t.originalId+=","+(e.originalId||"");var i=Ga(t.drmInfos,e.drmInfos);if(e.drmInfos.length&&t.drmInfos.length&&!i.length)throw new Yt(2,4,4038);if(t.drmInfos=i,t.encrypted=t.encrypted||e.encrypted,e.closedCaptions){t.closedCaptions||(t.closedCaptions=new Map);for(var o=(i=l(e.closedCaptions)).next();!o.done;o=i.next()){var a=l(o.value);o=a.next().value,a=a.next().value,t.closedCaptions.set(o,a)}}e.trickModeVideo?(t.trickModeVideo||(t.trickModeVideo=rs(e.trickModeVideo),t.trickModeVideo.createSegmentIndex=function(){return t.trickModeVideo.segmentIndex=t.segmentIndex.clone(),Promise.resolve()}),is(t.trickModeVideo,e.trickModeVideo)):t.trickModeVideo&&is(t.trickModeVideo,e)}function os(t,e){for(var n=[],r=(t=l(t)).next();!r.done;r=t.next()){for(var i=e,o={audio:as,video:as,text:ss,image:us}[i.type],a={audio:cs,video:ls,text:fs,image:hs}[i.type],s=null,u=(r=l(r.value)).next();!u.done;u=r.next())!o(i,u=u.value)||s&&!a(i,s,u)||(s=u);if(!(i=s))return;n.push(i)}e.matchedStreams=n}function as(t,e){function n(t){if(!bs.has(t)){var e=fe(t);bs.set(t,e)}return bs.get(t)}return!(e.mimeType!=t.mimeType||n(e.codecs)!=n(t.codecs)||t.drmInfos&&!function(t,e){return!t.length||!e.length||t===e||0<Ga(t,e).length}(t.drmInfos,e.drmInfos))}function ss(t,e){return!!t.language&&(!e.language||0!=Se(t.language,e.language)&&e.kind==t.kind)}function us(t){return!!t.tilesLayout}function cs(t,e,n){if(t.id==n.id)return!0;var r=Se(t.language,e.language),i=Se(t.language,n.language);return i>r||!(i<r)&&(t.roles.length?(r=e.roles.filter((function(e){return t.roles.includes(e)})),(i=n.roles.filter((function(e){return t.roles.includes(e)}))).length>r.length||!(i.length<r.length)&&n.roles.length<e.roles.length):!(n.roles.length||!e.roles.length)||!(n.roles.length&&!e.roles.length)&&(!(e.primary||!n.primary)||!(e.primary&&!n.primary)&&((r=ps(t.channelsCount,e.channelsCount,n.channelsCount))==ms||r!=vs&&((r=ps(t.audioSamplingRate,e.audioSamplingRate,n.audioSamplingRate))==ms||r!=vs&&!(!t.bandwidth||gs(t.bandwidth,e.bandwidth,n.bandwidth)!=ms)))))}function ls(t,e,n){if(t.id==n.id)return!0;var r=ps(t.width*t.height,e.width*e.height,n.width*n.height);if(r==ms)return!0;if(r==vs)return!1;if(t.frameRate){if((r=ps(t.frameRate,e.frameRate,n.frameRate))==ms)return!0;if(r==vs)return!1}return!(!t.bandwidth||gs(t.bandwidth,e.bandwidth,n.bandwidth)!=ms)}function fs(t,e,n){if(t.id==n.id)return!0;var r=Se(t.language,e.language),i=Se(t.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!e.primary&&n.primary)return!0;if(e.primary&&!n.primary)return!1;if(t.roles.length){if(r=e.roles.filter((function(e){return t.roles.includes(e)})),(i=n.roles.filter((function(e){return t.roles.includes(e)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&e.roles.length)return!0;if(n.roles.length&&!e.roles.length)return!1}return n.mimeType==t.mimeType&&n.codecs==t.codecs&&(e.mimeType!=t.mimeType||e.codecs!=t.codecs)}function hs(t,e,n){return t.id==n.id||ps(t.width*t.height,e.width*e.height,n.width*n.height)==ms}function ds(t){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Wo([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:t,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1}}function ps(t,e,n){if(e==t&&t!=n)return vs;if(n==t&&t!=e)return ms;if(e>t){if(n<=t||n-t<e-t)return ms;if(n-t>e-t)return vs}else{if(n>t)return vs;if(t-n<t-e)return ms;if(t-n>t-e)return vs}return ys}function gs(t,e,n){return e=Math.abs(t-e),(t=Math.abs(t-n))<e?ms:e<t?vs:ys}(r=Ja.prototype).release=function(){for(var t=l(this.g.concat(this.i,this.l,this.h)),e=t.next();!e.done;e=t.next())(e=e.value).segmentIndex&&e.segmentIndex.release();this.g=[],this.i=[],this.l=[],this.h=[],this.j=[]},r.Bf=function(){return this.j},r.pd=function(){return this.l.slice()},r.hf=function(){return this.h},r.ie=function(t,e){var n,r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w,x,A,S,_,O,R,C,k,N,P,L=this;return I((function(I){switch(I.g){case 1:if(n=oe,function(t){for(var e=(t=l(t)).next();!e.done;e=t.next()){for(var n=[],r=l((e=e.value).audioStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=l(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.channelsCount==s.channelsCount&&i.language==s.language&&i.bandwidth==s.bandwidth&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&ft(i.roles,s.roles)&&i.audioSamplingRate==s.audioSamplingRate&&i.primary==s.primary&&(o=!0);o||n.push(i)}e.audioStreams=n}}(t),function(t){for(var e=(t=l(t)).next();!e.done;e=t.next()){for(var n=[],r=l((e=e.value).videoStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=l(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.frameRate==s.frameRate&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.label==s.label&&ft(i.roles,s.roles)&&Ia(i.closedCaptions,s.closedCaptions)&&i.bandwidth==s.bandwidth&&(o=!0);o||n.push(i)}e.videoStreams=n}}(t),function(t){for(var e=(t=l(t)).next();!e.done;e=t.next()){for(var n=[],r=l((e=e.value).textStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=l(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.language==s.language&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.bandwidth==s.bandwidth&&ft(i.roles,s.roles)&&(o=!0);o||n.push(i)}e.textStreams=n}}(t),function(t){for(var e=(t=l(t)).next();!e.done;e=t.next()){for(var n=[],r=l((e=e.value).imageStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=l(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&(o=!0);o||n.push(i)}e.imageStreams=n}}(t),!e&&1==t.length){r=t[0],L.g=r.audioStreams,L.i=r.videoStreams,L.l=r.textStreams,L.h=r.imageStreams,I.B(2);break}for(i=-1,o=0;o<t.length;o++)a=t[o],L.m.has(a.id)||(L.m.add(a.id),-1==i&&(i=o));if(-1==i)return I.return();for(s=t.map((function(t){return t.audioStreams})),u=t.map((function(t){return t.videoStreams})),c=t.map((function(t){return t.textStreams})),f=t.map((function(t){return t.imageStreams})),h=l(c),d=h.next();!d.done;d=h.next())d.value.push(ds(n.da));for(p=l(f),g=p.next();!g.done;g=p.next())g.value.push(ds(n.fd));return E(I,Qa(L.g,s,i),3);case 3:return E(I,Qa(L.i,u,i),4);case 4:return E(I,Qa(L.l,c,i),5);case 5:return E(I,Qa(L.h,f,i),2);case 2:if(m=0,y=[],L.i.length&&L.g.length)for(S=l(L.g),_=S.next();!_.done;_=S.next())for(O=_.value,R=l(L.i),C=R.next();!C.done;C=R.next())k=C.value,N=Ga(O.drmInfos,k.drmInfos),O.drmInfos.length&&k.drmInfos.length&&!N.length||(P=m++,y.push({id:P,language:O.language,disabledUntilTime:0,primary:O.primary,audio:O,video:k,bandwidth:(O.bandwidth||0)+(k.bandwidth||0),drmInfos:N,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(v=L.i.concat(L.g),b=l(v),w=b.next();!w.done;w=b.next())x=w.value,A=m++,y.push({id:A,language:x.language,disabledUntilTime:0,primary:x.primary,audio:x.type==n.xb?x:null,video:x.type==n.Aa?x:null,bandwidth:x.bandwidth||0,drmInfos:x.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});L.j=y,T(I)}}))},F("shaka.util.PeriodCombiner",Ja),Ja.prototype.combinePeriods=Ja.prototype.ie,Ja.prototype.getImageStreams=Ja.prototype.hf,Ja.prototype.getTextStreams=Ja.prototype.pd,Ja.prototype.getVariants=Ja.prototype.Bf;var ms=1,ys=0,vs=-1,bs=new Map;function ws(){var t=this;this.h=this.g=null,this.o=[],this.i=null,this.I=1,this.l={},this.L={},this.j=new Ja,this.C=0,this.F=new H(5),this.D=new Ie((function(){!function(t){var e,n;I((function(r){switch(r.g){case 1:return e=0,x(r,2),E(r,Es(t),4);case 4:e=r.h,A(r,3);break;case 2:if(n=S(r),t.h){if(t.g.raiseFatalErrorOnManifestUpdateRequestFailure)return t.h.onError(n),r.return();n.severity=1,t.h.onError(n)}case 3:if(!t.h)return r.return();Ss(t,e),T(r)}}))}(t)})),this.u=new _o,this.A=null,this.K=[],this.m=1/0,this.s=!1}function Es(t){var e,n,r,i,o,a,s;return I((function(u){return 1==u.g?(e=ko(t.o,t.g.retryParameters),n=t.h.networkingEngine,r=Date.now(),i=n.request(0,e,{type:4}),Oo(t.u,i),E(u,i.promise,2)):3!=u.g?(o=u.h,t.h?(o.uri&&!t.o.includes(o.uri)&&t.o.unshift(o.uri),E(u,function(t,e,n){var r,i,o,a;return I((function(s){if(1==s.g){if(!(r=oo(e,"MPD")))throw new Yt(2,4,4001,n);return t.g.dash.disableXlinkProcessing?s.return(Ts(t,r,n)):(i=t.g.dash.xlinkFailGracefully,o=Ho(r,t.g.retryParameters,i,n,t.h.networkingEngine),Oo(t.u,o),E(s,o.promise,2))}return a=s.h,s.return(Ts(t,a,n))}))}(t,o.data,o.uri),3)):u.return(0)):(a=Date.now(),s=(a-r)/1e3,t.F.sample(1,s),u.return(s))}))}function Ts(t,e,n){var r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w,_,O,R,C,k,N,P,L,M,j,D,B;return I((function(U){switch(U.g){case 1:if((r=t.g.dash.manifestPreprocessor)&&r(e),i=[n],0<(o=Gi(e,"Location").map(Ki).filter(Qt)).length&&(a=te(i,o),i=t.o=a),s=Gi(e,"BaseURL"),u=s.map(Ki),c=te(i,u),f=0,s&&s.length&&(f=Xi(s[0],"availabilityTimeOffset",eo)||0),h=t.g.dash.ignoreMinBufferTime,d=0,h||(d=Xi(e,"minBufferTime",Zi)||0),t.C=Xi(e,"minimumUpdatePeriod",Zi,-1),p=Xi(e,"availabilityStartTime",Yi),g=Xi(e,"timeShiftBufferDepth",Zi),m=t.g.dash.ignoreSuggestedPresentationDelay,y=null,m||(y=Xi(e,"suggestedPresentationDelay",Zi)),v=t.g.dash.ignoreMaxSegmentDuration,b=null,v||(b=Xi(e,"maxSegmentDuration",Zi)),w=e.getAttribute("type")||"static",t.i)for(_=t.i.presentationTimeline,O=l(Object.values(t.l)),R=O.next();!R.done;R=O.next())(C=R.value).segmentIndex&&C.segmentIndex.Ka(_.mb());else k=t.g.defaultPresentationDelay||1.5*d,_=new xa(p,null!=y?y:k,t.g.dash.autoCorrectDrift);return _.Yd("static"==w),_.T()&&!isNaN(t.g.availabilityWindowOverride)&&(g=t.g.availabilityWindowOverride),null==g&&(g=1/0),_.Xd(g),N=e.getAttribute("profiles")||"",P={Ya:"static"!=w,presentationTimeline:_,ba:null,U:null,$:null,G:null,bandwidth:0,se:!1,Db:f,profiles:N.split(",")},L=function(t,e,n,r){var i=Xi(r,"mediaPresentationDuration",Zi),o=[],a=0;r=Gi(r,"Period");for(var s=0;s<r.length;s++){var u=r[s],c=r[s+1],l=Xi(u,"start",Zi,a),f=u.id,h=Xi(u,"duration",Zi),d=null;if(c){var p=Xi(c,"start",Zi);null!=p&&(d=p-l)}else null!=i&&(d=i-l);if(null==d&&(d=h),!(null!==t.A&&null!==f&&null!==l&&l<t.A)||t.K.includes(f)||s+1==r.length){if(null!==l&&(null===t.A||l>t.A)&&(t.A=l),a=xs(t,e,n,{start:l,duration:d,node:u,sd:null==d||!c}),o.push(a),e.ba.id&&d&&(t.L[e.ba.id]=d),null==d){a=null;break}a=l+d}}return t.K=o.map((function(t){return t.id})),null!=i?{periods:o,duration:i,le:!1}:{periods:o,duration:a,le:!0}}(t,P,c,e),M=L.duration,j=L.periods,"static"!=w&&L.le||_.Va(M||1/0),t.m&&!t.s&&t.h.isAutoLowLatencyMode()&&(t.h.enableLowLatencyMode(),t.s=t.h.isLowLatencyMode()),t.s?_.Ge(t.m):t.m&&K("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),_.Gd(b||1),E(U,t.j.ie(j,P.Ya),2);case 2:if(t.s&&(d=0),t.s&&t.m&&(t.C=t.m),t.i){t.i.variants=t.j.j,t.i.textStreams=t.j.pd(),t.i.imageStreams=t.j.h,t.h.filter(t.i),U.B(3);break}var F=_,H=t.j.j,V=t.j.pd(),G=t.j.h,q=d||0,z=t.g.dash.sequenceMode,W=Hi(e,"ServiceDescription");if(W){var X=Hi(W,"Latency");W=Hi(W,"PlaybackRate"),X&&X.getAttribute("max")||W?X={maxLatency:X=X&&X.getAttribute("max")?parseInt(X.getAttribute("max"),10)/1e3:null,maxPlaybackRate:W=W?parseFloat(W.getAttribute("max")):null}:X=null}else X=null;if(t.i={presentationTimeline:F,variants:H,textStreams:V,imageStreams:G,offlineSessionIds:[],minBufferTime:q,sequenceMode:z,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:X},!_.Oe()){U.B(4);break}return D=Gi(e,"UTCTiming"),E(U,function(t,e,n){var r,i,o,a,s,u,c,f;return I((function(h){switch(h.g){case 1:r=n.map((function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}})),i=t.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),o=l(r),a=o.next();case 2:if(a.done){h.B(4);break}switch(s=a.value,x(h,5),u=s.scheme,c=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return h.B(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return h.B(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return f=Date.parse(c),h.return(isNaN(f)?0:f-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":K("NTP UTCTiming scheme is not supported");break;default:K("Unrecognized scheme in UTCTiming element",u)}h.B(9);break;case 7:return E(h,Os(t,e,c,"HEAD"),10);case 10:return h.return(h.h);case 8:return E(h,Os(t,e,c,"GET"),11);case 11:return h.return(h.h);case 9:A(h,3);break;case 5:S(h);case 3:a=o.next(),h.B(2);break;case 4:return K("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),h.return(0)}}))}(t,c,D),5);case 5:if(B=U.h,!t.h)return U.return();_.He(B);case 4:_.zd();case 3:t.h.makeTextStreamsForClosedCaptions(t.i),T(U)}}))}function xs(t,e,n,r){e.ba=_s(r.node,null,n),e.U=r,e.ba.Db=e.Db,e.ba.id||(e.ba.id="__shaka_period_"+r.start);var i=Gi(r.node,"EventStream");n=e.presentationTimeline.mb();for(var o=(i=l(i)).next();!o.done;o=i.next())Rs(t,r.start,r.duration,o.value,n);if(n=Gi(r.node,"AdaptationSet").map((function(n){return function(t,e,n){function r(t){switch(t){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}e.$=_s(n,e.ba,null);var i,o=!1,a=Gi(n,"Role"),s=a.map((function(t){return t.getAttribute("value")})).filter(Qt),u=void 0,c=e.$.contentType==ie;c&&(u="subtitle");for(var h=(a=l(a)).next();!h.done;h=a.next()){var d=(h=h.value).getAttribute("schemeIdUri");if(null==d||"urn:mpeg:dash:role:2011"==d)switch(h=h.getAttribute("value"),h){case"main":o=!0;break;case"caption":case"subtitle":u=h}}d=Gi(n,"EssentialProperty"),a=null,h=!1;for(var p=(d=l(d)).next();!p.done;p=d.next()){var g=(p=p.value).getAttribute("schemeIdUri");"http://dashif.org/guidelines/trickmode"==g?a=p.getAttribute("value"):"urn:mpeg:mpegB:cicp:TransferCharacteristics"==g?i=r(parseInt(p.getAttribute("value"),10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"!=g&&"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=g&&(h=!0)}for(d=l(d=Gi(n,"SupplementalProperty")),p=d.next();!p.done;p=d.next())"urn:mpeg:mpegB:cicp:TransferCharacteristics"==(p=p.value).getAttribute("schemeIdUri")&&(i=r(parseInt(p.getAttribute("value"),10)));d=Gi(n,"Accessibility");var m,y=new Map;for(d=l(d),p=d.next();!p.done;p=d.next())if(g=p.value,p=g.getAttribute("schemeIdUri"),g=g.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==p)if(p=1,null!=g)for(var v=l(g=g.split(";")),b=v.next();!b.done;b=v.next()){var w=b.value,x=b=void 0;w.includes("=")?(b=(w=w.split("="))[0].startsWith("CC")?w[0]:"CC"+w[0],x=w[1]||"und"):(b="CC"+p,2==g.length?p+=2:p++,x=w),y.set(b,Ae(x))}else y.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==p)if(p=1,null!=g)for(g=l(g.split(";")),b=g.next();!b.done;b=g.next())b=b.value,w=v=void 0,b.includes("=")?(b=b.split("="),v="svc"+b[0],w=b[1].split(",")[0].split(":").pop()):(v="svc"+p,p++,w=b),y.set(v,Ae(w));else y.set("svc1","und");else"urn:mpeg:dash:role:2011"==p?null!=g&&(s.push(g),"captions"==g&&(u="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==p&&("1"==g?m="visually impaired":"2"==g&&(m="hard of hearing"));if(h)return null;h=Gi(n,"ContentProtection");var A=so(h,t.g.dash.ignoreDrmInfo,t.g.dash.keySystemsByURI),S=Ae(e.$.language||"und"),_=n.getAttribute("label");if((h=Gi(n,"Label"))&&h.length&&(h=h[0],h.textContent&&(_=h.textContent)),h=Gi(n,"Representation"),n=h.map((function(n){return(n=function(t,e,r,i,o,a,s,u,c,l,f){if(e.G=_s(l,e.$,null),t.m=Math.min(t.m,e.G.Db),!function(t){var e=t.sc?1:0;return e+=t.bb?1:0,e+=t.tc?1:0,0==e?t.contentType==ie||"application"==t.contentType:(1!=e&&(t.sc&&(t.bb=null),t.tc=null),!0)}(e.G))return null;var h=e.U.start;e.bandwidth=Xi(l,"bandwidth",Qi)||0;var d=e.G.contentType,p=d==ie||"application"==d;d="image"==d;try{var g=function(e,n,r,i){return function(t,e,n,r,i){var o,a,s,u,c,l;return I((function(f){return 1==f.g?(o=Lo,a=i?0:1,s=Aa(e,n,r,t.g.retryParameters),u=t.h.networkingEngine,c=u.request(o,s,{type:a}),Oo(t.u,c),E(f,c.promise,2)):(l=f.h,f.return(l.data))}))}(t,e,n,r,i)};if(e.G.sc)var m=oa(e,g);else if(e.G.bb)m=fa(e,t.l);else if(e.G.tc)m=da(e,g,t.l,!!t.i,t.g.dash.initialSegmentLimit,t.L);else{var y=e.G.ta,v=e.U.duration||0;m={Eb:function(){return Promise.resolve(Xo(h,v,y))}}}}catch(n){if((p||d)&&4002==n.code)return null;throw n}g=Gi(l,"ContentProtection"),g=function(t,e,n,r){var i=so(t,n,r);if(e.ne)t=1==e.drmInfos.length&&!e.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==e.drmInfos.length||t&&!n)&&(e.drmInfos=i.drmInfos),e.ne=!1;else if(0<i.drmInfos.length&&(e.drmInfos=e.drmInfos.filter((function(t){return i.drmInfos.some((function(e){return e.keySystem==t.keySystem}))})),0==e.drmInfos.length))throw new Yt(2,4,4008);return i.ke||e.ke}(g,r,t.g.dash.ignoreDrmInfo,t.g.dash.keySystemsByURI),g=new Set(g?[g]:[]);var b=!1;Gi(l,"SupplementalProperty").some((function(t){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==t.getAttribute("schemeIdUri")&&"JOC"==t.getAttribute("value")}))&&(b=!0);var w,x,A=!1;if(p&&(A=u.includes("forced_subtitle")||u.includes("forced-subtitle")),d&&((l=Gi(l,"EssentialProperty").find((function(t){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(t.getAttribute("schemeIdUri"))})))&&(w=l.getAttribute("value")),!w))return null;l=e.G.codecs,e.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(l.includes("hvc1.2.4.L153.B0")||l.includes("hev1.2.4.L153.B0"))&&(x="PQ"),l=e.G.id?e.ba.id+","+e.G.id:"";var S=l&&t.l[l]?t.l[l]:{id:t.I++,originalId:e.G.id,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){S.segmentIndex&&(S.segmentIndex.release(),S.segmentIndex=null)},segmentIndex:null,mimeType:e.G.mimeType,codecs:e.G.codecs,frameRate:e.G.frameRate,pixelAspectRatio:e.G.pixelAspectRatio,bandwidth:e.bandwidth,width:e.G.width,height:e.G.height,kind:i,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:g,language:o,originalLanguage:e.$.language,label:a,type:e.$.contentType,primary:s,trickModeVideo:null,emsgSchemeIdUris:e.G.emsgSchemeIdUris,roles:u,forced:A,channelsCount:e.G.Tc,audioSamplingRate:e.G.audioSamplingRate,spatialAudio:b,closedCaptions:c,hdr:x,tilesLayout:w,matchedStreams:[],accessibilityPurpose:f,external:!1};return S.createSegmentIndex=function(){var t;return I((function(e){if(1==e.g)return S.segmentIndex?e.B(0):(t=S,E(e,m.Eb(),3));t.segmentIndex=e.h,T(e)}))},l&&e.Ya&&!t.l[l]&&(t.l[l]=S),S}(t,e,A,u,S,_,o,s,y,n,m))&&(n.hdr=n.hdr||i),n})).filter((function(t){return!!t})),0==n.length){if(a="image"==e.$.contentType,t.g.dash.ignoreEmptyAdaptationSet||c||a)return null;throw new Yt(2,4,4003)}if(!e.$.contentType||"application"==e.$.contentType)for(e.$.contentType=Cs(n[0].mimeType,n[0].codecs),c=l(n),d=c.next();!d.done;d=c.next())d.value.type=e.$.contentType;for(c=l(n),d=c.next();!d.done;d=c.next())for(d=d.value,p=l(A.drmInfos),g=p.next();!g.done;g=p.next())(g=g.value).keyIds=g.keyIds&&d.keyIds?new Set([].concat(f(g.keyIds),f(d.keyIds))):g.keyIds||d.keyIds;return c=h.map((function(t){return t.getAttribute("id")})).filter(Qt),{id:e.$.id||"__fake__"+t.I++,contentType:e.$.contentType,language:S,wg:o,streams:n,drmInfos:A.drmInfos,$d:a,Xf:c}}(t,e,n)})).filter(Qt),e.Ya){for(r=[],o=(i=l(n)).next();!o.done;o=i.next())for(var a=(o=l(o.value.Xf)).next();!a.done;a=o.next())r.push(a.value);if(r.length!=new Set(r).size)throw new Yt(2,4,4018)}for(r=n.filter((function(t){return!t.$d})),i=(n=l(n=n.filter((function(t){return t.$d})))).next();!i.done;i=n.next()){o=(i=i.value).$d.split(" ");for(var s=(a=l(r)).next();!s.done;s=a.next()){var u=s.value;if(o.includes(u.id)){s={};for(var c=(u=l(u.streams)).next();!c.done;s={xc:s.xc},c=u.next())s.xc=c.value,s.xc.trickModeVideo=i.streams.find(function(t){return function(e){return fe(t.xc.codecs)==fe(e.codecs)}}(s))}}}if(i=t.g.disableAudio?[]:As(r,"audio"),a=t.g.disableVideo?[]:As(r,"video"),o=t.g.disableText?[]:As(r,ie),n=t.g.disableThumbnails?[]:As(r,"image"),!a.length&&!i.length)throw new Yt(2,4,4004);for(r=[],s=(i=l(i)).next();!s.done;s=i.next())r.push.apply(r,f(s.value.streams));for(i=[],s=(a=l(a)).next();!s.done;s=a.next())i.push.apply(i,f(s.value.streams));for(a=[],s=(o=l(o)).next();!s.done;s=o.next())a.push.apply(a,f(s.value.streams));for(o=[],s=(n=l(n)).next();!s.done;s=n.next())o.push.apply(o,f(s.value.streams));return{id:e.ba.id,audioStreams:r,videoStreams:i,textStreams:a,imageStreams:o}}function As(t,e){return t.filter((function(t){return t.contentType==e}))}function Ss(t,e){0>t.C||t.D.V(Math.max(t.C-e,V(t.F)))}function _s(t,e,n){e=e||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Tc:null,audioSamplingRate:null,Db:0},n=n||e.ta;for(var r=Gi(t,"BaseURL"),i=r.map(Ki),o=t.getAttribute("contentType")||e.contentType,a=t.getAttribute("mimeType")||e.mimeType,s=t.getAttribute("codecs")||e.codecs,u=Xi(t,"frameRate",ro)||e.frameRate,c=t.getAttribute("sar")||e.pixelAspectRatio,f=Gi(t,"InbandEventStream"),h=e.emsgSchemeIdUris.slice(),d=(f=l(f)).next();!d.done;d=f.next())d=d.value.getAttribute("schemeIdUri"),h.includes(d)||h.push(d);f=function(t){for(var e=(t=l(t)).next();!e.done;e=t.next()){var n=e.value;if((e=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(e){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(e=parseInt(n,10)))continue;return e;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(e=parseInt(n,16)))continue;for(t=0;e;)1&e&&++t,e>>=1;return t;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(e=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<e.length)return e[n]}}return null}(f=Gi(t,"AudioChannelConfiguration"))||e.Tc,d=Xi(t,"audioSamplingRate",to)||e.audioSamplingRate,o||(o=Cs(a,s));var p=Hi(t,"SegmentBase"),g=Hi(t,"SegmentTemplate"),m=p&&Xi(p,"availabilityTimeOffset",eo)||0,y=g&&Xi(g,"availabilityTimeOffset",eo)||0;return r=r&&r.length&&Xi(r[0],"availabilityTimeOffset",eo)||0,r=e.Db+r+m+y,{ta:te(n,i),sc:p||e.sc,bb:Hi(t,"SegmentList")||e.bb,tc:g||e.tc,width:Xi(t,"width",to)||e.width,height:Xi(t,"height",to)||e.height,contentType:o,mimeType:a,codecs:s,frameRate:u,pixelAspectRatio:c,emsgSchemeIdUris:h,id:t.getAttribute("id"),language:t.getAttribute("lang"),Tc:f,audioSamplingRate:d,Db:r}}function Os(t,e,n,r){var i,o,a,s,u,c;return I((function(l){if(1==l.g)return i=te(e,[n]),(o=ko(i,t.g.retryParameters)).method=r,a=t.h.networkingEngine.request(4,o),Oo(t.u,a),E(l,a.promise,2);if(s=l.h,"HEAD"==r){if(!s.headers||!s.headers.date)return l.return(0);u=s.headers.date}else u=Rr(s.data);return c=Date.parse(u),isNaN(c)?l.return(0):l.return(c-Date.now())}))}function Rs(t,e,n,r,i){for(var o=r.getAttribute("schemeIdUri")||"",a=r.getAttribute("value")||"",s=Xi(r,"timescale",to)||1,u=(r=l(Gi(r,"Event"))).next();!u.done;u=r.next()){var c=Xi(u=u.value,"presentationTime",to)||0,f=Xi(u,"duration",to)||0;f=(c=c/s+e)+f/s,null!=n&&(c=Math.min(c,e+n),f=Math.min(f,e+n)),f<i||(u={schemeIdUri:o,value:a,startTime:c,endTime:f,id:u.getAttribute("id")||"",eventElement:u},t.h.onTimelineRegionAdded(u))}}function Cs(t,e){return me(e=ue(t,e))?ie:t.split("/")[0]}function ks(){}(r=ws.prototype).configure=function(t){this.g=t},r.start=function(t,e){var n,r=this;return I((function(i){if(1==i.g)return r.s=e.isLowLatencyMode(),r.o=[t],r.h=e,E(i,Es(r),2);if(n=i.h,r.h&&Ss(r,n),!r.h)throw new Yt(2,7,7001);return i.return(r.i)}))},r.stop=function(){for(var t=l(Object.values(this.l)),e=t.next();!e.done;e=t.next())(e=e.value).segmentIndex&&e.segmentIndex.release();return this.j&&this.j.release(),this.g=this.h=null,this.o=[],this.i=null,this.l={},this.j=null,null!=this.D&&(this.D.stop(),this.D=null),this.u.destroy()},r.update=function(){var t,e=this;return I((function(n){return 1==n.g?(x(n,2),E(n,Es(e),4)):2!=n.g?A(n,0):(t=S(n),e.h&&t?(e.h.onError(t),void T(n)):n.return())}))},r.onExpirationUpdated=function(){},F("shaka.dash.DashParser",ws),Ta.mpd=function(){return new ws},Ea["application/dash+xml"]=function(){return new ws},Ea["video/vnd.mpeg.dash.mpd"]=function(){return new ws},F("shaka.dependencies",ks),ks.has=function(t){return Is.has(t)},ks.add=function(t,e){if(!Ns[t])throw Error(t+" is not supported");Is.set(t,(function(){return e}))};var Ns={muxjs:"muxjs",ISOBoxer:"ISOBoxer"};ks.Allowed=Ns;var Is=new Map([["muxjs",function(){return t.muxjs}],["ISOBoxer",function(){return t.ISOBoxer}]]);function Ps(t,e,n){this.g=null,this.i=-1,this.j=t,this.h=e,this.l=n,"undefined"==typeof libDPIModule&&K("Could not Find LCEVC Library dependencies on this page"),"undefined"==typeof LcevcDil?K("Could not Find LCEVC Library on this page"):LcevcDil.SupportObject.SupportStatus||K(LcevcDil.SupportObject.SupportError),"undefined"!=typeof LcevcDil&&"undefined"!=typeof libDPIModule&&this.h instanceof HTMLCanvasElement&&LcevcDil.SupportObject.SupportStatus&&!this.g&&LcevcDil.SupportObject.webGLSupport(this.h)&&(this.h.classList.remove("shaka-hidden"),this.g=new LcevcDil.LcevcDil(this.j,this.h,this.l))}function Ls(t,e){var n=Ms;switch(e.mimeType){case"video/webm":n=js;break;case"video/mp4":n=Ds}t.g&&(t.i=e.id,t.g.setLevelSwitching(e.id,!0),t.g.setContainerFormat(n))}Ps.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},F("shaka.lcevc.Dil",Ps),Ps.prototype.release=Ps.prototype.release;var Ms=0,js=1,Ds=2;function Bs(t,e){for(this.h=t,this.g=new Set([t]),e=(t=l(e=e||[])).next();!e.done;e=t.next())this.add(e.value)}function Us(t,e){var n;if(!(n=!!t.audio!=!!e.audio||!!t.video!=!!e.video||t.language!=e.language)&&(n=t.audio&&e.audio)){n=t.audio;var r=e.audio;n=!((!(!n.channelsCount||!r.channelsCount||2<n.channelsCount||2<r.channelsCount)||n.channelsCount==r.channelsCount)&&Fs(n,r)&&Hs(n.roles,r.roles))}return!n&&(n=t.video&&e.video)&&(n=!(Fs(t=t.video,e=e.video)&&Hs(t.roles,e.roles))),!n}function Fs(t,e){if(t.mimeType!=e.mimeType)return!1;if(t=t.codecs.split(",").map((function(t){return de(t)[0]})),e=e.codecs.split(",").map((function(t){return de(t)[0]})),t.length!=e.length)return!1;t.sort(),e.sort();for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function Hs(t,e){if(t=new Set(t),e=new Set(e),t.delete("main"),e.delete("main"),t.size!=e.size)return!1;for(var n=(t=l(t)).next();!n.done;n=t.next())if(!e.has(n.value))return!1;return!0}function Vs(t){this.g=t,this.h=new Gs(t.language,"",t.audio&&t.audio.channelsCount?t.audio.channelsCount:0,"","")}function Gs(t,e,n,r,i){this.j=t,this.l=e,this.g=n,this.h=r,this.i=void 0===i?"":i}function qs(){this.g=Ws,this.h=(new Map).set(Ws,2).set(Ks,1)}function zs(t,e,n){t.h.set(Ws,n).set(Ks,e)}Bs.prototype.add=function(t){return!!Us(this.h,t)&&(this.g.add(t),!0)},Bs.prototype.values=function(){return this.g.values()},Vs.prototype.create=function(t){var e=this,n=t.filter((function(t){return Us(e.g,t)}));return n.length?new Bs(n[0],n):this.h.create(t)},Gs.prototype.create=function(e){var n=[];n=function(t,e){e=Ae(e);var n=Re(e,t.map((function(t){return Oe(t)})));return n?t.filter((function(t){return n==Oe(t)})):[]}(e,this.j);var r=e.filter((function(t){return t.primary}));for(e=function(t,e){return t.filter((function(t){return!!t.audio&&(e?t.audio.roles.includes(e):0==t.audio.roles.length)}))}(n=n.length?n:r.length?r:e,this.l),e.length&&(n=e),this.h&&(e=function(e,n){return"AUTO"==n&&(n=t.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR"),e.filter((function(t){return!t.video||!t.video.hdr||t.video.hdr==n}))}(n,this.h),e.length&&(n=e)),this.g&&((e=gn(n,this.g)).length&&(n=e)),this.i&&(e=function(t,e){return t.filter((function(t){return!(!t.audio||!t.audio.label)&&t.audio.label.toLowerCase()==e.toLowerCase()}))}(n,this.i),e.length&&(n=e)),e=new Bs(n[0]),r=(n=l(n)).next();!r.done;r=n.next())r=r.value,Us(e.h,r)&&e.add(r);return e};var Ks=0,Ws=1;function Xs(t,e,n,r,i){var o=Zs.value(),a=t.subarray(n.start,n.start+n.size),s=it(a),u=new Uint8Array(n.size+o.byteLength);for(u.set(a,0),(a=it(u)).setUint32(4,i),u.set(o,n.size),i=s.getUint32(4),a.setUint32(n.size+16,i),Ys(u,0,u.byteLength),i=new Uint8Array(t.byteLength+u.byteLength),n=je()?n.start:n.start+n.size,o=t.subarray(n),i.set(t.subarray(0,n)),i.set(u,n),i.set(o,n+u.byteLength),r=(t=l(r)).next();!r.done;r=t.next())Ys(i,(r=r.value).start,r.size+u.byteLength);return u=it(i,e.start),e=Yr(e),t=u.getUint32(e),u.setUint32(e,t+1),i}function Ys(t,e,n){0!=(e=(t=it(t,e)).getUint32(0))&&(1==e?(t.setUint32(8,n>>32),t.setUint32(12,4294967295&n)):t.setUint32(0,n))}var Zs=new _r((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));function $s(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function Js(t,e){return!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)||e>t.end(t.length-1))&&e>=t.start(0)}function Qs(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,r=(t=l(tu(t))).next();!r.done;r=t.next()){var i=r.value;r=i.start,(i=i.end)>e&&(n+=i-Math.max(r,e))}return n}function tu(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}function eu(t,e,n){this.l=n,this.j=t,this.s=ru(t),this.g=t.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.u=e,this.i=function(){}}function nu(t){this.g=t}function ru(t){if(t.g.paused||0==t.g.playbackRate||0==t.g.buffered.length)var e=!1;else t:{e=t.g.currentTime;for(var n=(t=l(tu(t.g.buffered))).next();!n.done;n=t.next())if(!(e<(n=n.value).start-.1||e>n.end-.5)){e=!0;break t}e=!1}return e}function iu(t,e,n,r,i){var o=this;this.u=i,this.g=t,this.A=e,this.s=n,this.l=new Oa,this.j=!1,this.D=t.readyState,this.C=this.i=0,this.h=r,this.o=!1,this.l.J(t,"waiting",(function(){return ou(o)})),this.m=new Ie((function(){ou(o)})).sa(this.s.gapJumpTimerTime)}function ou(t){if(0!=t.g.readyState){if(t.g.seeking){if(!t.j)return}else t.j=!1;if(!t.g.paused||t.g.currentTime==t.i&&(t.g.autoplay||t.g.currentTime!=t.i)){var e;if(t.g.readyState!=t.D&&(t.D=t.g.readyState),!(e=!t.h)){var n=(e=t.h).j,r=ru(n),i=n.g.currentTime,o=Date.now()/1e3;e.g==i&&e.s==r||(e.m=o,e.g=i,e.s=r,e.h=!1),(r=(i=o-e.m)>=e.u&&r&&!e.h)&&(e.i(e.g,i),e.h=!0,e.g=n.g.currentTime,e.o++,e.l(new To("stalldetected"))),e=!r}e&&(e=t.g.currentTime,r=function(t,e,n){return!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)?null:0<=(t=tu(t).findIndex((function(t,r,i){return t.start>e&&(0==r||i[r-1].end-e<=n)})))?t:null}(n=t.g.buffered,e,t.s.gapDetectionThreshold),null==r||0==r&&!t.o||((i=n.start(r))>=t.A.Na()||.001>i-e||(0!=r&&n.end(r-1),t.g.currentTime=i,e==t.i&&(t.i=i),t.C++,t.u(new To("gapjumped")))))}}}function au(t,e,n,r){var i=this;this.l=t,this.C=null,this.u=e,this.h={},this.I={},this.ca={},this.g=null,this.O=!1,this.ia=n||function(){},this.L=r||null,this.j={},this.A=new Oa,this.m={},this.D=null,this.F=new go,this.W="",this.i=su(this,this.F),this.o=!1,this.K=new Sa((function(){return function(t){var e,n,r,i,o,a,s;return I((function(u){if(1==u.g){for(n in e=[],t.j)for(r=t.j[n],i=r[0],t.j[n]=r.slice(0,1),i&&e.push(i.p.catch(Jt)),o=l(r.slice(1)),a=o.next();!a.done;a=o.next())a.value.p.reject(new Yt(2,7,7003,void 0));for(s in t.g&&e.push(t.g.destroy()),t.u&&e.push(t.u.destroy()),t.m)e.push(t.m[s].destroy());return E(u,Promise.all(e),2)}t.A&&(t.A.release(),t.A=null),t.l&&(t.l.removeAttribute("src"),t.l.load(),t.l=null),t.C=null,t.i=null,t.g=null,t.u=null,t.h={},t.m={},t.D=null,t.j={},t.L=null,T(u)}))}(i)})),this.s=!1,this.P="UNKNOWN",this.Z=this.ha=!1,this.ja=new go}function su(t,e){var n=new MediaSource;return t.A.oa(n,"sourceopen",(function(){URL.revokeObjectURL(t.W),e.resolve()})),t.W=Su(n),t.l.src=t.W,n}function uu(t,e,n){var r=ue(n.mimeType,n.codecs);if(e==ie)cu(t,r,t.s,n.external);else{var i=t.C.forceTransmux;(!Y(r)||!t.s&&pe.includes(r))&&(i=!0);var o=ce(n.mimeType,n.codecs);i&&(i=Rt(o))&&(r=i(),t.m[e]=r,r=r.convertCodecs(e,o)),o=r+t.C.sourceBufferExtraFeatures,_a(t.K);try{var a=t.i.addSourceBuffer(o)}catch(s){throw new Yt(2,3,3015,s,"The mediaSource_ status was"+t.i.readyState+"expected 'open'")}t.s&&(a.mode=_u),t.A.J(a,"error",(function(){t.j[e][0].p.reject(new Yt(2,3,3014,t.l.error?t.l.error.code:0))})),t.A.J(a,"updateend",(function(){return wu(t,e)})),t.h[e]=a,t.I[e]=r,t.ca[e]=!!n.drmInfos.length}}function cu(t,e,n,r){t.g||(t.g=new ge(t.u));var i=t.g;r=r||t.O,t=t.P,"application/cea-608"==e||"application/cea-708"==e?i.i=null:(i.i=(0,be[e])(),i.i.setSequenceMode?i.i.setSequenceMode(n):K('Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(t):K('Text parsers should have a "setManifestType" method!'),i.u=r)}function lu(t){return!t.o&&(!t.i||"ended"==t.i.readyState)}function fu(t,e){return t.o?t=null:e==ie?t=t.g.g:t=!(t=du(t,e))||1==t.length&&1e-6>t.end(0)-t.start(0)?null:1==t.length&&0>t.start(0)?0:t.length?t.start(0):null,t}function hu(t,e){return t.o?null:e==ie?t.g.h:$s(du(t,e))}function du(t,e){try{return t.h[e].buffered}catch(n){return null}}function pu(t,e,n,r,i,o,a,s){var u,c,f,h,d,p,g,m,y,v;return a=void 0!==a&&a,s=void 0!==s&&s,I((function(b){switch(b.g){case 1:if(e!=(u=oe).da){b.B(2);break}if(!t.s){b.B(3);break}return E(b,t.ja,4);case 4:c=b.h,t.g.s=c;case 3:return E(b,function(t,e,n,r){var i,o,a,s;return I((function(u){return 1==u.g?E(u,Promise.resolve(),2):t.i&&t.j?null==n||null==r?(t.i.parseInit(rt(e)),u.return()):(i=t.u?n:t.s,o={periodStart:t.s,segmentStart:n,segmentEnd:r,vttOffset:i},a=t.i.parseMedia(rt(e),o),s=a.filter((function(e){return e.startTime>=t.l&&e.startTime<t.m})),t.j.append(s),null==t.g&&(t.g=Math.max(n,t.l)),t.h=Math.min(r,t.m),void T(u)):u.return()}))}(t.g,n,r?r.startTime:null,r?r.endTime:null),5);case 5:return b.return();case 2:if(f=t.h[e].timestampOffset,h=t.I[e],t.m[e]&&(h=t.m[e].getOrginalMimeType()),r&&(d=function(t,e,n,r,i,o){var a=null,s=rt(n);if(pe.includes(i))(o=Ai(s)).length&&r&&((e=o.find((function(t){return"com.apple.streaming.transportStreamTimestamp"===t.description})))&&e.data&&(a=Math.round(e.data)/1e3),t.ia([{cueTime:r.startTime,data:s,frames:o,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(i.includes("/mp4")&&r&&0==r.m&&r.g&&r.g.timescale){var u=r.g.timescale;if(!isNaN(u)){var c=0,l=!1;(new Gr).box("moof",qr).box("traf",qr).R("tfdt",(function(t){c=Jr(t.reader,t.version).baseMediaDecodeTime/u,l=!0,t.parser.stop()})).parse(n,!0),l&&(a=c)}}else i.includes("/mp4")||i.includes("/webm")||!Mi(s)||(null!=(e=(s=(new Pi).parse(s)).getStartTime()[e])&&(a=e),(s=s.getMetadata()).length&&t.ia(s,o,r?r.endTime:null));return a}(t,e,n,r,h,f),null!=d)&&(p=r.startTime-d,(.1<=Math.abs(f-p)||a||s)&&(f=p,t.Z&&(Eu(t,e,(function(){return vu(t,e)})),Eu(t,e,(function(){return bu(t,e,f)})))),g=e==u.Aa||!(u.Aa in t.h),t.s&&g&&t.ja.resolve(f)),o&&e==u.Aa&&(t.g||cu(t,"application/cea-608",t.s,!1),t.D||(m=h.split(";",1)[0],t.D=new st(m)),r?(y=t.D.j(n)).length&&function(t,e,n,r,i){for(var o=n+" "+r,a=new Map,s=(e=l(e)).next();!s.done;s=e.next()){var u=s.value;s=u.stream,u=u.cue,a.has(s)||a.set(s,new Map),a.get(s).has(o)||a.get(s).set(o,[]),ve(t,u,i),u.startTime>=t.l&&u.startTime<t.m&&(a.get(s).get(o).push(u),s==t.A&&t.j.append([u]))}for(o=(i=l(a.keys())).next();!o.done;o=i.next())for(o=o.value,t.o.has(o)||t.o.set(o,new Map),s=(e=l(a.get(o).keys())).next();!s.done;s=e.next())s=s.value,u=a.get(o).get(s),t.o.get(o).set(s,u);t.g=null==t.g?Math.max(n,t.l):Math.min(t.g,Math.max(n,t.l)),t.h=Math.max(t.h,Math.min(r,t.m))}(t.g,y,r.startTime,r.endTime,f):t.D.init(n)),!t.m[e]){b.B(6);break}return E(b,t.m[e].transmux(n,i,r,t.i.duration,e),7);case 7:n=b.h;case 6:return n=function(t,e,n,r){var i=t.ca[r];return t.C.insertFakeEncryptionInInit&&null==n&&i&&(De()||je())&&"mp4"==t.I[r].split(";")[0].split("/")[1]&&(e=function(t){function e(){i=!0}function n(t){o.push(t),qr(t)}t=rt(t);var r,i=!1,o=[],a=[];if((new Gr).box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).R("stsd",(function(t){r=t,o.push(t),zr(t)})).R("encv",e).R("enca",e).R("hev1",(function(t){a.push({box:t,pb:1701733238})})).R("hvc1",(function(t){a.push({box:t,pb:1701733238})})).R("avc1",(function(t){a.push({box:t,pb:1701733238})})).R("avc3",(function(t){a.push({box:t,pb:1701733238})})).R("ac-3",(function(t){a.push({box:t,pb:1701733217})})).R("ec-3",(function(t){a.push({box:t,pb:1701733217})})).R("mp4a",(function(t){a.push({box:t,pb:1701733217})})).parse(t),i)return t;if(0==a.length||!r)throw Ni(t),new Yt(2,3,3019);a.reverse();for(var s=l(a),u=s.next();!u.done;u=s.next())u=u.value,t=Xs(t,r,u.box,o,u.pb);return t}(e)),e}(t,n,r?r.startTime:null,e),r&&t.s&&e!=u.da&&(a||s)&&(v=r.startTime,Eu(t,e,(function(){return vu(t,e)})),Eu(t,e,(function(){return bu(t,e,v)}))),E(b,Eu(t,e,(function(){var r=n;if("video"==e&&t.L){var i=t.L;i.g&&i.g.appendBuffer(r,"video",i.i)}t.h[e].appendBuffer(r)})),8);case 8:T(b)}}))}function gu(t,e){return I((function(n){return e==oe.da?t.g?E(n,t.g.remove(0,1/0),0):n.return():E(n,Eu(t,e,(function(){var n=t.i.duration;0>=n?wu(t,e):t.h[e].remove(0,n)})),0)}))}function mu(e,n,r,i,o,a,s,u){var c;return I((function(f){return 1==f.g?n==oe.da?(a||(e.g.s=r),function(t,e,n){t.l=e,t.m=n}(e.g,i,o),f.return()):(c=[],E(f,function(e,n,r,i){var o,a,s,u,c,f,h,d,p;return I((function(g){return 1==g.g?(o=de(he(e.I[n]))[0],a=e.I[n].split(";")[0],u=ue(r.mimeType,r.codecs),c=e.C.forceTransmux,(!Y(u)||!e.s&&pe.includes(u))&&(c=!0),f=ce(r.mimeType,r.codecs),c&&(h=Rt(f))&&(s=h(),u=s.convertCodecs(n,f)),d=de(he(u))[0],p=u.split(";")[0],o===d&&a===p?g.return(!1):t.SourceBuffer&&SourceBuffer.prototype&&SourceBuffer.prototype.changeType?E(g,function(e,n,r,i){return Eu(e,n,(function(){n!==ie&&(t.SourceBuffer&&SourceBuffer.prototype&&SourceBuffer.prototype.changeType&&(e.m[n]&&e.m[n].destroy(),i&&(e.m[n]=i),e.h[n].changeType(r+e.C.sourceBufferExtraFeatures),e.I[n]=r),wu(e,n))}))}(e,n,u,s),3):(s&&s.destroy(),E(g,function(t,e){return Tu(t,(function(){return function(t,e){var n,r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w,T;return I((function(x){switch(x.g){case 1:for(i in t.o=!0,n=t.l.currentTime,function(t){t.m=0,t.j=2}(x),t.A.Nb(),r=[],t.m)r.push(t.m[i].destroy());for(o in t.j)for(a=t.j[o],s=a[0],t.j[o]=a.slice(0,1),s&&r.push(s.p.catch(Jt)),u=l(a.slice(1)),c=u.next();!c.done;c=u.next())c.value.p.reject(new Yt(2,7,7003,void 0));for(f in t.h){h=t.h[f];try{t.i.removeSourceBuffer(h)}catch(A){}}return E(x,Promise.all(r),4);case 4:return t.m={},t.j={},t.h={},d=t.i.duration,t.F=new go,t.i=su(t,t.F),E(x,t.F,5);case 5:for(t.i.duration=d,p=new go,g=t.i.sourceBuffers,m=e.size,y=0,t.A.J(g,"addsourcebuffer",(function(){++y===m&&p.resolve()})),v=l(e.keys()),b=v.next();!b.done;b=v.next())w=b.value,T=e.get(w),uu(t,w,T);return t.l.currentTime=n,E(x,p,2);case 2:_(x),t.o=!1,O(x)}}))}(t,e)}))}(e,i),3))):g.return(!0)}))}(e,n,s,u),2)):(f.h||c.push(Eu(e,n,(function(){return vu(e,n)}))),a||c.push(Eu(e,n,(function(){return bu(e,n,r)}))),c.push(Eu(e,n,(function(){e.h[n].appendWindowStart=0,e.h[n].appendWindowEnd=o,e.h[n].appendWindowStart=i,wu(e,n)}))),E(f,Promise.all(c),0))}))}function yu(t,e,n){return I((function(r){return e==oe.da?r.return():(Eu(t,e,(function(){return vu(t,e)})),E(r,Eu(t,e,(function(){return bu(t,e,n)})),0))}))}function vu(t,e){var n=t.h[e].appendWindowStart,r=t.h[e].appendWindowEnd;t.h[e].abort(),t.h[e].appendWindowStart=n,t.h[e].appendWindowEnd=r,wu(t,e)}function bu(t,e,n){0>n&&(n+=.001),t.h[e].timestampOffset=n,wu(t,e)}function wu(t,e){if(!t.o){var n=t.j[e][0];n&&(n.p.resolve(),xu(t,e))}}function Eu(t,e,n){return _a(t.K),n={start:n,p:new go},t.j[e].push(n),1==t.j[e].length&&Au(t,e),n.p}function Tu(t,e){var n,r,i,o,a;return I((function(s){switch(s.g){case 1:for(i in _a(t.K),n=[],r={},t.h)r.Sb=new go,o={start:function(t){return function(){return t.Sb.resolve()}}(r),p:r.Sb},t.j[i].push(o),n.push(r.Sb),1==t.j[i].length&&o.start(),r={Sb:r.Sb};return x(s,2),E(s,Promise.all(n),4);case 4:A(s,3);break;case 2:throw S(s);case 3:return x(s,5,6),E(s,e(),6);case 6:for(a in _(s),t.h)xu(t,a);O(s);break;case 5:throw new Yt(2,3,3015,S(s),t.l.error||"No error in the media element")}}))}function xu(t,e){t.j[e].shift(),Au(t,e)}function Au(t,e){var n=t.j[e][0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new Yt(2,3,3017,e)):n.p.reject(new Yt(2,3,3015,r,t.l.error||"No error in the media element")),xu(t,e)}}eu.prototype.release=function(){this.l=this.j=null,this.i=function(){}},iu.prototype.release=function(){this.l&&(this.l.release(),this.l=null),null!=this.m&&(this.m.stop(),this.m=null),this.h&&(this.h.release(),this.h=null),this.g=this.A=this.u=null},iu.prototype.Kd=function(){this.o=!0,ou(this)},(r=au.prototype).destroy=function(){return this.K.destroy()},r.init=function(t,e,n,r){e=void 0!==e&&e,n=void 0===n?"UNKNOWN":n,r=void 0!==r&&r;var i,o,a,s,u=this;return I((function(c){if(1==c.g)return E(c,u.F,2);for(u.s=e,u.P=n,u.ha=r,u.Z=!u.s&&"HLS"==u.P&&!u.ha,i=l(t.keys()),o=i.next();!o.done;o=i.next())a=o.value,s=t.get(a),uu(u,a,s),u.j[a]=[];T(c)}))},r.configure=function(t){this.C=t},r.Ma=function(){var t={total:this.o?[]:tu(this.l.buffered),audio:this.o?[]:tu(du(this,"audio")),video:this.o?[]:tu(du(this,"video")),text:[]};if(this.g){var e=this.g.g,n=this.g.h;null!=e&&null!=n&&t.text.push({start:e,end:n})}return t},r.remove=function(t,e,n){var r=this;return I((function(i){return t==oe.da?E(i,r.g.remove(e,n),0):E(i,Eu(r,t,(function(){n<=e?wu(r,t):r.h[t].remove(e,n)})),0)}))},r.flush=function(t){var e=this;return I((function(n){return t==oe.da?n.return():E(n,Eu(e,t,(function(){e.l.currentTime-=.001,wu(e,t)})),0)}))},r.endOfStream=function(t){var e=this;return I((function(n){return E(n,Tu(e,(function(){lu(e)||"closed"===e.i.readyState||(t?e.i.endOfStream(t):e.i.endOfStream())})),0)}))},r.Va=function(t){var e=this;return I((function(n){return E(n,Tu(e,(function(){if(t<e.i.duration)for(var n in e.h){var r={start:function(){},p:new go};e.j[n].unshift(r)}e.i.duration=t})),0)}))},r.getDuration=function(){return this.i.duration};var Su=t.URL.createObjectURL,_u="sequence";function Ou(t){var e=this;this.g=t,this.j=!1,this.i=this.g.Ic(),this.h=new Ie((function(){e.g.we(.25*e.i)}))}function Ru(t){t.h.stop();var e=t.j?0:t.i;if(0<=e)try{return void(t.g.Ic()!=e&&t.g.Wd(e))}catch(n){}t.h.sa(.25),0!=t.g.Ic()&&t.g.Wd(0)}function Cu(t,e,n,r){e==HTMLMediaElement.HAVE_NOTHING||t.readyState>=e?r():(e=ku.value().get(e),n.oa(t,e,r))}Ou.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},Ou.prototype.set=function(t){this.i=t,Ru(this)},Ou.prototype.Ec=function(){return this.g.Ec()};var ku=new _r((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function Nu(t,e,n,r){var i=this;this.g=t,this.m=e,this.s=n,this.l=null,this.j=function(){return null==i.l&&(i.l=r()),i.l},this.o=!1,this.h=new Oa,this.i=new ju(t),Cu(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){Lu(i,i.j())}))}function Iu(t){return t.o?t.g.currentTime:t.j()}function Pu(t,e){0<t.g.readyState?Du(t.i,e):Cu(t.g,HTMLMediaElement.HAVE_METADATA,t.h,(function(){Lu(t,t.j())}))}function Lu(t,e){.001>Math.abs(t.g.currentTime-e)?Mu(t):(t.h.oa(t.g,"seeking",(function(){Mu(t)})),Du(t.i,t.g.currentTime&&0!=t.g.currentTime?t.g.currentTime:e))}function Mu(t){t.o=!0,t.h.J(t.g,"seeking",(function(){return t.m()})),t.s(t.g.currentTime)}function ju(t){var e=this;this.h=t,this.m=10,this.l=this.j=this.i=0,this.g=new Ie((function(){0>=e.i||e.h.currentTime!=e.j?e.g.stop():(e.h.currentTime=e.l,e.i--)}))}function Du(t,e){t.j=t.h.currentTime,t.l=e,t.i=t.m,t.h.currentTime=e,t.g.sa(.1)}function Bu(t){this.g=t,this.j=!1,this.h=null,this.i=new Oa}function Uu(t,e,n,r,i,o){var a=this;this.i=t,this.g=e.presentationTimeline,this.A=e.minBufferTime||0,this.l=n,this.u=i,this.s=null,this.o=function(t,e,n){if(!e.stallEnabled)return null;var r=e.stallSkip;return e=new eu(new nu(t),e.stallThreshold,n),function(t,e){t.i=e}(e,(function(){r?t.currentTime+=r:(t.pause(),t.play())})),e}(t,n,o),this.j=new iu(t,e.presentationTimeline,n,this.o,o),this.h=new Nu(t,(function(){var t=a.j;t.j=!0,t.o=!1;var e=Iu(a.h);return t=Hu(a,e),.001<Math.abs(t-e)&&(e=Date.now()/1e3,!a.s||a.s<e-1)?(a.s=e,Pu(a.h,t),t=void 0):(a.u(),t=void 0),t}),(function(t){var e=a.j;e.g.seeking&&!e.j&&(e.j=!0,e.i=t)}),(function(){var t=r;return null==t?t=1/0>a.g.getDuration()?a.g.Fb():a.g.Na():0>t&&(t=a.g.Na()+t),Fu(a,Vu(a,t))})),this.m=new Ie((function(){if(0!=a.i.readyState&&!a.i.paused){var t=Iu(a.h),e=a.g.Fb(),n=a.g.Na();3>n-e&&(e=n-3),t<e&&(t=Hu(a,t),a.i.currentTime=t)}}))}function Fu(t,e){var n=t.g.getDuration();return e>=n?n-t.l.durationBackoff:e}function Hu(t,e){var n=Math.max(t.A,t.l.rebufferingGoal),r=t.l.safeSeekOffset,i=t.g.Fb(),o=t.g.Na(),a=t.g.getDuration();3>o-i&&(i=o-3);var s=t.g.hc(n),u=t.g.hc(r);return n=t.g.hc(n+r),e>=a?Fu(t,e):e>o?o:e<i?Js(t.i.buffered,u)?u:n:e>=s||Js(t.i.buffered,e)?e:n}function Vu(t,e){var n=t.g.Fb();return e<n?n:e>(t=t.g.Na())?t:e}function Gu(t){var e=this;this.h=t,this.g=new Set,this.i=new Ie((function(){qu(e,!1)})).sa(.25)}function qu(t,e){for(var n=l(t.g),r=n.next();!r.done;r=n.next())r.value.j(t.h.currentTime,e)}function zu(t){xo.call(this),this.g=new Map,this.h=t}function Ku(t){xo.call(this);var e=this;this.g=new Set,this.i=t,this.h=new Ie((function(){for(var t=e.i(),n=l(e.g),r=n.next();!r.done;r=n.next())(r=r.value).endTime<t.start&&(e.g.delete(r),r=new To("regionremove",new Map([["region",r]])),e.dispatchEvent(r))})).sa(2)}function Wu(t,e){xo.call(this);var n=this;this.i=t,this.l=e,this.g=new Map,this.m=[{vb:null,ub:Zu,ob:function(t,e){return Xu(n,"enter",t,e)}},{vb:Yu,ub:Zu,ob:function(t,e){return Xu(n,"enter",t,e)}},{vb:$u,ub:Zu,ob:function(t,e){return Xu(n,"enter",t,e)}},{vb:Zu,ub:Yu,ob:function(t,e){return Xu(n,"exit",t,e)}},{vb:Zu,ub:$u,ob:function(t,e){return Xu(n,"exit",t,e)}},{vb:Yu,ub:$u,ob:function(t,e){return Xu(n,"skip",t,e)}},{vb:$u,ub:Yu,ob:function(t,e){return Xu(n,"skip",t,e)}}],this.h=new Oa,this.h.J(this.i,"regionremove",(function(t){n.g.delete(t.region)}))}function Xu(t,e,n,r){e=new To(e,new Map([["region",n],["seeking",r]])),t.dispatchEvent(e)}Nu.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.m=function(){},this.g=null},ju.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null},(r=Bu.prototype).gd=function(){var t=this;Cu(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,(function(){null==t.h||0==t.h?t.j=!0:(t.i.oa(t.g,"seeking",(function(){t.j=!0})),t.g.currentTime=Math.max(0,t.g.currentTime+t.h))}))},r.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},r.hd=function(t){this.h=this.j?this.h:t},r.yc=function(){return(this.j?this.g.currentTime:this.h)||0},r.de=function(){return 0},r.ce=function(){return 0},r.xe=function(){},(r=Uu.prototype).gd=function(){this.m.sa(.25)},r.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},r.hd=function(t){Pu(this.h,t)},r.yc=function(){var t=Iu(this.h);return 0<this.i.readyState&&!this.i.paused?Vu(this,t):t},r.de=function(){return this.o?this.o.o:0},r.ce=function(){return this.j.C},r.xe=function(){this.j.Kd()},Gu.prototype.release=function(){this.i.stop();for(var t=l(this.g),e=t.next();!e.done;e=t.next())e.value.release();this.g.clear()},y(zu,xo),zu.prototype.release=function(){this.g.clear(),xo.prototype.release.call(this)},zu.prototype.j=function(t){for(var e=l(this.g.values()),n=e.next();!n.done;n=e.next()){t:{for(var r=(n=n.value).oc,i=r.length-1;0<=i;i--){var o=r[i];if(o.position<=t){r=o.Cd;break t}}r=null}if((i=r)&&(i=!((i=n.je)===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width)),i)t:{if(i=t,o=r.contentType,(o=this.h()[o])&&0<o.length){var a=o[o.length-1].end;if(i>=o[0].start&&i<a){i=!0;break t}}i=!1}i&&(n.je=r,JSON.stringify(r),n=new To("qualitychange",new Map([["quality",r],["position",t]])),this.dispatchEvent(n))}},y(Ku,xo),Ku.prototype.release=function(){this.g.clear(),this.h.stop(),xo.prototype.release.call(this)},y(Wu,xo),Wu.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,xo.prototype.release.call(this)},Wu.prototype.j=function(t,e){if(!this.l||0!=t){this.l=!1;for(var n=l(this.i.g),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),o=t<r.startTime?Yu:t>r.endTime?$u:Zu;this.g.set(r,o);for(var a=l(this.m),s=a.next();!s.done;s=a.next())(s=s.value).vb==i&&s.ub==o&&s.ob(r,e)}}};var Yu=1,Zu=2,$u=3;function Ju(t,e,n){this.j=t,this.h=e,this.i=0,this.l=n,this.g=new Map}function Qu(t){if(0!==t.g.size){for(var e=l(t.g.keys()),n=e.next();!n.done;n=e.next())(n=n.value)&&tc(t,n);t.i=0}}function tc(t,e){var n=t.g.get(e);t.g.delete(e),n&&n.abort()}function ec(t){this.i=t,this.g=this.h=null}function nc(t,e,n){t.g=t.i(e,n,(function(e){return I((function(n){return t.h?E(n,t.h(e),0):n.B(0)}))}))}function rc(t,e){var n=this;this.g=e,this.m=t,this.i=null,this.u=1,this.o=this.j=null,this.D=0,this.C=!1,this.h=new Map,this.A=!1,this.F=null,this.s=!1,this.l=new Sa((function(){return function(t){var e,n,r,i;return I((function(o){if(1==o.g){for(e=[],n=l(t.h.values()),r=n.next();!r.done;r=n.next())vc(i=r.value),e.push(bc(i));return E(o,Promise.all(e),2)}t.h.clear(),t.g=null,t.m=null,t.i=null,T(o)}))}(n)}))}function ic(t,e){var n=t.h.get("video");if(n){var r=n.stream;r&&(e?(e=r.trickModeVideo)&&!n.rb&&(sc(t,e,!1,0,!1),n.rb=r):(r=n.rb)&&(n.rb=null,sc(t,r,!0,0,!1)))}}function oc(t,e,n,r,i,o){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,o=void 0!==o&&o,t.j=e,t.A&&(e.video&&sc(t,e.video,n,r,i,o),e.audio&&sc(t,e.audio,n,r,i,o))}function ac(t,e){I((function(n){if(1==n.g)return t.o=e,t.A?e.segmentIndex?n.B(2):E(n,e.createSegmentIndex(),2):n.return();sc(t,e,!0,0,!1),T(n)}))}function sc(t,e,n,r,i,o){var a=t.h.get(e.type);a||e.type!=ie?a&&(a.rb&&(e.trickModeVideo?(a.rb=e,e=e.trickModeVideo):a.rb=null),a.stream!=e||i)&&(a.ra&&function(t,e){e&&e!==t.h&&(Qu(t),t.h=e)}(a.ra,e),e.type==ie&&(i=ue(e.mimeType,e.codecs),cu(t.g.N,i,t.m.sequenceMode,e.external)),a.stream.closeSegmentIndex&&a.stream.closeSegmentIndex(),a.stream=e,a.X=null,a.ee=!!o,n&&(a.$b?a.Zc=!0:a.pa?(a.eb=!0,a.Ac=r,a.Zc=!0):(vc(a),mc(t,a,!0,r).catch((function(e){t.g&&t.g.onError(e)})))),function(t,e){var n,r;return I((function(i){if(1==i.g)return e.qa?(n=e.stream,r=e.qa,n.segmentIndex?i.B(2):E(i,n.createSegmentIndex(),2)):i.return();if(e.qa!=r||e.stream!=n)return i.return();var o=t.g.Hc(),a=hu(t.g.N,e.type),s=e.stream.segmentIndex.find(e.na?e.na.endTime:o),u=null==s?null:e.stream.segmentIndex.get(s);s=u&&u.i?u.i-u.j:null,u&&!s&&(s=(u.endTime-u.getStartTime())*(e.stream.bandwidth||0)/8),s?((u=u.g)&&(s+=(u.i?u.i-u.j:null)||0),o=8*s/(u=t.g.getBandwidthEstimate())<(a||0)-o-Math.max(t.m.minBufferTime||0,t.i.rebufferingGoal)||e.qa.h.g>s):o=!1,o&&e.qa.abort(),T(i)}))}(t,a).catch((function(e){t.g&&t.g.onError(e)}))):function(t,e){var n,r,i,o,a;I((function(s){switch(s.g){case 1:return n=oe,t.D++,r=t.D,x(s,2),E(s,gu(t.g.N,n.da),4);case 4:A(s,3);break;case 2:i=S(s),t.g&&t.g.onError(i);case 3:o=ue(e.mimeType,e.codecs),cu(t.g.N,o,t.m.sequenceMode,e.external),(t.g.N.u.isTextVisible()||t.i.alwaysStreamText)&&t.D==r&&(a=cc(t,e),t.h.set(n.da,a),yc(t,a,0)),T(s)}}))}(t,e)}function uc(t,e){e.$b||e.eb||(e.pa?(e.eb=!0,e.Ac=0):null==fu(t.g.N,e.type)?null==e.Ha&&yc(t,e,0):(vc(e),mc(t,e,!1,0).catch((function(e){t.g&&t.g.onError(e)}))))}function cc(t,e){return{stream:e,type:e.type,X:null,ra:lc(t,e),na:null,Ib:null,yd:null,wd:null,vd:null,rb:null,endOfStream:!1,pa:!1,Ha:null,eb:!1,Ac:0,Zc:!1,$b:!1,rc:!0,Fd:!1,Qd:!1,kc:!1,qa:null}}function lc(t,e){return"video"!==e.type&&"audio"!==e.type?null:0<t.i.segmentPrefetchLimit?new Ju(t.i.segmentPrefetchLimit,e,(function(e,n,r){return gc(t,e,n,r)})):null}function fc(e,n){var r,i,o,a,s;return I((function(u){switch(u.g){case 1:if(_a(e.l),n.pa||null==n.Ha||n.$b)return u.return();if(n.Ha=null,!n.eb){u.B(2);break}return E(u,mc(e,n,n.Zc,n.Ac),3);case 3:return u.return();case 2:if(n.stream.segmentIndex){u.B(4);break}return r=n.stream,E(u,n.stream.createSegmentIndex(),5);case 5:if(r!=n.stream)return r.closeSegmentIndex&&r.closeSegmentIndex(),n.pa||n.Ha||yc(e,n,0),u.return();case 4:x(u,6),i=function(e,n){if(dc(n))return function(t,e){var n=hu(t,"video")||0;ye(t.g,e,n)}(e.g.N,n.stream.originalId||""),null;n.type==ie&&function(t){t.g&&ye(t.g,"",0)}(e.g.N);var r=e.g.Hc(),i=n.na?n.na.endTime:r,o=function(t,e,n){return t.o?0:e==ie?null==(t=t.g).h||t.h<n?0:t.h-Math.max(n,t.g):Qs(t=du(t,e),n)}(e.g.N,n.type,r),a=Math.max(e.m.minBufferTime||0,e.i.rebufferingGoal,e.i.bufferingGoal)*e.u,s=e.m.presentationTimeline.getDuration()-i,u=hu(e.g.N,n.type);if(1e-6>s&&u)return n.endOfStream=!0,"video"==n.type&&(e=e.h.get(ie))&&dc(e)&&(e.endOfStream=!0),null;if(n.endOfStream=!1,o>=a)return e.i.updateIntervalSeconds/2;if(o=function(t,e,n,r){if(e.X)return e.X.current();if(e.na||r)return n=e.na?e.na.endTime:r,e.Fd=!0,e.X=e.stream.segmentIndex.kb(n),e.X&&e.X.next().value;t=t.i.inaccurateManifestTolerance,r=Math.max(n-t,0);var i=null;return t&&(e.X=e.stream.segmentIndex.kb(r),i=e.X&&e.X.next().value),i||(e.X=e.stream.segmentIndex.kb(n),i=e.X&&e.X.next().value),i}(e,n,r,u),!o)return e.i.updateIntervalSeconds;for(a=1/0,s=l(s=Array.from(e.h.values())),u=s.next();!u.done;u=s.next())dc(u=u.value)||u.X&&!u.X.current()||(a=Math.min(a,u.na?u.na.endTime:r));return i>=a+e.m.presentationTimeline.g?e.i.updateIntervalSeconds:(n.ra&&n.X&&function(t,e){if(t.h.segmentIndex){var n=t.h.segmentIndex.kb(Math.max(e.startTime,t.i));if(n)for(;t.g.size<t.j&&null!=e;){var r=!0;e.u&&null!=e.i&&(r=!1),2==e.jc()&&(r=!1),r&&!t.g.has(e)&&(nc(r=new ec(t.l),e,t.h),t.g.set(e,r)),t.i=e.startTime,e=n.next().value}}}(n.ra,o),function(e,n,r,i){var o,a,s,u,c,l,f,h,d,p,g,m,y,v;return I((function(b){switch(b.g){case 1:if(o=oe,a=n.stream,s=n.X,n.pa=!0,x(b,2),2==i.jc())throw new Yt(1,1,1011);return E(b,function(t,e,n){var r,i,o,a,s,u,c,l,f,h,d,p,g;return I((function(m){return r=oe,i=[],o=Math.max(0,n.L-.1),a=n.K+.01,s=de(e.stream.codecs)[0],u=e.stream.mimeType.split(";")[0],(c=n.m)==e.yd&&o==e.wd&&a==e.vd&&s==e.Pc&&u==e.xd||((e.Pc&&s!=e.Pc||e.xd&&u!=e.xd)&&(e.type===r.Aa?(l=t.h.get(r.xb))&&(l.Ib=null,bc(l)):e.type===r.xb&&(f=t.h.get(r.Aa))&&(f.Ib=null,bc(f))),h=function(){var n,i,l;return I((function(f){if(1==f.g)return n=new Map,t.j.audio&&n.set(r.xb,t.j.audio),t.j.video&&n.set(r.Aa,t.j.video),x(f,2),e.wd=o,e.vd=a,e.Pc=s,e.xd=u,e.yd=c,i=t.m.sequenceMode||"HLS"==t.m.type,E(f,mu(t.g.N,e.type,c,o,a,i,e.stream,n),4);if(2!=f.g)return A(f,0);throw l=S(f),e.wd=null,e.vd=null,e.Pc=null,e.yd=null,l}))},i.push(h())),!function(t,e){return t&&e?t.ic()==e.ic()&&t.ec()==e.ec()&&ht(t.Oa(),e.Oa())&&tt(t.g,e.g):t==e}(n.g,e.Ib)&&(e.Ib=n.g)&&(d=pc(t,e,n.g,void 0,!0),p=function(){var i,o,a,s,u;return I((function(c){switch(c.g){case 1:return x(c,2),E(c,d,4);case 4:return i=c.h,_a(t.l),o=null,a=new Map,(new Gr).box("moov",qr).box("trak",qr).box("mdia",qr).R("mdhd",(function(t){o=Qr(t.reader,t.version).timescale})).box("hdlr",(function(t){(t=t.reader).skip(8),t=t.$a(4);var e=String.fromCharCode(t[0]);switch(e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])){case"soun":a.set(r.xb,o);break;case"vide":a.set(r.Aa,o)}o=null})).parse(i),a.has(e.type)?n.g.timescale=a.get(e.type):null!=o&&(n.g.timescale=o),s=e.stream.closedCaptions&&0<e.stream.closedCaptions.size,E(c,t.g.fe(e.type,i),5);case 5:return E(c,pu(t.g.N,e.type,i,null,e.stream,s),6);case 6:A(c,0);break;case 2:throw u=S(c),e.Ib=null,u}}))},t.g.Qf(n.startTime,n.g),i.push(p())),g=e.na?e.na.o:null,t.m.sequenceMode?(n.o!=g||e.Fd)&&(e.Fd=!1,i.push(yu(t.g.N,e.type,n.startTime))):t.m.ignoreManifestTimestampsInSegmentsMode&&n.o!=g&&i.push(yu(t.g.N,e.type,n.m)),E(m,Promise.all(i),0)}))}(e,n,i),4);case 4:return _a(e.l),e.s?b.return():(u="video/mp4"==a.mimeType||"audio/mp4"==a.mimeType,c=t.ReadableStream,e.i.lowLatencyMode&&c&&u&&("HLS"!=e.m.type||i.A)?(f=new Uint8Array(0),d=h=!1,p=function(t){var o,s,u;return I((function(c){return h?c.return():(d=!0,_a(e.l),e.s?c.return():(f=function(t,e){var n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}(f,t),o=!1,s=0,(new Gr).box("mdat",(function(t){s=t.size+t.start,o=!0})).parse(f,!1,!0),o?(u=f.subarray(0,s),f=f.subarray(s),E(c,hc(e,n,r,a,i,u),0)):c.B(0)))}))},E(b,pc(e,n,i,p),11)):E(b,pc(e,n,i),7));case 7:if(l=b.h,_a(e.l),e.s)return b.return();if(!i.C){b.B(8);break}return E(b,function(e,n,r){var i,o,a,s;return I((function(u){if(1==u.g)return(i=n.C).cryptoKey?u.B(2):E(u,i.fetchKey(),3);if(!(o=i.iv))for(o=rt(new ArrayBuffer(16)),a=i.firstMediaSequenceNumber+r.g,s=o.byteLength-1;0<=s;s--)o[s]=255&a,a>>=8;return u.return(t.crypto.subtle.decrypt({name:"AES-CBC",iv:o},i.cryptoKey,e))}))}(l,i,s),9);case 9:l=b.h;case 8:return _a(e.l),n.eb?(n.pa=!1,yc(e,n,0),b.return()):E(b,hc(e,n,r,a,i,l),6);case 11:if(g=b.h,d){b.B(6);break}return h=!0,_a(e.l),e.s?b.return():n.eb?(n.pa=!1,yc(e,n,0),b.return()):E(b,hc(e,n,r,a,i,g),6);case 6:if(_a(e.l),e.s)return b.return();n.na=i,s.next(),n.pa=!1,n.Qd=!1,m=e.g.N.Ma(),y=m[n.type],JSON.stringify(y),n.eb||e.g.Kd(i.startTime,i.endTime,n.type),yc(e,n,0),A(b,0);break;case 2:if(v=S(b),_a(e.l,v),e.s)return b.return();if(n.pa=!1,7001==v.code)n.pa=!1,vc(n),yc(e,n,0),b.B(0);else if(n.type==o.da&&e.i.ignoreTextStreamFailures)e.h.delete(o.da),b.B(0);else{if(3017!=v.code)return n.kc=!0,v.severity=2,E(b,wc(e,n,v),0);(function(t,e,n){if(!Array.from(t.h.values()).some((function(t){return t!=e&&t.Qd}))){var r=Math.round(100*t.u);if(20<r)t.u-=.2;else{if(!(4<r))return e.kc=!0,t.s=!0,void t.g.onError(n);t.u-=.04}e.Qd=!0}yc(t,e,4)})(e,n,v),b.B(0)}}}))}(e,n,r,o).catch((function(){})),null)}(e,n),null!=i&&(yc(e,n,i),n.kc=!1),A(u,7);break;case 6:return o=S(u),E(u,wc(e,n,o),8);case 8:return u.return();case 7:if(a=Array.from(e.h.values()),!e.A||!a.every((function(t){return t.endOfStream}))){u.B(0);break}return E(u,e.g.N.endOfStream(),10);case 10:_a(e.l),0!=(s=e.g.N.getDuration())&&s<e.m.presentationTimeline.getDuration()&&e.m.presentationTimeline.Va(s),T(u)}}))}function hc(t,e,n,r,i,o){var a,s,u,c,l,f;return I((function(h){switch(h.g){case 1:return a=r.closedCaptions&&0<r.closedCaptions.size,u=null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length||t.i.dispatchAllEmsgBoxes,c=t.i.parsePrftBox&&!t.C,(u||c)&&(s=new Gr),u&&s.R("emsg",(function(e){var n=r.emsgSchemeIdUris;if(0===e.version)var o=e.reader.pc(),a=e.reader.pc(),s=e.reader.H(),u=e.reader.H(),c=e.reader.H(),l=e.reader.H(),f=i.startTime+u/s;else s=e.reader.H(),u=(f=e.reader.Mb()/s+i.m)-i.startTime,c=e.reader.H(),l=e.reader.H(),o=e.reader.pc(),a=e.reader.pc();e=e.reader.$a(e.reader.getLength()-e.reader.aa()),(n&&n.includes(o)||t.i.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==o?t.g.Rf():((n=new To("emsg",n=(new Map).set("detail",{startTime:f,endTime:f+c/s,schemeIdUri:o,value:a,timescale:s,presentationTimeDelta:u,eventDuration:c,id:l,messageData:e}))).cancelable=!0,t.g.onEvent(n),n.defaultPrevented||"https://aomedia.org/emsg/ID3"!=o&&"https://developer.apple.com/streaming/emsg-id3"!=o||(o=Ai(e)).length&&i&&t.g.Sf([{cueTime:i.startTime,data:e,frames:o,dts:i.startTime,pts:i.startTime}],0,i.endTime)))})),c&&s.R("prft",(function(e){if(!t.C&&i.g.timescale){var n=e.reader,r=e.version;n.H(),e=1e3*(e=n.H())+n.H()/Math.pow(2,32)*1e3,0===r?n=n.H():(r=n.H(),n=n.H(),n=r*Math.pow(2,32)+n),e=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+e).getTime(),n=new To("prft",n=(new Map).set("detail",{wallClockTime:e,programStartDate:new Date(e-n/i.g.timescale*1e3)})),t.g.onEvent(n),t.C=!0}})),(u||c)&&s.parse(o),E(h,function(t,e,n){var r,i,o;return I((function(a){if(1==a.g)return r=Math.max(t.i.bufferBehind,t.m.presentationTimeline.g),null==(i=fu(t.g.N,e.type))||.01>=(o=n-i-r)?a.return():E(a,t.g.N.remove(e.type,i,i+o),2);_a(t.l),T(a)}))}(t,e,n),2);case 2:return _a(t.l),l=e.rc,e.rc=!1,f=e.ee,e.ee=!1,E(h,t.g.fe(e.type,o),3);case 3:return E(h,pu(t.g.N,e.type,o,i,r,a,l,f),4);case 4:_a(t.l),T(h)}}))}function dc(t){return t&&t.type==ie&&("application/cea-608"==t.stream.mimeType||"application/cea-708"==t.stream.mimeType)}function pc(t,e,n,r,i){var o,a,s;return I((function(u){if(1==u.g){if(n instanceof Vo&&(o=n.g))return u.return(o);if(a=null,e.ra&&n instanceof Go){var c=e.ra;if(c.g.has(n)){var l=c.g.get(n);r&&(l.h=r),c.g.delete(n),a=l.g}else a=null}return a||(a=gc(t,n,e.stream,r,i)),e.qa=a,E(u,a.promise,2)}return s=u.h,e.qa=null,u.return(s.data)}))}function gc(t,e,n,r,i){i=i?0:1;var o=e instanceof Go?e:void 0;return e=Aa(e.Oa(),e.j,e.i,t.i.retryParameters,r),t.g.mc.request(Lo,e,{type:i,stream:n,segment:o})}function mc(t,e,n,r){var i,o;return I((function(a){return 1==a.g?(e.eb=!1,e.Zc=!1,e.Ac=0,e.$b=!0,e.na=null,e.Ib=null,e.X=null,e.ra&&Qu(e.ra),r?(i=t.g.Hc(),o=t.g.N.getDuration(),E(a,t.g.N.remove(e.type,i+r,o),3)):E(a,gu(t.g.N,e.type),4)):3!=a.g?(_a(t.l),n?E(a,t.g.N.flush(e.type),3):a.B(3)):(_a(t.l),e.$b=!1,e.endOfStream=!1,e.pa||e.Ha||yc(t,e,0),void T(a))}))}function yc(t,e,n){var r=e.type;(r!=ie||t.h.has(r))&&(e.Ha=new Ne((function(){var n;return I((function(r){return 1==r.g?(x(r,2),E(r,fc(t,e),4)):2!=r.g?A(r,0):(n=S(r),t.g&&t.g.onError(n),void T(r))}))})).V(n))}function vc(t){null!=t.Ha&&(t.Ha.stop(),t.Ha=null)}function bc(t){return I((function(e){return t.qa?E(e,t.qa.abort(),0):e.B(0)}))}function wc(t,e,n){var r;return I((function(i){if(1==i.g)return E(i,po(t.F),2);_a(t.l),r=0===t.i.maxDisabledTime&&1011==n.code?1:t.i.maxDisabledTime,1===n.category&&0<r&&(n.handled=t.g.kd(e.stream,r),n.handled&&(n.severity=1)),t.g.onError(n),n.handled||t.i.failureCallback(n),T(i)}))}function Ec(t){if(t=Tc(t))t:{for(var e=(t=l(t.getElementsByTagName("DATA"))).next();!e.done;e=t.next())if(e=Hi(e.value,"LA_URL")){t=e.textContent;break t}t=""}else t="";return t}function Tc(t){return(t=function(t){var e=0,n=it(t),r=n.getUint32(e,!0);if(r!=t.byteLength)return[];t:{for(t=e+6,e=[];t<n.byteLength-1;){r=n.getUint16(t,!0),t+=2;var i=n.getUint16(t,!0);if(t+=2,1&i||i+t>n.byteLength){n=[];break t}var o=rt(n,t,i);e.push({type:r,value:o}),t+=i}n=e}return n}(t=Ci(t.textContent)).filter((function(t){return t.type===xc}))[0])&&(t=io(t=Cr(t.value,!0),"WRMHEADER"))?t:null}ec.prototype.abort=function(){this.g&&this.g.abort()},(r=rc.prototype).destroy=function(){return this.l.destroy()},r.configure=function(t){this.i=t,this.F=new ho({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0);for(var e=l(this.h.keys()),n=e.next();!n.done;n=e.next())if((n=this.h.get(n.value)).ra){var r=n.ra,i=t.segmentPrefetchLimit;r.j=i;for(var o=Array.from(r.g.keys());o.length>i;){var a=o.pop();a&&tc(r,a)}0<t.segmentPrefetchLimit||(n.ra=null)}else 0<t.segmentPrefetchLimit&&(n.ra=lc(this,n.stream))},r.start=function(){var t=this;return I((function(e){if(1==e.g)return E(e,function(t){var e,n,r,i,o,a,s,u;return I((function(c){if(1==c.g){if(e=oe,!t.j)throw new Yt(2,5,5006);return n=new Map,r=new Set,t.j.audio&&(n.set(e.xb,t.j.audio),r.add(t.j.audio)),t.j.video&&(n.set(e.Aa,t.j.video),r.add(t.j.video)),t.o&&(n.set(e.da,t.o),r.add(t.o)),E(c,t.g.N.init(n,t.m.sequenceMode,t.m.type,t.m.ignoreManifestTimestampsInSegmentsMode),2)}for(_a(t.l),t.updateDuration(),i=l(n.keys()),o=i.next();!o.done;o=i.next())a=o.value,s=n.get(a),t.h.has(a)||(u=cc(t,s),t.h.set(a,u),yc(t,u,0));T(c)}))}(t),2);_a(t.l),t.A=!0,T(e)}))},r.rc=function(){if(this.g)for(var t=this.g.Hc(),e=l(this.h.keys()),n=e.next();!n.done;n=e.next()){var r=n.value,i=null;(n=this.h.get(r)).X&&(i=n.X.current()),(!i||i.startTime>t||i.endTime<t)&&(n.X=null),(i=this.g.N).o?i=!1:r==ie?i=null!=(i=i.g).g&&null!=i.h&&(t>=i.g&&t<i.h):i=Js(i=du(i,r),t),i||((null!=hu(this.g.N,r)||n.pa)&&uc(this,n),n.qa&&(n.qa.abort(),n.qa=null),r===ie&&((r=this.g.N).D&&r.D.i()),n.rc=!0)}},r.updateDuration=function(){var t=this.m.presentationTimeline.getDuration();1/0>t?this.g.N.Va(t):this.g.N.Va(Math.pow(2,32))};var xc=1,Ac=(new Map).set("com.microsoft.playready",Ec).set("com.microsoft.playready.recommendation",Ec).set("com.microsoft.playready.software",Ec).set("com.microsoft.playready.hardware",Ec);function Sc(t){if(!Pc){Pc=!0;var e=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);zc=Ic("ftyp",e,r,e,n),e=Ic("dref",Kc),Wc=Ic("dinf",e)}this.g=t}function _c(t){var e=Ic,n=new Uint8Array([]);switch(t.type){case"video":if(t.codecs.includes("avc1")){n=t.stream.width||0;var r=t.stream.height||0;if(0<t.ga.byteLength)var i=Ic("avcC",t.ga);else{i=Ic;for(var o=7,a=[],s=[],u=0,c=0,l=0,h=0;h<t.xa.length;h++){var d=Nc(t.xa[h]);switch(31&d[0]){case 7:a.push(d),o+=d.length+2;break;case 8:s.push(d),o+=d.length+2}}for(0<a.length&&(u=a[0][1],l=a[0][2],c=a[0][3]),h=0,(o=new Uint8Array(o))[h++]=1,o[h++]=u,o[h++]=l,o[h++]=c,o[h++]=255,o[h++]=224|a.length,u=0;u<a.length;u++)o[h++]=(65280&a[u].length)>>8,o[h++]=255&a[u].length,o.set(a[u],h),h+=a[u].length;for(o[h++]=s.length,a=0;a<s.length;a++)o[h++]=(65280&s[a].length)>>8,o[h++]=255&s[a].length,o.set(s[a],h),h+=s[a].length;i=i("avcC",o)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(f(kc(n,2)),f(kc(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",s=new Uint8Array([]),t.encrypted&&(s=Rc(t),r="encv"),n=Ic(r,n,i,s)}else t.codecs.includes("hvc1")&&(r=t.stream.width||0,i=t.stream.height||0,n=new Uint8Array([]),0<t.ga.byteLength&&(n=Ic("hvcC",t.ga)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(f(kc(r,2)),f(kc(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",s=new Uint8Array([]),t.encrypted&&(s=Rc(t),i="encv"),n=Ic(i,r,n,s));break;case"audio":t.codecs.includes("mp3")?t=Ic(".mp3",Oc(t)):t.codecs.includes("ac-3")?(n=Ic("dac3",t.Y),r="ac-3",i=new Uint8Array([]),t.encrypted&&(i=Rc(t),r="enca"),t=Ic(r,Oc(t),n,i)):t.codecs.includes("ec-3")?(n=Ic("dec3",t.Y),r="ec-3",i=new Uint8Array([]),t.encrypted&&(i=Rc(t),r="enca"),t=Ic(r,Oc(t),n,i)):(0<t.Y.byteLength?n=Ic("esds",t.Y):(n=Ic,r=t.id+1,i=t.stream.bandwidth||0,s=t.stream.channelsCount||2,u=t.stream.audioSamplingRate||44100,c=ne("audio",t.codecs.split(",")),a=(l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12})[u],"mp4a.40.5"!==c&&"mp4a.40.29"!==c||(a=l[2*u]),u=parseInt(c.split(".").pop(),10),n=n("esds",r=new Uint8Array([0,0,0,0,3,25].concat(f(kc(r,2)),[0,4,17,64,21,0,6,0],f(kc(i,4)),f(kc(i,4)),[5,2,u<<3|a>>>1,a<<7|s<<3,6,1,2])))),r="mp4a",i=new Uint8Array([]),t.encrypted&&(i=Rc(t),r="enca"),t=Ic(r,Oc(t),n,i)),n=t}return e("stbl",t=Ic("stsd",qc,n),Ic("stts",Bc),Ic("stsc",Uc),Ic("stsz",Hc),Ic("stco",Fc))}function Oc(t){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.stream.channelsCount||2,0,16,0,0,0,0].concat(f(kc(t.stream.audioSamplingRate||44100,2)),[0,0]))}function Rc(t){for(var e=Ic,n=t.codecs.substring(0,t.codecs.indexOf(".")),r=0,i=0;i<n.length;i+=1)r|=n.charCodeAt(i)<<8*(n.length-i-1);n=Ic("frma",n=new Uint8Array([].concat(f(kc(r,4))))),r=Ic("schm",r=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0])),i=Ic;for(var o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),a=(t=l(t.stream.drmInfos)).next();!a.done;a=t.next())if((a=a.value)&&a.keyIds&&a.keyIds.size)for(var s=(a=l(a.keyIds)).next();!s.done;s=a.next())o=Nc(s.value);return e("sinf",n,r,i("schi",o=Ic("tenc",t=new Uint8Array([0,0,0,0,0,0,1,8]),o)))}function Cc(t){for(var e=new Uint8Array([]),n=(t=l(t.g)).next();!n.done;n=t.next()){n=n.value;var r,i=Ic,o=new Uint8Array([0,0,0,0].concat(f(kc(n.data?n.data.Ua:0,4))));o=Ic("mfhd",o);var a=n.data?n.data.wa:[],s=new Uint8Array(4+a.length);for(r=0;r<a.length;r++){var u=a[r].flags;s[r+4]=u.Ca<<4|u.Fa<<2|u.Ea}var c=(a=Ic("sdtp",s)).length+92;s=Ic,r=Ic("tfhd",r=new Uint8Array([0,0,0,58].concat(f(kc(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),u=n.data?n.data.baseMediaDecodeTime:0;var h=Math.floor(u%(Lc+1));u=Ic("tfdt",u=new Uint8Array([1,0,0,0].concat(f(kc(Math.floor(u/(Lc+1)),4)),f(kc(h,4)))));var d=c,p=12+16*(h=(c=n.data?n.data.wa:[]).length),g=new Uint8Array(p);for(d+=8+p,g.set(["video"===n.type?1:0,0,15,1].concat(f(kc(h,4)),f(kc(d,4))),0),d=0;d<h;d++){var m=c[d];p=kc(m.duration,4);var y=kc(m.size,4),v=m.flags;m=kc(m.Ja,4),g.set([].concat(f(p),f(y),[v.Pa<<2|v.Ca,v.Fa<<6|v.Ea<<4|v.Qa,61440&v.Ba,15&v.Ba],f(m)),12+16*d)}for(i=i("moof",o,a=s("traf",r,u,c=Ic("trun",g),a)),o=n.data?n.data.wa:[],n=new Uint8Array([]),a=(o=l(o)).next();!a.done;a=o.next())n=Ii(n,a.value.data);e=Ii(e,i,n=Ic("mdat",n))}return e}function kc(t,e){var n=[];for(--e;0<=e;e--)n.push(t>>8*e&255);return n}function Nc(t){for(var e=new Uint8Array(t.length/2),n=0;n<t.length/2;n+=1)e[n]=parseInt(String(t[2*n]+t[2*n+1]),16);return e}function Ic(t){var e=P.apply(1,arguments),n=Mc[t];n||(n=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)],Mc[t]=n);for(var r=8,i=e.length-1;0<=i;i--)r+=e[i].byteLength;for((i=new Uint8Array(r))[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(n,4),n=0,r=8;n<e.length;n++)i.set(e[n],r),r+=e[n].byteLength;return i}Sc.prototype.initSegment=function(){for(var t=new Uint8Array([]),e=l(this.g),n=e.next();!n.done;n=e.next()){var r=t;t=n.value,n=Ic;var i=t.id+1,o=t.stream.width||0,a=t.stream.height||0;"audio"==t.type&&(a=o=0);var s=t.duration*t.timescale,u=Math.floor(s/(Lc+1));switch(s=Math.floor(s%(Lc+1)),i=Ic("tkhd",i=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(f(kc(i,4)),[0,0,0,0],f(kc(u,4)),f(kc(s,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],f(kc(o,2)),[0,0],f(kc(a,2)),[0,0]))),o=Ic,u=t.duration*t.timescale,a=Math.floor(u/(Lc+1)),u=Math.floor(u%(Lc+1)),s=(s=t.stream.language).charCodeAt(0)-96<<10|s.charCodeAt(1)-96<<5|s.charCodeAt(2)-96,a=Ic("mdhd",a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(f(kc(t.timescale,4)),f(kc(a,4)),f(kc(u,4)),f(kc(s,2)),[0,0]))),u=t,s=new Uint8Array([]),u.type){case"video":s=jc;break;case"audio":s=Dc}u=Ic("hdlr",s);t:{switch(t.type){case"video":t=Ic("minf",Ic("vmhd",Vc),Wc,_c(t));break t;case"audio":t=Ic("minf",Ic("smhd",Gc),Wc,_c(t));break t}t=new Uint8Array([])}t=Ii(r,n=n("trak",i,t=o("mdia",a,u,t)))}for(e=Ic,i=(n=this.g[0]).duration*n.timescale,r=Math.floor(i/(Lc+1)),i=Math.floor(i%(Lc+1)),r=Ic("mvhd",r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(f(kc(n.timescale,4)),f(kc(r,4)),f(kc(i,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))),o=new Uint8Array([]),a=(i=l(this.g)).next();!a.done;a=i.next())o=Ii(o,a=Ic("trex",a=new Uint8Array([0,0,0,0].concat(f(kc(a.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))));if(i=Ic("mvex",o),o=new Uint8Array([]),n.encrypted)for(a=(n=l(n.stream.drmInfos)).next();!a.done;a=n.next())if((a=a.value).initData)for(u=(a=l(a.initData)).next();!u.done;u=a.next())o=Ii(o,u.value.initData);return e=e("moov",r,t,i,o),(r=new Uint8Array(zc.byteLength+e.byteLength)).set(zc),r.set(e,zc.byteLength),r};var Pc=!1,Lc=Math.pow(2,32)-1,Mc={},jc=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Dc=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Bc=new Uint8Array([0,0,0,0,0,0,0,0]),Uc=new Uint8Array([0,0,0,0,0,0,0,0]),Fc=new Uint8Array([0,0,0,0,0,0,0,0]),Hc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Vc=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Gc=new Uint8Array([0,0,0,0,0,0,0,0]),qc=new Uint8Array([0,0,0,0,0,0,0,1]),zc=new Uint8Array([]),Kc=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Wc=new Uint8Array([]);function Xc(){var t=this;this.h=this.g=null,this.l=[],this.j=null,this.s=1,this.i=null,this.A=new H(5),this.o=new Ie((function(){!function(t){var e;I((function(n){switch(n.g){case 1:return x(n,2),E(n,Yc(t),4);case 4:A(n,3);break;case 2:e=S(n),t.h&&(e.severity=1,t.h.onError(e));case 3:if(!t.h)return n.return();T(n)}}))}(t)})),this.u=new _o,this.m=new Map}function Yc(t){var e,n,r,i,o,a,s;return I((function(u){if(1==u.g)return e=ko(t.l,t.g.retryParameters),n=t.h.networkingEngine,r=Date.now(),i=n.request(0,e,{type:5}),Oo(t.u,i),E(u,i.promise,2);if(o=u.h,!t.h)return u.return();o.uri&&!t.l.includes(o.uri)&&t.l.unshift(o.uri);var c=o.uri,h=oo(o.data,"SmoothStreamingMedia");if(!h)throw new Yt(2,4,4046,c);if((c=t.g.mss.manifestPreprocessor)&&c(h),t.i||(t.i=new xa(null,0)),c=Xi(h,"IsLive",no,!1))throw new Yt(2,4,4047);t.i.Yd(!c);var d=Xi(h,"TimeScale",to,1e7),p=Xi(h,"DVRWindowLength",to);c&&(0===p||isNaN(p))&&(p=1/0);var g,m=Xi(h,"CanSeek",no,!1);for(0===p&&m&&(p=1/0),m=null,p&&0<p&&(m=p/d),c&&!isNaN(t.g.availabilityWindowOverride)&&(m=t.g.availabilityWindowOverride),null==m&&(m=1/0),t.i.Xd(m),p=Xi(h,"Duration",to,1/0),c||t.i.Va(p/d),c={variants:[],textStreams:[],timescale:d,duration:p/d},m=Gi(h,"Protection"),d=t.g.mss.keySystemsBySystemId,p=[],g=(m=l(m)).next();!g.done;g=m.next())p=p.concat(Gi(g.value,"ProtectionHeader"));if(p.length){for(m=[],g=0;g<p.length;g++){var y=p[g],v=y.getAttribute("SystemID").toLowerCase(),b=d[v];if(b){var w=Tc(y);if(w)t:{for(var x=(w=l(w.getElementsByTagName("DATA"))).next();!x.done;x=w.next())if(x=Hi(x.value,"KID")){w=Ci(x.textContent),w=Ni(w=new Uint8Array([w[3],w[2],w[1],w[0],w[5],w[4],w[7],w[6]].concat(f(w.slice(8)))));break t}w=null}else w=null;v=ee(b,v=[{initData:Fi(x=Ci(y.textContent),v=ki(v.replace(/-/g,"")),new Set,0),initDataType:"cenc",keyId:w}]),w&&v.keyIds.add(w),(b=Ac.get(b))&&(v.licenseServerUri=b(y)),m.push(v)}}d=m}else d=[];for(g=d,m=[],d=[],p=[],y=(h=l(h=Gi(h,"StreamIndex"))).next();!y.done;y=h.next()){b=Gi(y=y.value,"QualityLevel"),v=c.timescale,w=c.duration,x=Gi(y,"c");for(var A=[],S=0,_=0;_<x.length;++_){var O=x[_],R=x[_+1],C=Xi(O,"t",to),k=Xi(O,"d",to);if(O=Xi(O,"r",Ji),!k)break;if(C=null!=C?C:S,0>(O=O||0))if(R){if(null==(R=Xi(R,"t",to)))break;if(C>=R)break;O=Math.ceil((R-C)/k)-1}else{if(1/0==w)break;if(C/v>=w)break;O=Math.ceil((w*v-C)/k)-1}for(R=0;R<=O;++R)S=C+k,A.push({start:C/v,end:S/v,be:C}),C=S}for(v=A,w=(b=l(b)).next();!w.done;w=b.next())(w=Zc(t,y,w.value,v,g,c))&&("audio"!=w.type||t.g.disableAudio?"video"!=w.type||t.g.disableVideo?w.type!=ie||t.g.disableText||p.push(w):d.push(w):m.push(w))}for(h=[],g=(m=l(0<m.length?m:[null])).next();!g.done;g=m.next())for(g=g.value,w=(y=l(0<d.length?d:[null])).next();!w.done;w=y.next())v=(b=h).push,w=w.value,x=0,g&&g.bandwidth&&0<g.bandwidth&&(x+=g.bandwidth),w&&w.bandwidth&&0<w.bandwidth&&(x+=w.bandwidth),w={id:t.s++,language:g?g.language:"und",disabledUntilTime:0,primary:!!g&&g.primary||!!w&&w.primary,audio:g,video:w,bandwidth:x,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},v.call(b,w);c.variants=h,c.textStreams=p,t.j?(t.j.variants=c.variants,t.j.textStreams=c.textStreams,t.h.filter(t.j)):(t.j={presentationTimeline:t.i,variants:c.variants,textStreams:c.textStreams,imageStreams:[],offlineSessionIds:[],minBufferTime:0,sequenceMode:t.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null},t.i.zd()),Promise.resolve(),a=Date.now(),s=(a-r)/1e3,t.A.sample(1,s),T(u)}))}function Zc(t,e,n,r,i,o){var a=e.getAttribute("Type");if("audio"!==a&&"video"!==a&&"text"!==a)return K("Ignoring unrecognized type:",a),null;var s=e.getAttribute("Language"),u=t.s++,c=Xi(n,"Bitrate",Qi),f=Xi(n,"MaxWidth",Qi),h=Xi(n,"MaxHeight",Qi),d=Xi(n,"Channels",Qi),p=Xi(n,"SamplingRate",Qi),g=o.duration;r.length&&(g=r[r.length-1].end-r[0].start);var m=t.i.getDuration();t.i.Va(Math.min(g,m));var y={id:u,originalId:e.getAttribute("Name")||String(u),createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:c||0,width:f||void 0,height:h||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:Ae(s||"und"),originalLanguage:s,label:"",type:"",primary:!1,trickModeVideo:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:d,audioSamplingRate:p,spatialAudio:!1,closedCaptions:null,hdr:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:g,timescale:o.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1};if((i=e.getAttribute("Subtype"))&&((i=Jc[i])&&y.roles.push(i),"main"===i&&(y.primary=!0)),null!==(i=n.getAttribute("FourCC"))&&""!==i||(i=e.getAttribute("FourCC")),!i)if("audio"===a)i="AAC";else if("video"===a)return K('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!$c.includes(i.toUpperCase()))return K("Codec not supported:",i),null;switch(n=function(t,e,n,r){if(t=t.getAttribute("CodecPrivateData"))return t;if("audio"!==e)return null;e=r.channelsCount||2,t=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[t],"AACH"===n?(n=new Uint8Array(4),t=i[2*t],n[0]=40|r>>1,n[1]=r<<7|e<<3|t>>1,n[2]=t<<7|8,n[3]=0,e=new Uint16Array(2),e[0]=(n[0]<<8)+n[1],e[1]=(n[2]<<8)+n[3],e[0].toString(16)+e[1].toString(16)):(n=new Uint8Array(2),n[0]=16|r>>1,n[1]=r<<7|e<<3,e=new Uint16Array(1),e[0]=(n[0]<<8)+n[1],e[0].toString(16))}(n,a,i,y),y.mssPrivateData.codecPrivateData=n,a){case"audio":if(!n)return K("Quality unsupported without CodecPrivateData",a),null;y.type="audio",y.mimeType="mss/audio/mp4",y.codecs=function(t,e){var n=0;return"AACH"===t&&(n=5),e?0===n&&(n=(248&parseInt(e.substr(0,2),16))>>3):(n=2,"AACH"===t&&(n=5)),"mp4a.40."+n}(i,n);break;case"video":if(!n)return K("Quality unsupported without CodecPrivateData",a),null;y.type="video",y.mimeType="mss/video/mp4",y.codecs=function(t){var e=/00000001[0-9]7/.exec(t);return e.length&&t?"avc1."+t.substr(t.indexOf(e[0])+10,6):""}(n);break;case"text":y.type=ie,y.mimeType="application/mp4",("TTML"===i||"DFXP"===i)&&(y.codecs="stpp")}return y.createSegmentIndex=function(){if(y.segmentIndex)return Promise.resolve();if(t.m.has(y.id))var n=t.m.get(y.id);else n=[],"video"==y.type&&(n=y.mssPrivateData.codecPrivateData.split("00000001").slice(1)),n=new Sc([n={id:y.id,type:y.type,codecs:y.codecs,encrypted:y.encrypted,timescale:y.mssPrivateData.timescale,duration:y.mssPrivateData.duration,xa:n,Y:new Uint8Array([]),ga:new Uint8Array([]),data:null,stream:y}]).initSegment(),t.m.set(y.id,n);return n=function(t,e,n,r,i){var o=r.getAttribute("Url").replace("{bitrate}",String(n.bandwidth));r=[];for(var a={},s=(i=l(i)).next();!s.done;a={Ub:a.Ub},s=i.next())a.Ub=s.value,r.push(new Go(a.Ub.start,a.Ub.end,function(e){return function(){return te(t.l,[o.replace("{start time}",String(e.Ub.be))])}}(a),0,null,e,0,0,n.mssPrivateData.duration));return r}(t,new Vo((function(){return[]}),0,null,null,void 0,n),y,e,r),y.segmentIndex=new Wo(n),Promise.resolve()},y.closeSegmentIndex=function(){y.segmentIndex&&(y.segmentIndex.release(),y.segmentIndex=null)},y}(r=Xc.prototype).configure=function(t){this.g=t},r.start=function(t,e){var n=this;return I((function(r){if(1==r.g)return n.l=[t],n.h=e,E(r,Yc(n),2);if(!n.h)throw new Yt(2,7,7001);return r.return(n.j)}))},r.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,null!=this.o&&(this.o.stop(),this.o=null),this.m.clear(),this.u.destroy()},r.update=function(){var t,e=this;return I((function(n){return 1==n.g?(x(n,2),E(n,Yc(e),4)):2!=n.g?A(n,0):(t=S(n),e.h&&t?(e.h.onError(t),void T(n)):n.return())}))},r.onExpirationUpdated=function(){},F("shaka.mss.MssParser",Xc);var $c="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),Jc={CAPT:"main",SUBT:"alternate",DESC:"main"};function Qc(t,e,n,r,i,o){if(200<=n&&299>=n&&202!=n)return{uri:i||r,originalUri:r,data:e,status:n,headers:t,fromCache:!!t["x-shaka-from-cache"]};i=null;try{i=kr(e)}catch(a){}throw new Yt(401==n||403==n?2:1,1,1001,r,n,i,t,o)}function tl(){}function el(t,e,n,r,i){var o=new sl;ka(e.headers).forEach((function(t,e){o.append(e,t)}));var a=new ol,s={he:!1,Le:!1};if(t=function(t,e,n,r,i,o,a){var s,u,c,l,f,h,d,p,g,m,y,v;return I((function(b){switch(b.g){case 1:return s=il,u=al,h=f=0,d=Date.now(),x(b,2),E(b,s(t,n),4);case 4:if(c=b.h,o(nl(c.headers)),"HEAD"==n.method){b.B(5);break}return p=c.clone().body.getReader(),m=(g=c.headers.get("Content-Length"))?parseInt(g,10):0,new u({start:function(t){function e(){var n,r;return I((function(o){switch(o.g){case 1:return x(o,2),E(o,p.read(),4);case 4:n=o.h,A(o,3);break;case 2:return S(o),o.return();case 3:if(n.done){o.B(5);break}if(f+=n.value.byteLength,!a){o.B(5);break}return E(o,a(n.value),5);case 5:(100<(r=Date.now())-d||n.done)&&(i(r-d,f-h,m-f),h=f,d=r),n.done?t.close():(t.enqueue(n.value),e()),T(o)}}))}e()}}),E(b,c.arrayBuffer(),6);case 6:l=b.h;case 5:A(b,3);break;case 2:if(y=S(b),r.he)throw new Yt(1,1,7001,t,e);if(r.Le)throw new Yt(1,1,1003,t,e);throw new Yt(1,1,1002,t,y,e);case 3:return v=nl(c.headers),b.return(Qc(v,l,c.status,t,c.url,e))}}))}(t,n,{body:e.body||void 0,headers:o,method:e.method,signal:a.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},s,r,i,e.streamDataCallback),t=new mo(t,(function(){return s.he=!0,a.abort(),Promise.resolve()})),e=e.retryParameters.timeout){var u=new Ie((function(){s.Le=!0,a.abort()}));u.V(e/1e3),t.finally((function(){u.stop()}))}return t}function nl(t){var e={};return t.forEach((function(t,n){e[n.trim()]=t})),e}function rl(){if(!t.ReadableStream)return!1;try{new ReadableStream({})}catch(bp){return!1}return!!t.Response&&(!!new Response("").body&&!(!t.fetch||!t.AbortController))}Ta.ism=function(){return new Xc},Ea["application/vnd.ms-sstr+xml"]=function(){return new Xc},F("shaka.net.HttpFetchPlugin",tl),tl.isSupported=rl,tl.parse=el;var il=t.fetch,ol=t.AbortController,al=t.ReadableStream,sl=t.Headers;function ul(){}function cl(t,e,n,r,i){var o=new fl,a=Date.now(),s=0;return new mo(new Promise((function(u,c){o.open(e.method,t,!0),o.responseType="arraybuffer",o.timeout=e.retryParameters.timeout,o.withCredentials=e.allowCrossSiteCredentials,o.onabort=function(){c(new Yt(1,1,7001,t,n))};var l=!1;for(var f in o.onreadystatechange=function(){if(2==o.readyState&&!l){var t=ll(o);i(t),l=!0}},o.onload=function(){var e=ll(o),r=o.response;try{var i=Qc(e,r,o.status,t,o.responseURL,n);u(i)}catch(a){c(a)}},o.onerror=function(e){c(new Yt(1,1,1002,t,e,n))},o.ontimeout=function(){c(new Yt(1,1,1003,t,n))},o.onprogress=function(t){var e=Date.now();(100<e-a||t.lengthComputable&&t.loaded==t.total)&&(r(e-a,t.loaded-s,t.total-t.loaded),s=t.loaded,a=e)},e.headers)o.setRequestHeader(f.toLowerCase(),e.headers[f]);o.send(e.body)})),(function(){return o.abort(),Promise.resolve()}))}function ll(t){var e=t.getAllResponseHeaders().trim().split("\r\n");t={};for(var n=(e=l(e)).next();!n.done;n=e.next())t[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");return t}rl()&&(Co("http",el,2,!0),Co("https",el,2,!0),Co("blob",el,2,!0)),F("shaka.net.HttpXHRPlugin",ul),ul.parse=cl;var fl=t.XMLHttpRequest;function hl(t,e){var n=th(),r=this;this.j=e,this.i=t,this.l=n,this.o=null,this.m=[],this.h=this.g=null,this.u=Promise.resolve().then((function(){return function(t){return I((function(e){if(t.s.g)e=e.B(0);else{if(0==t.m.length||t.g&&!t.g.nb)var n=!1;else{t.g&&(t.g.Ga.qb(),t.g=null);var r=(n=t.m.shift()).create(t.l);r?(n.Ga.Kb(),t.g={node:r.node,S:r.S,nb:r.nb,Ga:n.Ga}):n.Ga.Vc(),n=!0}n?n=Promise.resolve():t.g?n=function(t){var e,n;return I((function(r){switch(r.g){case 1:return t.i=t.j.rf(t.i,t.l,t.g.node,t.g.S),x(r,2),t.h=t.j.Ze(t.i,t.l,t.g.S),E(r,t.h.promise,4);case 4:t.h=null,t.i==t.g.node&&(t.g.Ga.Uc(),t.g=null),A(r,0);break;case 2:return 7001==(e=S(r)).code?t.g.Ga.qb():t.g.Ga.onError(e),t.g=null,t.h=null,n=t,E(r,t.j.handleError(t.l,e),5);case 5:n.i=r.h,T(r)}}))}(t):(t.j.Pf(t.i),t.o=new go,n=t.o),e=E(e,n,1)}return e}))}(r)})),this.s=new Sa((function(){return function(t){var e,n;return I((function(r){if(1==r.g)return t.h&&t.h.abort(),pl(t),E(r,t.u,2);for(t.g&&t.g.Ga.qb(),e=l(t.m),n=e.next();!n.done;n=e.next())n.value.Ga.qb();t.g=null,t.m=[],t.j=null,T(r)}))}(r)}))}function dl(t,e){var n={Kb:function(){},Uc:function(){},qb:function(){},onError:function(){},Vc:function(){},xg:function(){}};return t.m.push({create:e,Ga:n}),t.h&&t.h.abort(),pl(t),n}function pl(t){t.o&&(t.o.resolve(),t.o=null)}function gl(t){if(t.s)return"\n";if(t.g.length)return t.g.map(gl).join("");var e=[],n=700<=t.C,r="italic"==t.m,i=t.o.includes("underline");return n&&e.push(["b"]),r&&e.push(["i"]),i&&e.push(["u"]),n="",(r=ml(t.l))&&(n+="."+r),(r=ml(t.backgroundColor))&&(n+=".bg_"+r),n&&e.push(["c",n]),e.reduceRight((function(t,e){var n=l(e);return"<"+(e=n.next().value)+(void 0===(n=n.next().value)?"":n)+">"+t+"</"+e+">"}),t.S)}function ml(t){switch(t.toLowerCase()){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function yl(t){for(var e=[],n=(t=l(t)).next();!n.done;n=t.next()){var r=(n=n.value).clone();r.g=[],r.S=gl(n),e.push(r)}return e}function vl(t){this.g=null;for(var e=l(Array.from(t.textTracks)),n=e.next();!n.done;n=e.next())(n=n.value).mode="disabled","Shaka Player TextTrack"==n.label&&(this.g=n);this.g||(this.g=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}function bl(t){if(t.startTime>=t.endTime)return null;var e=new VTTCue(t.startTime,t.endTime,t.S);e.lineAlign=t.i,e.positionAlign=t.D,t.size&&(e.size=t.size);try{e.align=t.textAlign}catch(n){}return"center"==t.textAlign&&"center"!=e.align&&(e.align="middle"),"vertical-lr"==t.writingMode?e.vertical="lr":"vertical-rl"==t.writingMode&&(e.vertical="rl"),1==t.u&&(e.snapToLines=!1),null!=t.h&&(e.line=t.h),null!=t.position&&(e.position=t.position),e}function wl(t,e){var n=t.mode;t.mode="showing"==n?"showing":"hidden";for(var r=l(Array.from(t.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&e(i)&&t.removeCue(i);t.mode=n}function El(){}function Tl(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function xl(e,n){var r=this;this.j=!1,this.i=[],this.A=e,this.m=n,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.m.appendChild(this.g),this.u=new Ie((function(){_l(r)})).sa(.25),this.h=new Map,this.s=new Oa,this.s.J(document,"fullscreenchange",(function(){_l(r,!0)})),this.l=null,"ResizeObserver"in t&&(this.l=new ResizeObserver((function(){_l(r,!0)})),this.l.observe(this.g)),this.o=new Map}function Al(t,e){for(;null!=e;){if(e==t.g)return!0;e=e.parentElement}return!1}function Sl(t,e,n,r,i){for(var o=!1,a=[],s=[],u=(e=l(e)).next();!u.done;u=e.next()){u=u.value,i.push(u);var c=t.h.get(u),f=u.startTime<=r&&u.endTime>r,h=c?c.Pe:null;c&&(a.push(c.jd),c.qc&&a.push(c.qc),f||(o=!0,t.h.delete(u),c=null)),f&&(s.push(u),c?Al(t,h)||(o=!0):(Ol(t,u,i),h=(c=t.h.get(u)).Pe,o=!0)),0<u.g.length&&h&&Sl(t,u.g,h,r,i),i.pop()}if(o){for(i=(r=l(a)).next();!i.done;i=r.next())(i=i.value).parentElement&&i.parentElement.removeChild(i);for(s.sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime-e.endTime})),u=(s=l(s)).next();!u.done;u=s.next())(r=t.h.get(u.value)).qc?(n.appendChild(r.qc),r.qc.appendChild(r.jd)):n.appendChild(r.jd)}}function _l(t,e){if(t.g){var n=t.A.currentTime;if(!t.j||void 0!==e&&e){for(var r=(e=l(t.o.values())).next();!r.done;r=e.next())Tl(r.value);Tl(t.g),t.h.clear(),t.o.clear()}if(t.j){e=new Map;for(var i=(r=l(t.h.keys())).next();!i.done;i=r.next())i=i.value,e.set(i,t.h.get(i));Sl(t,t.i,t.g,n,[])}}}function Ol(t,e,n){var r=1<n.length,i=r?"span":"div";e.s&&(i="br"),r=!r&&0<e.g.length;var o=document.createElement(i);if("br"!=i&&function(t,e,n,r,i){var o=e.style,a=0==n.g.length,s=1<r.length;o.whiteSpace="pre-wrap";var u=n.S.replace(/\s+$/g,(function(t){return"".repeat(t.length)}));if(o.webkitTextStrokeColor=n.W,o.webkitTextStrokeWidth=n.Z,o.color=n.l,o.direction=n.direction,o.opacity=n.O,o.paddingLeft=Rl(n,t.m),o.paddingRight=Rl(n,t.m),o.textShadow=n.P,n.g.length)var c=e;else c=document.createElement("span"),e.appendChild(c);n.A&&(c.style.border=n.A),i||((e=function(t,e){for(var n=t.length-1;0<=n;n--){var r=e(t[n]);if(r||0===r)return r}return null}(r,(function(t){return t.backgroundColor})))?c.style.backgroundColor=e:u&&(c.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(c.textContent=u),s?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",o.justifyContent="before"==n.j?"flex-start":"center"==n.j?"center":"flex-end"),a||(o.margin="0"),o.fontFamily=n.I,o.fontWeight=n.C.toString(),o.fontStyle=n.m,o.letterSpacing=n.K,o.fontSize=Rl(n,t.m),null!=n.h&&(t=n.u,0==n.h&&t==wt&&(t=1),1==t&&(o.position="absolute",n.writingMode==bt?(o.width="100%",n.i==Et?o.top=n.h+"%":"end"==n.i&&(o.bottom=100-n.h+"%")):"vertical-lr"==n.writingMode?(o.height="100%",n.i==Et?o.left=n.h+"%":"end"==n.i&&(o.right=100-n.h+"%")):(o.height="100%",n.i==Et?o.right=n.h+"%":"end"==n.i&&(o.left=100-n.h+"%")))),o.lineHeight=n.L,null!=n.position&&(n.writingMode==bt?o.paddingLeft=n.position:o.paddingTop=n.position),t=function(t){var e=t.direction,n=t.D;return t=t.textAlign,n!==gt?n:"left"===t||"start"===t&&e===vt||"end"===t&&"rtl"===e?"line-left":"right"===t||"start"===t&&"rtl"===e||"end"===t&&e===vt?"line-right":"center"}(n),"line-left"==t?o.cssFloat="left":"line-right"==t&&(o.cssFloat="right"),o.textAlign=n.textAlign,o.textDecoration=n.o.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==bt?o.width=n.size+"%":o.height=n.size+"%")}(t,o,e,n,r),n=null,e.region&&e.region.id)if(i=(n=e.region).id+"_"+n.width+"x"+n.height+(n.g==St?"%":"px")+"-0x0"+(n.h==St?"%":"px"),t.o.has(i))n=t.o.get(i);else{var a=document.createElement("span"),s=n.g==St?"%":"px",u=n.i==St?"%":"px",c=n.h==St?"%":"px";a.id="shaka-text-region---"+i,a.classList.add("shaka-text-region"),a.style.height=n.height+s,a.style.width=n.width+u,a.style.position="absolute",a.style.top=0+c,a.style.left=0+c,a.style.display="flex",a.style.flexDirection="column",a.style.alignItems="center",a.style.justifyContent="before"==e.j?"flex-start":"center"==e.j?"center":"flex-end",t.o.set(i,a),n=a}i=o,r&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=e.backgroundColor,i.style.lineHeight="normal",o.appendChild(i)),t.h.set(e,{jd:o,Pe:i,qc:n})}function Rl(t,e){var n=(n=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(""))?{value:Number(n[1]),unit:n[2]}:null;if(!n)return"";var r=n.value;switch(n.unit){case"%":return r/100*e.clientHeight/t.F.rows+"px";case"c":return e.clientHeight*r/t.F.rows+"px";default:return""}}function Cl(t,e){this.h=t,this.g=e,this.j="",this.o=void 0,this.i=!1,this.m=!0,this.l=!1}function kl(e){return e.j||(e.j=e.g.sessionId||t.crypto.randomUUID()),{v:1,sf:e.o,sid:e.j,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function Nl(t,e,n){n=void 0===n?{}:n;var r=void 0===r?t.g.useHeaders:r;if(t.g.enabled){Object.assign(n,kl(t)),n.pr=t.h.Gc();var i=n.ot===jl||n.ot===Dl;if(t.l&&i&&(n.bs=!0,n.su=!0,t.l=!1),null==n.su&&(n.su=t.m),r)t=function(t){for(var e=Object.keys(t),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},a=(e=l(e)).next();!a.done;a=e.next())a=a.value,i[null!=o[a]?o[a]:1][a]=t[a];for(t=0;t<i.length;t++)(o=Il(i[t]))&&(n["CMCD-"+r[t]]=o);return n}(n),Object.keys(t).length&&Object.assign(e.headers,t);else{var o=Il(n);o&&(e.uris=e.uris.map((function(t){return Pl(t,o)})))}}}function Il(t){function e(t){return 100*n(t/100)}function n(t){return Math.round(t)}for(var r,i=[],o={br:n,d:n,bl:e,dl:e,mtp:e,nor:function(t){return encodeURIComponent(t)},rtp:e,tb:n},a=Object.keys(t||{}).sort(),s=(a=l(a)).next();!s.done;s=a.next()){var u=t[s=s.value];if(!(r=u,Number.isNaN(r)||null==r||""===r||!1===r||"v"===s&&1===u||"pr"==s&&1===u)){var c=o[s];c&&(u=c(u));var f;f="string"===(c=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===c?s:"symbol"===c?s+"="+u.description:s+"="+u,i.push(f)}}return i.join(",")}function Pl(t,e){return!e||t.includes("offline:")?t:((t=new Mt(t)).g.set("CMCD",e),t.toString())}Co("http",cl,1,!0),Co("https",cl,1,!0),Co("blob",cl,1,!0),hl.prototype.destroy=function(){return this.s.destroy()},(r=vl.prototype).remove=function(t,e){return!!this.g&&(wl(this.g,(function(n){return n.startTime<e&&n.endTime>t})),!0)},r.append=function(t){var e=yl(t),n=[];t=this.g.cues?Array.from(this.g.cues):[];for(var r={},i=(e=l(e)).next();!i.done;r={wb:r.wb},i=e.next())r.wb=i.value,t.some(function(t){return function(e){return e.startTime==t.wb.startTime&&e.endTime==t.wb.endTime&&e.text==t.wb.S}}(r))||(i=bl(r.wb))&&n.push(i);for(r=(t=l(t=n.slice().sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:"line"in VTTCue.prototype?n.indexOf(e)-n.indexOf(t):n.indexOf(t)-n.indexOf(e)})))).next();!r.done;r=t.next())this.g.addCue(r.value)},r.destroy=function(){return this.g&&(wl(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=null,Promise.resolve()},r.isTextVisible=function(){return"showing"==this.g.mode},r.setTextVisibility=function(t){this.g.mode=t?"showing":"hidden"},F("shaka.text.SimpleTextDisplayer",vl),vl.prototype.setTextVisibility=vl.prototype.setTextVisibility,vl.prototype.isTextVisible=vl.prototype.isTextVisible,vl.prototype.destroy=vl.prototype.destroy,vl.prototype.append=vl.prototype.append,vl.prototype.remove=vl.prototype.remove,F("shaka.util.Dom",El),El.removeAllChildren=Tl,(r=xl.prototype).append=function(t){for(var e=[].concat(f(this.i)),n={},r=(t=l(t)).next();!r.done;n={vc:n.vc},r=t.next())n.vc=r.value,e.some(function(t){return function(e){return pt(e,t.vc)}}(n))||this.i.push(n.vc);_l(this)},r.destroy=function(){this.m.removeChild(this.g),this.g=null,this.j=!1,this.i=[],this.u&&this.u.stop(),this.h.clear(),this.s&&(this.s.release(),this.s=null),this.l&&(this.l.disconnect(),this.l=null)},r.remove=function(t,e){if(!this.g)return!1;var n=this.i.length;return this.i=this.i.filter((function(n){return n.startTime<t||n.endTime>=e})),_l(this,n>this.i.length),!0},r.isTextVisible=function(){return this.j},r.setTextVisibility=function(t){this.j=t},F("shaka.text.UITextDisplayer",xl),xl.prototype.setTextVisibility=xl.prototype.setTextVisibility,xl.prototype.isTextVisible=xl.prototype.isTextVisible,xl.prototype.remove=xl.prototype.remove,xl.prototype.destroy=xl.prototype.destroy,xl.prototype.append=xl.prototype.append,F("shaka.text.WebVttGenerator",(function(){})),Cl.prototype.configure=function(t){this.g=t};var Ll="m",Ml="a",jl="v",Dl="av",Bl="i",Ul="c",Fl="tt";function Hl(){}function Vl(t,e,n,r,i){var o,a=i in r,s=!0;for(o in e){var u=i+"."+o,c=a?r[i]:n[o];a||o in n?void 0===e[o]?void 0===c||a?delete t[o]:t[o]=Ao(c):c.constructor==Object&&e[o]&&e[o].constructor==Object?(t[o]||(t[o]=Ao(c)),u=Vl(t[o],e[o],c,r,u),s=s&&u):typeof e[o]!=typeof c||null==e[o]||"function"!=typeof e[o]&&e[o].constructor!=c.constructor?(z("Invalid config, wrong type for "+u),s=!1):("function"==typeof n[o]&&n[o].length!=e[o].length&&K("Unexpected number of arguments for "+u),t[o]=e[o]):(z("Invalid config, unrecognized key "+u),s=!1)}return s}function Gl(t,e){for(var n={},r=n,i=0,o=0;!(0>(i=t.indexOf(".",i)));)0!=i&&"\\"==t[i-1]||(r[o=t.substring(o,i).replace(/\\\./g,".")]={},r=r[o],o=i+1),i+=1;return r[t.substring(o).replace(/\\\./g,".")]=e,n}function ql(t,e){return t&&e}function zl(){}function Kl(t){return new Mt(t=kr(t)).Da}function Wl(t,e,n){function r(t){it(o).setUint32(a,t.byteLength,!0),a+=4,o.set(rt(t),a),a+=t.byteLength}if(!n||!n.byteLength)throw new Yt(2,6,6015);var i;i="string"==typeof e?Ir(e,!0):e,t=Ir(t=kr(t),!0);var o=new Uint8Array(12+t.byteLength+i.byteLength+n.byteLength),a=0;return r(t),r(i),r(n),o}function Xl(t,e,n){return"skd"!==e?t:(e=n.serverCertificate,Wl(t,n=kr(t).split("skd://").pop(),e))}function Yl(t,e){2===t&&(e.headers["Content-Type"]="application/octet-stream")}function Zl(){}function $l(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(e,n,r){return t.shakaMediaKeysPolyfill&&"skd"==n&&(n=r.serverCertificate,e=Wl(e,r=Kl(e),n)),e},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:je(),minHdcpVersion:""},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(t){return ql([t],t)},sequenceMode:!1},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3,sequenceMode:!(Ve("Tizen 3")||Ve("Tizen 2")||Be()||Fe()),ignoreManifestTimestampsInSegmentsMode:!1},mss:{manifestPreprocessor:function(t){return ql([t],t)},sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(t){return ql([t])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1,segmentPrefetchLimit:0,liveSync:!1,liveSyncMaxLatency:1,liveSyncPlaybackRate:1.1};(Ve("Web0S")||De()||Ve("CrKey"))&&(i.stallSkip=0);var o={trackSelectionCallback:function(t){return I((function(e){return e.return(t)}))},downloadSizeCallback:function(t){var e;return I((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?E(n,navigator.storage.estimate(),3):n.return(!0):(e=n.h,n.return(e.usage+t<.95*e.quota))}))},progressCallback:function(t,e){return ql([t,e])},usePersistentLicense:!0,numberOfParallelDownloads:5},a={drm:n,manifest:r,streaming:i,mediaSource:{sourceBufferExtraFeatures:"",forceTransmux:!1,insertFakeEncryptionInInit:!0},offline:o,abrFactory:function(){return new On},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0},autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:!1}};return o.trackSelectionCallback=function(t){return I((function(e){return e.return(function(t,e){var n=t.filter((function(t){return"variant"==t.type})),r=[],i=Re(e,n.map((function(t){return t.language})));i&&(r=n.filter((function(t){return Ae(t.language)==i}))),0==r.length&&(r=n.filter((function(t){return t.primary}))),0==r.length&&(n.map((function(t){return t.language})),r=n);var o=r.filter((function(t){return t.height&&480>=t.height}));for(o.length&&(o.sort((function(t,e){return e.height-t.height})),r=o.filter((function(t){return t.height==o[0].height}))),e=[],r.length&&(n=Math.floor(r.length/2),r.sort((function(t,e){return t.bandwidth-e.bandwidth})),e.push(r[n])),t=l(t),r=t.next();!r.done;r=t.next())(r=r.value).type!=ie&&"image"!=r.type||e.push(r);return e}(t,a.preferredAudioLanguage))}))},a}function Jl(t,e,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return Vl(t,e,n||$l(),r,"")}function Ql(){this.g=null,this.h=[]}function tf(t,e){if(null==t.g)t.g={timestamp:Date.now()/1e3,state:e,duration:0};else{var n=Date.now()/1e3;t.g.duration=n-t.g.timestamp,t.g.state!=e&&(t.h.push(t.g),t.g={timestamp:n,state:e,duration:0})}}function ef(t,e){var n=0;t.g&&t.g.state==e&&(n+=t.g.duration);for(var r=(t=l(t.h)).next();!r.done;r=t.next())n+=(r=r.value).state==e?r.duration:0;return n}function nf(){this.i=this.h=null,this.g=[]}function rf(t,e,n){t.i!=e&&(t.i=e,t.g.push({timestamp:Date.now()/1e3,id:e.id,type:"text",fromAdaptation:n,bandwidth:null}))}function of(){this.u=this.A=this.F=this.C=this.s=this.j=this.D=this.m=this.i=this.O=this.P=this.I=this.K=this.L=this.l=this.o=NaN,this.g=new Ql,this.h=new nf}function af(e,n){xo.call(this);var r=this;this.l=rh,this.Dc=this.h=null,this.ha=!1,this.Nc=new Oa,this.Wb=new Oa,this.o=new Oa,this.Qb=this.i=this.Oc=this.K=this.j=this.fb=this.L=this.Ne=this.W=this.gb=this.O=this.Kc=this.I=this.Bb=this.A=this.D=this.m=this.F=null,this.bc=!1,this.ud=this.s=null,this.Od=1e9,this.g=xf(this),this.Ld={width:1/0,height:1/0},this.u=null,this.yb=new Gs(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel),this.zb=this.g.preferredTextLanguage,this.ac=this.g.preferredTextRole,this.Zb=this.g.preferForcedSubs,this.Yb=[],this.cc=null,n&&n(this),this.W=function(t){return new Cl({getBandwidthEstimate:function(){return t.s?t.s.getBandwidthEstimate():NaN},Ma:function(){return t.Ma()},getCurrentTime:function(){return t.h?t.h.currentTime:0},Gc:function(){return t.Gc()},od:function(){return t.od()},Za:function(){return t.Za()},T:function(){return t.T()}},t.g.cmcd)}(this),this.F=function(t){return new Ro((function(e,n){t.s&&t.s.segmentDownloaded(e,n)}),(function(e,n,r){e=(new Map).set("headers",e).set("request",n).set("requestType",r),t.dispatchEvent(uf("downloadheadersreceived",e))}),(function(e,n,r,i){e=(new Map).set("request",e).set("error",n).set("httpResponseCode",r).set("aborted",i),t.dispatchEvent(uf("downloadfailed",e))}),(function(e,n,r){var i=t.W;if(r=void 0===r?{}:r,i.g.enabled)if("HEAD"===n.method)Nl(i,n);else switch(e){case 0:try{if(i.g.enabled){if(r.type){t:{switch(r.type){case 4:var o="d";break t;case 3:case 2:o="h";break t;case 5:o="s";break t}o=void 0}i.o=o}Nl(i,n,{ot:Ll,su:!i.i})}}catch(f){W("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",f)}break;case Lo:e=r;try{if(i.g.enabled){var a=e.segment;o=0,a&&(o=a.endTime-a.startTime);var s={d:1e3*o,st:i.h.T()?"l":"v"};s.ot=function(t){if(0===t.type)return Bl;if(t=t.stream){var e=t.type;if("video"==e)return t.codecs&&t.codecs.includes(",")?Dl:jl;if("audio"==e)return Ml;if("text"==e)return"application/mp4"===t.mimeType?Fl:Ul}}(e);var u=s.ot===jl||s.ot===Ml||s.ot===Dl||s.ot===Fl,c=e.stream;c&&(u&&(s.bl=function(t,e){if(!(e=t.h.Ma()[e]).length)return NaN;var n=t.h.getCurrentTime();return(t=e.find((function(t){return t.start<=n&&t.end>=n})))?1e3*(t.end-n):NaN}(i,c.type)),c.bandwidth&&(s.br=c.bandwidth/1e3)),u&&s.ot!==Fl&&(s.tb=function(t,e){var n=t.h.Za();if(!n.length)return NaN;t=n[0];for(var r=(n=l(n)).next();!r.done;r=n.next())"variant"===(r=r.value).type&&r.bandwidth>t.bandwidth&&(t=r);switch(e){case jl:return t.videoBandwidth||NaN;case Ml:return t.audioBandwidth||NaN;default:return t.bandwidth}}(i,s.ot)/1e3),Nl(i,n,s)}}catch(f){W("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",f)}break;case 2:case 5:case 6:Nl(i,n,{ot:"k"});break;case 4:Nl(i,n,{ot:"o"})}}))}(this),this.F.Vd(this.g.streaming.forceHTTPS),this.C=null,ch&&(this.C=ch()),this.Nc.J(t,"online",(function(){Ff(r),r.Rd()})),this.P={name:"detach"},this.Z={name:"attach"},this.ja={name:"unload"},this.Pd={name:"manifest-parser"},this.Id={name:"manifest"},this.Ab={name:"media-source"},this.Bd={name:"drm-engine"},this.ca={name:"load"},this.Sd={name:"src-equals-drm-engine"},this.Cb={name:"src-equals"};var i=new Map;i.set(this.Z,(function(t,e){return wo(function(t,e,n){return null==e.mediaElement&&(e.mediaElement=n.mediaElement,t.Wb.J(e.mediaElement,"error",(function(){var e=Gf(t);e&&Hf(t,e)}))),t.h=e.mediaElement,Promise.resolve()}(r,t,e))})),i.set(this.P,(function(t){return t.mediaElement&&(r.Wb.Nb(),t.mediaElement=null),r.C&&r.C.release(),r.h=null,wo(t=Promise.resolve())})),i.set(this.ja,(function(t){return wo(cf(r,t))})),i.set(this.Ab,(function(t){return t=function(t,e){var n,r,i,o,a;return I((function(s){if(1==s.g)return n=t.g.textDisplayFactory,r=n(),t.Ed=n,i=function(t,e,n,r){return new au(t,e,n,r)}(e.mediaElement,r,(function(e,n,r){lf(t,e,n,r)}),t.L),i.configure(t.g.mediaSource),o=t.g.manifest,a=o.segmentRelativeVttTiming,i.O=a,E(s,i.F,2);t.D=i,T(s)}))}(r,t),wo(t)})),i.set(this.Pd,(function(t,e){return t=function(t,e,n){var r,i,o,a;return I((function(s){if(1==s.g)return e.mimeType=n.mimeType,e.uri=n.uri,r=e.uri,i=t.F,t.Qb=r,o=t,E(s,function(t,e,n,r){var i,o,a,s;return I((function(u){if(1==u.g)return r&&(i=Ea[r.toLowerCase()])?u.return(i):(o=wa(t))&&(a=Ta[o])?u.return(a):r?u.B(2):E(u,ba(t,e,n),3);if(2!=u.g&&(r=u.h)&&(s=Ea[r]))return u.return(s);throw new Yt(2,4,4e3,t)}))}(r,i,t.g.manifest.retryParameters,e.mimeType),2);o.Oc=s.h,t.K=t.Oc(),a=Ao(t.g.manifest),n.mediaElement&&"AUDIO"===n.mediaElement.nodeName&&(a.disableVideo=!0),t.K.configure(a),T(s)}))}(r,t,e),wo(t)})),i.set(this.Id,(function(t){return function(t,e){var n=e.uri;e=t.F,t.gb=new Ku((function(){return t.Ob()})),t.gb.addEventListener("regionadd",(function(e){e=e.region,Vf(t,"timelineregionadded",e),t.C&&t.C.onDashTimedMetadata(e)})),t.fb=null,t.g.streaming.observeQualityChanges&&(t.fb=new zu((function(){return t.Ma()})),t.fb.addEventListener("qualitychange",(function(e){var n=e.quality;e=e.position,n=(new Map).set("mediaQuality",{bandwidth:n.bandwidth,audioSamplingRate:n.audioSamplingRate,codecs:n.codecs,contentType:n.contentType,frameRate:n.frameRate,height:n.height,mimeType:n.mimeType,channelsCount:n.channelsCount,pixelAspectRatio:n.pixelAspectRatio,width:n.width}).set("position",e),t.dispatchEvent(uf("mediaqualitychanged",n))})));var r={networkingEngine:e,filter:function(e){return Af(t,e)},makeTextStreamsForClosedCaptions:function(e){return function(t,e){for(var n=new Set,r=l(e.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(r=l(e.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var o=l(i.closedCaptions.keys()),a=o.next();!a.done;a=o.next())if(a=a.value,!n.has(a)){var s=a.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Zo,c=i.closedCaptions.get(a);s={id:t.Od++,originalId:a,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:c,originalLanguage:c,label:null,type:ie,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1},e.textStreams.push(s),n.add(a)}}(t,e)},onTimelineRegionAdded:function(e){var n=t.gb;t:{for(var r=l(n.g),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==e.schemeIdUri&&i.id==e.id&&i.startTime==e.startTime&&i.endTime==e.endTime){r=i;break t}r=null}null==r&&(n.g.add(e),e=new To("regionadd",new Map([["region",e]])),n.dispatchEvent(e))},onEvent:function(e){return t.dispatchEvent(e)},onError:function(e){return Hf(t,e)},isLowLatencyMode:function(){return t.g.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return t.g.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){t.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){t.j&&t.j.updateDuration()},newDrmInfo:function(e){var n=t.m?t.m.g:null;n&&t.m.s&&_f(t,n.keySystem,e)}},i=Date.now()/1e3;return new mo(function(){var e,o,a,s;return I((function(u){if(1==u.g)return e=t,E(u,t.K.start(n,r),2);if(e.i=u.h,o=uf("manifestparsed"),t.dispatchEvent(o),0==t.i.variants.length)throw new Yt(2,4,4036);!function(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(",")}t.variants.some(e)&&(t.variants=t.variants.filter(e))}(t.i),a=Date.now()/1e3,s=a-i,t.u.D=s,T(u)}))}(),(function(){return t.K.stop()}))}(r,t)})),i.set(this.Bd,(function(t){return t=function(t,e){var n,r;return I((function(i){return 1==i.g?(n=Date.now()/1e3,r=!0,t.m=df(t,{mc:t.F,onError:function(e){Hf(t,e)},ze:function(e){qf(t,e)},onExpirationUpdated:function(e,n){zf(t,e,n)},onEvent:function(e){t.dispatchEvent(e),"drmsessionupdate"==e.type&&r&&(r=!1,t.u.j=Date.now()/1e3-n,t.L&&((e=t.L).g&&e.h.classList.add("shaka-hidden")))}}),t.m.configure(t.g.drm),E(i,La(t.m,t.i.variants,t.i.offlineSessionIds),2)):3!=i.g?E(i,t.m.Xb(e.mediaElement),3):E(i,Af(t,t.i),0)}))}(r,t),wo(t)})),i.set(this.ca,(function(t,e){return wo(function(t,e,n){var r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w;return I((function(x){switch(x.g){case 1:for(e.startTime=n.startTime,null!=t.cc&&(e.startTime=t.cc,t.cc=null),r=e.mediaElement,i=e.uri,t.Qb=i,t.I=new Ou({Ic:function(){return r.playbackRate},Ec:function(){return r.defaultPlaybackRate},Wd:function(t){r.playbackRate=t},we:function(t){r.currentTime+=t}}),o=function(){return Cf(t)},a=function(){return Rf(t)},t.o.J(r,"playing",o),t.o.J(r,"pause",o),t.o.J(r,"ended",o),t.o.J(r,"ratechange",a),function(t,e){if(e.lcevc.enabled){var n=t.Za();n&&n[0]&&n[0].videoMimeType==lh.ts&&(Me()||navigator.userAgent.match(/Edge\//))&&(e.mediaSource.forceTransmux||K("LCEVC Warning: For MPEG-2 TS decoding the config.mediaSource.forceTransmux must be enabled.")),sf(t),null==t.L&&(t.L=new Ps(t.h,t.Ne,e.lcevc),t.D&&(t.D.L=t.L))}else sf(t)}(t,t.g),s=t.g.abrFactory,t.s&&t.ud==s||(t.ud=s,t.s=s(),"function"!=typeof t.s.setMediaElement&&(ai("AbrManager","Please use an AbrManager with setMediaElement function."),t.s.setMediaElement=function(){}),t.s.configure(t.g.abr)),t.yb=new Gs(t.g.preferredAudioLanguage,t.g.preferredVariantRole,t.g.preferredAudioChannelCount,t.g.preferredVideoHdrLevel,t.g.preferredAudioLabel),t.zb=t.g.preferredTextLanguage,t.ac=t.g.preferredTextRole,t.Zb=t.g.preferForcedSubs,Kf(t.i.presentationTimeline,t.g.playRangeStart,t.g.playRangeEnd),t.s.init((function(e,n,r){t.j&&e!=t.j.j&&Pf(t,e,!0,void 0!==n&&n,void 0===r?0:r)})),t.s.setMediaElement(r),We(t.i,t.g.preferredVideoCodecs,t.g.preferredAudioCodecs,t.g.preferredAudioChannelCount,t.g.preferredDecodingAttributes),t.j=function(t){return new rc(t.i,{Hc:function(){return t.A?t.A.yc():0},getBandwidthEstimate:function(){return t.s.getBandwidthEstimate()},N:t.D,mc:t.F,onError:function(e){return Hf(t,e)},onEvent:function(e){return t.dispatchEvent(e)},Rf:function(){t.K&&t.K.update&&t.K.update()},Kd:function(e,n,r){t.A&&t.A.xe(),gf(t),e=(new Map).set("start",e).set("end",n).set("contentType",r),t.dispatchEvent(uf("segmentappended",e))},Qf:function(e,n){(n=n.Cd)&&t.fb&&function(t,e,n){var r=function(t,e){var n=t.g.get(e);return n||(n={oc:[],je:null,contentType:e},t.g.set(e,n)),n}(t,e.contentType);!function(t,e){if((t=t.h()[e.contentType])&&0<t.length){var n=t[0].start,r=t[t.length-1].end,i=e.oc;e.oc=i.filter((function(t,e){return!(t.position<=n&&e+1<i.length&&i[e+1].position<=n||t.position>=r)}))}else e.oc=[]}(t,r),t={Cd:e,position:n},0<=(e=(r=r.oc).findIndex((function(t){return t.position>=n})))?r.splice(e,r[e].position==n?1:0,t):r.push(t)}(t.fb,n,e)},fe:function(e,n){var r=t.m;if(r.h.parseInbandPsshEnabled&&!r.K&&["audio","video"].includes(e)){var i=0,o=l((n=new Ui(rt(n))).data);for(e=o.next();!e.done;e=o.next())i+=e.value.length;if(0==i)r=Promise.resolve();else{for(i=new Uint8Array(i),o=0,e=(n=l(n.data)).next();!e.done;e=n.next())e=e.value,i.set(e,o),o+=e.length;ja(r,"cenc",i),r=r.l}}else r=Promise.resolve();return r},Sf:function(e,n,r){lf(t,e,n,r)},kd:function(e,n){return t.kd(e,n)}})}(t),t.j.configure(t.g.streaming),t.l=ih,r.textTracks&&t.o.J(r.textTracks,"addtrack",(function(e){if(e.track&&"chapters"===(e=e.track).kind)hf(t,e)})),t.dispatchEvent(uf("streaming")),u=null,(c=t.j.j)||(u=Nf(t)?t.s.chooseVariant():null),f=[],d=l([(h=c||u).video,h.audio]),p=d.next();!p.done;p=d.next())(g=p.value)&&!g.segmentIndex&&f.push(g.createSegmentIndex());if(!(0<f.length)){x.B(2);break}return E(x,Promise.all(f),2);case 2:if(Kf(t.i.presentationTimeline,t.g.playRangeStart,t.g.playRangeEnd),t.A=function(t,e){return new Uu(t.h,t.i,t.g.streaming,e,(function(){t.Bb&&qu(t.Bb,!0),t.j&&t.j.rc(),t.O&&gf(t)}),(function(e){return t.dispatchEvent(e)}))}(t,e.startTime),t.Bb=function(t,e){e=new Wu(t.gb,t.T()||0<e),e.addEventListener("enter",(function(e){Vf(t,"timelineregionenter",e.region)})),e.addEventListener("exit",(function(e){Vf(t,"timelineregionexit",e.region)})),e.addEventListener("skip",(function(e){var n=e.region;e.seeking||(Vf(t,"timelineregionenter",n),Vf(t,"timelineregionexit",n))}));var n=new Gu(t.h);return n.g.add(e),t.fb&&n.g.add(t.fb),n}(t,e.Xc),m=Math.max(t.i.minBufferTime,t.g.streaming.rebufferingGoal),pf(t,m),c){x.B(4);break}if(Pf(t,u,!0,!1,0),!t.g.streaming.startAtSegmentBoundary){x.B(4);break}return y=t.A.yc(),E(x,function(t,e){var n,r,i,o,a;return I((function(s){return 1==s.g?(n=t.audio,r=t.video,i=function(t,e){var n,r,i;return I((function(o){return 1==o.g?t?E(o,t.createSegmentIndex(),2):o.return(null):(r=(n=t.segmentIndex.kb(e))?n.next().value:null)?(i=r.startTime,o.return(i)):o.return(null)}))},E(s,i(n,e),2)):3!=s.g?(o=s.h,E(s,i(r,e),3)):null!=(a=s.h)&&null!=o?s.return(Math.max(a,o)):null!=a?s.return(a):null!=o?s.return(o):s.return(e)}))}(u,y),6);case 6:v=x.h,t.A.hd(v);case 4:return t.A.gd(),t.Gb().find((function(t){return t.active}))||((b=mn(t.i.textStreams,t.zb,t.ac,t.Zb)[0]||null)&&rf(t.u.h,b,!0),u&&(b?(u.audio&&function(t,e,n){if(0==t.g.autoShowText)return!1;if(1==t.g.autoShowText)return!0;var r=Ae(t.g.preferredTextLanguage);return n=Ae(n.language),2==t.g.autoShowText?Ee(n,r):3==t.g.autoShowText?(t=Ae(e.language),Ee(n,r)&&!Ee(t,n)):(K("Invalid autoShowText setting!"),!1)}(t,u.audio,b)&&(t.ha=!0),t.ha&&t.D.u.setTextVisibility(!0),Bf(t)):t.ha=!1),b&&(t.g.streaming.alwaysStreamText||t.td())&&ac(t.j,b)),E(x,t.j.start(),7);case 7:t.g.abr.enabled&&(t.s.enable(),Uf(t)),on(t.j?t.j.j:null,t.i),Xf(t.i),Mf(t),Nf(t),t.i.variants.some((function(t){return t.primary})),t.T()&&(t.g.streaming.liveSync||t.i.serviceDescription)&&(w=function(){return kf(t)},t.o.J(r,"timeupdate",w)),t.bc=!0,t.o.oa(r,"loadedmetadata",(function(){t.u.m=Date.now()/1e3-n.Xc})),T(x)}}))}(r,t,e))})),i.set(this.Sd,(function(t,e){return t=function(t,e,n){var r,i,o,a,s,u,c;return I((function(l){return 1==l.g?(r=oe,i=Date.now()/1e3,o=!0,t.m=df(t,{mc:t.F,onError:function(e){Hf(t,e)},ze:function(e){qf(t,e)},onExpirationUpdated:function(e,n){zf(t,e,n)},onEvent:function(e){t.dispatchEvent(e),"drmsessionupdate"==e.type&&o&&(o=!1,t.u.j=Date.now()/1e3-i)}}),t.m.configure(t.g.drm),a=n.uri||"",s=wa(a),"application/x-mpegurl"==(u=lh[s])&&Ue()&&(u="application/vnd.apple.mpegurl"),u||(u="video/mp4"),c={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:n.mimeType?n.mimeType.split(";")[0]:u,codecs:n.mimeType?he(n.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:r.Aa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},t.m.Z=!0,E(l,La(t.m,[c],[]),2)):E(l,t.m.Xb(e.mediaElement),0)}))}(r,t,e),wo(t)})),i.set(this.Cb,(function(t,e){return function(t,e,n){function r(){return Cf(t)}e.uri=n.uri,e.startTime=n.startTime,t.Qb=e.uri;var i=e.mediaElement;t.A=new Bu(i);var o=!1;t.Yb.push((function(){o=!0})),null!=e.startTime&&t.A.hd(e.startTime),t.I=new Ou({Ic:function(){return i.playbackRate},Ec:function(){return i.defaultPlaybackRate},Wd:function(t){i.playbackRate=t},we:function(t){i.currentTime+=t}}),pf(t,t.g.streaming.rebufferingGoal),t.o.J(i,"playing",r),t.o.J(i,"pause",r),t.o.J(i,"ended",r),t.o.J(i,"ratechange",(function(){return Rf(t)})),"none"!=i.preload&&t.o.oa(i,"loadedmetadata",(function(){t.u.m=Date.now()/1e3-n.Xc})),i.audioTracks&&(t.o.J(i.audioTracks,"addtrack",(function(){return Mf(t)})),t.o.J(i.audioTracks,"removetrack",(function(){return Mf(t)})),t.o.J(i.audioTracks,"change",(function(){return Mf(t)}))),i.textTracks&&(t.o.J(i.textTracks,"addtrack",(function(e){if(e.track)switch(e=e.track,e.kind){case"metadata":!function(t,e){if("metadata"==e.kind){e.mode="hidden",t.o.J(e,"cuechange",(function(){if(e.activeCues)for(var n=l(e.activeCues),r=n.next();!r.done;r=n.next())r=r.value,ff(t,r.startTime,r.endTime,r.type,r.value),t.C&&t.C.onCueMetadataChange(r.value)}));var n=new Ie((function(){for(var e=function(t){return Array.from(t.h.textTracks).filter((function(t){return"metadata"==t.kind}))}(t),n=(e=l(e)).next();!n.done;n=e.next())n.value.mode="hidden"})).Zd().V(.5);t.Yb.push((function(){n.stop()}))}}(t,e);break;case"chapters":hf(t,e);break;default:Mf(t)}})),t.o.J(i.textTracks,"removetrack",(function(){return Mf(t)})),t.o.J(i.textTracks,"change",(function(){return Mf(t)})));var a=wa(e.uri);i.src=function(t,e,n){try{if(!t.g.enabled)return e;var r=kl(t);t:{switch(n){case"video/webm":case"video/mp4":var i=Dl;break t;case"application/x-mpegurl":i=Ll;break t}i=void 0}return r.ot=i,r.su=!0,Pl(e,Il(r))}catch(a){return W("CMCD_SRC_ERROR","Could not generate src CMCD data.",a),e}}(t.W,e.uri,lh[a]),(De()||Ve("Web0S"))&&i.load(),t.l=oh,t.dispatchEvent(uf("streaming"));var s=new go;return Cu(i,HTMLMediaElement.HAVE_METADATA,t.o,(function(){t.A.gd(),s.resolve()})),Cu(i,HTMLMediaElement.HAVE_CURRENT_DATA,t.o,(function(){var e;return I((function(n){return 1==n.g?(function(t){var e=t.g.preferredAudioLanguage;""!=e&&t.De(e,t.g.preferredVariantRole)}(t),(e=yf(t)).find((function(t){return"disabled"!=t.mode}))?(0<e.length&&(t.ha=!0),n.B(2)):E(n,new Promise((function(e){t.o.oa(i.textTracks,"change",e),new Ie(e).V(1)})),2)):o?n.return():(function(t){var e=t.g.preferredTextLanguage;""!=e&&t.Ee(e,t.g.preferredTextRole,t.g.preferForcedSubs)}(t),void T(n))}))})),i.error?s.reject(Gf(t)):"none"==i.preload&&(K('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),s.resolve()),t.o.oa(i,"error",(function(){s.reject(Gf(t))})),new mo(s,(function(){return s.reject(new Yt(2,7,7001)),Promise.resolve()})).ka((function(){t.T()&&t.g.streaming.liveSync&&t.o.J(i,"timeupdate",(function(){return kf(t)})),t.bc=!0}))}(r,t,e)})),this.hb=new hl(this.P,{rf:function(t,e,n,i){var o=null;return t==r.P&&(o=n==r.P?r.P:r.Z),t==r.Z&&(o=n==r.P||e.mediaElement!=i.mediaElement?r.P:n==r.Z?r.Z:n==r.Ab||n==r.ca?r.Ab:n==r.Cb?r.Sd:null),t==r.Ab&&(o=n==r.ca&&e.mediaElement==i.mediaElement?r.Pd:r.ja),t==r.Pd&&(o=Qf(r.ca,r.Id,r.ja,n,e,i)),t==r.Id&&(o=Qf(r.ca,r.Bd,r.ja,n,e,i)),t==r.Bd&&(o=Qf(r.ca,r.ca,r.ja,n,e,i)),t==r.Sd&&(o=n==r.Cb&&e.mediaElement==i.mediaElement?r.Cb:r.ja),t!=r.ca&&t!=r.Cb||(o=r.ja),t==r.ja&&(o=i.mediaElement&&e.mediaElement==i.mediaElement?r.Z:r.P),o},Ze:function(t,e,n){return r.dispatchEvent(uf("onstatechange",(new Map).set("state",t.name))),i.get(t)(e,n)},handleError:function(t){return I((function(e){return 1==e.g?E(e,cf(r,t),2):e.return(t.mediaElement?r.Z:r.P)}))},Pf:function(t){r.dispatchEvent(uf("onstateidle",(new Map).set("state",t.name)))}}),this.Mc=new Ie((function(){return function(t){function e(t){var e="";return t.video&&(e+="video:"+t.video.id),t.audio&&(e=e+(e?"&":"")+"audio:"+t.audio.id),e}for(var n=Date.now()/1e3,r=!1,i=l(t.i.variants),o=i.next();!o.done;o=i.next())0<(o=o.value).disabledUntilTime&&o.disabledUntilTime<=n&&(o.disabledUntilTime=0,r=!0,e(o));t.i.variants.every((function(t){return 0===t.disabledUntilTime}))&&t.Mc.stop(),r&&If(t,!0,void 0,!1,!1)}(r)})),e&&this.Xb(e,!0)}function sf(t){null!=t.L&&(t.L.release(),t.L=null)}function uf(t,e){return new To(t,e)}function cf(t,e){var n,r,i,o,a,s,u,c,f;return I((function(h){switch(h.g){case 1:return t.l!=nh&&(t.l=rh),n=t.Yb.map((function(t){return t()})),t.Yb=[],E(h,Promise.all(n),2);case 2:if(t.dispatchEvent(uf("unloading")),e.mimeType=null,e.startTime=null,e.uri=null,t.gb&&(t.gb.release(),t.gb=null),e.mediaElement&&t.o.Nb(),t.Mc.stop(),t.Bb&&(t.Bb.release(),t.Bb=null),t.Kc&&(t.Kc.stop(),t.Kc=null),!t.K){h.B(3);break}return E(h,t.K.stop(),4);case 4:t.K=null,t.Oc=null;case 3:if(!t.s){h.B(5);break}return E(h,t.s.stop(),5);case 5:if(!t.j){h.B(7);break}return E(h,t.j.destroy(),8);case 8:t.j=null;case 7:if(t.I&&(t.I.release(),t.I=null),t.A&&(t.A.release(),t.A=null),!t.D){h.B(9);break}return E(h,t.D.destroy(),10);case 10:t.D=null;case 9:if(t.C&&t.C.onAssetUnload(),!e.mediaElement||!e.mediaElement.src){h.B(11);break}return E(h,new Promise((function(t){return new Ie(t).V(.1)})),12);case 12:for(e.mediaElement.removeAttribute("src"),e.mediaElement.load();e.mediaElement.lastChild;)e.mediaElement.removeChild(e.mediaElement.firstChild);case 11:if(!t.m){h.B(13);break}return E(h,t.m.destroy(),14);case 14:t.m=null;case 13:if(t.Qb=null,t.O=null,t.i){for(r=l(t.i.variants),i=r.next();!i.done;i=r.next())for(o=i.value,a=l([o.audio,o.video]),s=a.next();!s.done;s=a.next())(u=s.value)&&u.segmentIndex&&u.segmentIndex.release();for(c=l(t.i.textStreams),s=c.next();!s.done;s=c.next())(f=s.value).segmentIndex&&f.segmentIndex.release()}t.i=null,t.u=new of,t.Ed=null,Of(t),T(h)}}))}function lf(t,e,n,r){for(var i=(e=l(e)).next();!i.done;i=e.next())if((i=i.value).data&&i.cueTime&&i.frames){var o=i.cueTime+n,a=r;a&&o>a&&(a=o);for(var s=l(i.frames),u=s.next();!u.done;u=s.next())ff(t,o,a,"org.id3",u.value);t.C&&t.C.onHlsTimedMetadata(i,o)}}function ff(t,e,n,r,i){e=(new Map).set("startTime",e).set("endTime",n).set("metadataType",r).set("payload",i),t.dispatchEvent(uf("metadata",e))}function hf(t,e){if(e&&"chapters"==e.kind){e.mode="hidden";var n=new Ie((function(){e.mode="hidden"})).Zd().V(.5);t.Yb.push((function(){n.stop()}))}}function df(t,e){return new Pa(e,t.g.drm.updateExpirationTime)}function pf(t,e){t.O=new qs,t.O.g=Ks,zs(t.O,e,Math.min(.5,e/2)),Of(t),t.Kc=new Ie((function(){gf(t)})).sa(.25)}function gf(t){switch(t.l){case oh:if(t.h.ended)var e=!0;else{var n=$s(t.h.buffered);e=null!=n&&n>=t.h.duration-1}break;case ih:t:if(t.h.ended||lu(t.D))e=!0;else{if(t.i.presentationTimeline.T()){n=t.i.presentationTimeline.lb();var r=$s(t.h.buffered);if(null!=r&&r>=n){e=!0;break t}}e=!1}break;default:e=!1}r=Qs(t.h.buffered,t.h.currentTime);var i=e,o=(n=t.O).h.get(n.g);e=n.g,r=i||r>=o?Ws:Ks,n.g=r,e!=r&&Of(t)}function mf(t){if(t.K){var e=Ao(t.g.manifest);t.h&&"AUDIO"===t.h.nodeName&&(e.disableVideo=!0),t.K.configure(e)}if(t.m&&t.m.configure(t.g.drm),t.j){t.j.configure(t.g.streaming);try{Sf(t,t.i)}catch(o){Hf(t,o)}t.s&&Nf(t),!(e=t.j.j)||e.allowedByApplication&&e.allowedByKeySystem||If(t)}if(t.F&&t.F.Vd(t.g.streaming.forceHTTPS),t.D&&(t.D.configure(t.g.mediaSource),t.D.O=t.g.manifest.segmentRelativeVttTiming,e=t.g.textDisplayFactory,t.Ed!=e)){var n=e(),r=t.D,i=r.u;r.u=n,i&&(n.setTextVisibility(i.isTextVisible()),i.destroy()),r.g&&(r.g.j=n),t.Ed=e,t.j&&((n=(e=t.j).h.get(ie))&&sc(e,n.stream,!0,0,!0))}t.s&&(t.s.configure(t.g.abr),t.g.abr.enabled?t.s.enable():t.s.disable(),Uf(t)),t.O&&(e=t.g.streaming.rebufferingGoal,t.i&&(e=Math.max(e,t.i.minBufferTime)),zs(t.O,e,Math.min(.5,e/2))),t.i&&Kf(t.i.presentationTimeline,t.g.playRangeStart,t.g.playRangeEnd),t.C&&t.C.configure(t.g.ads),t.W&&t.W.configure(t.g.cmcd)}function yf(t){return Array.from(t.h.textTracks).filter((function(t){return"metadata"!=t.kind&&"chapters"!=t.kind&&"Shaka Player TextTrack"!=t.label}))}function vf(t){return Array.from(t.h.textTracks).filter((function(t){return"chapters"==t.kind}))}function bf(t,e){var n,r;return I((function(i){switch(i.g){case 1:return n=wa(e),(r=fh[n])?i.return(r):(x(i,2),E(i,ba(e,t.F,t.g.streaming.retryParameters),4));case 4:r=i.h,A(i,3);break;case 2:S(i);case 3:if(r)return i.return(r);throw new Yt(1,2,2011,n)}}))}function wf(t,e,n,r,i,o,a){var s,u,c,l;return I((function(f){if(1==f.g)return"text/vtt"!=i||a.length?E(f,Ef(t,e,t.F,t.g.streaming.retryParameters),3):f.B(2);2!=f.g&&(s=f.h,u=Tf(t,s,i,a),c=new Blob([u],{type:"text/vtt"}),e=Su(c),i="text/vtt"),l=document.createElement("track");var h=t.W,d=e;try{if(h.g.enabled){var p=kl(h);p.ot=Ul,p.su=!0;var g=Pl(d,Il(p))}else g=d}catch(m){W("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",m),g=d}return l.src=g,l.label=o,l.kind=r,l.srclang=n,t.h.getAttribute("crossorigin")||t.h.setAttribute("crossorigin","anonymous"),t.h.appendChild(l),f.return(l)}))}function Ef(t,e,n,r){var i,o,a;return I((function(s){if(1==s.g){i=Lo,(o=ko([e],r)).method="GET";var u=t.W;try{u.g.enabled&&Nl(u,o,{ot:Ul,su:!0})}catch(c){W("CMCD_TEXT_ERROR","Could not generate text CMCD data.",c)}return E(s,n.request(i,o).promise,2)}return a=s.h,s.return(a.data)}))}function Tf(t,e,n,r){var i=be[n];if(i)return n=i(),t={periodStart:0,segmentStart:0,segmentEnd:t.h.duration,vttOffset:0},e=rt(e),function(t,e){function n(t){for(var n=t,r=l(e),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<t&&(n+=i.end-i.start);return(10>(t=Math.floor(n/3600))?"0":"")+t+":"+(10>(r=Math.floor(n/60%60))?"0":"")+r+":"+(10>(i=Math.floor(n%60))?"0":"")+i+"."+(100>(n=Math.floor(1e3*n%1e3))?10>n?"00":"0":"")+n}var r=yl(t);t="WEBVTT\n\n";for(var i=(r=l(r)).next();!i.done;i=r.next())t+=n((i=i.value).startTime)+" --\x3e "+n(i.endTime)+function(t){var e=[];switch(t.textAlign){case"left":e.push("align:left");break;case"right":e.push("align:right");break;case mt:e.push("align:middle");break;case"start":e.push("align:start");break;case"end":e.push("align:end")}switch(t.writingMode){case"vertical-lr":e.push("vertical:lr");break;case"vertical-rl":e.push("vertical:rl")}return e.length?" "+e.join(" "):""}(i)+"\n",t+=i.S+"\n\n";return t}(e=n.parseMedia(e,t),r);throw new Yt(2,2,2014,n)}function xf(t){var e=$l();return e.streaming.failureCallback=function(e){if(t.T()){var n=null;1001==e.code||1002==e.code?n=1:1003==e.code&&(n=.1),null!=n&&(e.severity=1,t.Rd(n))}},e.textDisplayFactory=function(){return t.Dc?new xl(t.h,t.Dc):new vl(t.h)},e}function Af(t,e){return I((function(n){if(1==n.g)return E(n,function(t,e){return I((function(n){if(1==n.g)return E(n,$e(t.j?t.j.j:null,e),2);Xf(e),T(n)}))}(t,e),2);Sf(t,e),T(n)}))}function Sf(t,e){if(t.l!=nh){for(var n=t.g.restrictions,r=t.Ld,i=!1,o=l(e.variants),a=o.next();!a.done;a=o.next()){var s=(a=a.value).allowedByApplication;a.allowedByApplication=Ze(a,n,r),s!=a.allowedByApplication&&(i=!0)}if(i&&t.j&&Mf(t),(n=t.m?t.m.g:null)&&t.m.s)for(i=(r=l(e.variants)).next();!i.done;i=r.next())i=i.value,_f(t,n.keySystem,i.video),_f(t,n.keySystem,i.audio);Wf(t,e)}}function _f(t,e,n){if(n)for(var r=(n=l(n.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==e)for(var i=(r=l(r.initData||[])).next();!i.done;i=r.next())i=i.value,ja(t.m,i.initDataType,i.initData)}function Of(t){var e=t.te();if(t.u&&t.O&&t.A){var n=t.I;n.j=e,Ru(n),t.W&&(n=t.W,e||n.i||(n.i=!0),n.i&&e&&(n.l=!0),n.m=e),Cf(t)}e=(new Map).set("buffering",e),t.dispatchEvent(uf("buffering",e))}function Rf(t){var e=t.h.playbackRate;0!=e&&(t.I&&t.I.set(e),e=uf("ratechange"),t.dispatchEvent(e))}function Cf(t){if(t.u&&t.O){var e=t.u.g;t.O.g==Ks?tf(e,"buffering"):t.h.paused?tf(e,"paused"):t.h.ended?tf(e,"ended"):tf(e,"playing")}}function kf(t){if(t.T()){var e=t.Ob();if(Number.isFinite(e.end)&&!(t.h.currentTime<e.start)){if(t.g.streaming.liveSync)var n=t.g.streaming.liveSyncMaxLatency,r=t.g.streaming.liveSyncPlaybackRate;else t.i&&t.i.serviceDescription&&(n=t.i.serviceDescription.maxLatency||t.g.streaming.liveSyncMaxLatency,r=t.i.serviceDescription.maxPlaybackRate||t.g.streaming.liveSyncPlaybackRate);var i=t.h.playbackRate,o=e.end-t.h.currentTime,a=0;if(t.l==oh){var s=t.h.buffered;0<s.length&&(a=s.end(s.length-1),a=Math.max(r,a-e.end))}n&&r&&o-a>n?i!=r&&t.Me(r):1!==i&&0!==i&&t.ge()}}}function Nf(t){try{Wf(t,t.i)}catch(n){return Hf(t,n),!1}var e=function(t){return t.filter((function(t){return pn(t)}))}(t.i.variants);return e=t.yb.create(e),t.s.setVariants(Array.from(e.values())),!0}function If(t,e,n,r,i){var o;e=void 0===e||e,n=void 0===n?0:n,r=void 0!==r&&r,i=void 0===i||i,(o=Nf(t)?t.s.chooseVariant():null)&&Pf(t,o,i,e,n,r)}function Pf(t,e,n,r,i,o){o=void 0!==o&&o;var a=t.j.j;if(e==a)r&&oc(t.j,e,r,i,!0);else{var s=t.u.h;s.h!=e&&(s.h=e,s.g.push({timestamp:Date.now()/1e3,id:e.id,type:"variant",fromAdaptation:n,bandwidth:e.bandwidth})),oc(t.j,e,r,i,o,n),r=null,a&&(r=sn(a)),e=sn(e),n?(n=(new Map).set("oldTrack",r).set("newTrack",e),t.L&&Ls(t.L,e),Yf(t,n=uf("adaptation",n))):jf(t,r,e)}}function Lf(t,e){var n=Array.from(t.h.audioTracks).find((function(t){return t.enabled}));e.enabled=!0,e.id!==n.id&&(n.enabled=!1),jf(t,n=hn(n),e=hn(e))}function Mf(t){Yf(t,uf("trackschanged"))}function jf(t,e,n){e=(new Map).set("oldTrack",e).set("newTrack",n),t.L&&Ls(t.L,n),Yf(t,n=uf("variantchanged",e))}function Df(t){Yf(t,uf("textchanged"))}function Bf(t){Yf(t,uf("texttrackvisibility"))}function Uf(t){t.g.abr.enabled||Ff(t),Yf(t,uf("abrstatuschanged",(new Map).set("newStatus",t.g.abr.enabled)))}function Ff(t,e){if(e=void 0===e||e,t.l==ih){t.Mc.stop();for(var n=l(t.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;e&&Nf(t)}}function Hf(t,e){if(t.l!=nh){2===e.severity&&Ff(t,!1);var n=uf("error",(new Map).set("detail",e));t.dispatchEvent(n),n.defaultPrevented&&(e.handled=!0)}}function Vf(t,e,n){n=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}),t.dispatchEvent(uf(e,n))}function Gf(t){if(!t.h.error)return null;var e=t.h.error.code;if(1==e)return null;var n=t.h.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new Yt(2,3,3016,e,n,t.h.error.message)}function qf(t,e){if(t.j){var n=Object.keys(e),r=1==n.length&&"00"==n[0],i=!1;if(n.length)for(var o=(n=l(t.i.variants)).next();!o.done;o=n.next()){var a=[];(o=o.value).audio&&a.push(o.audio),o.video&&a.push(o.video);for(var s=(a=l(a)).next();!s.done;s=a.next()){var u=s.value;if(s=o.allowedByKeySystem,u.keyIds.size){o.allowedByKeySystem=!0;for(var c=(u=l(u.keyIds)).next();!c.done;c=u.next())c=c.value,c=e[r?"00":c],o.allowedByKeySystem=o.allowedByKeySystem&&!!c&&!sh.includes(c)}s!=o.allowedByKeySystem&&(i=!0)}}i&&!Nf(t)||((e=t.j.j)&&!e.allowedByKeySystem&&If(t),i&&Mf(t))}}function zf(t,e,n){t.K&&t.K.onExpirationUpdated&&t.K.onExpirationUpdated(e,n),e=uf("expirationupdated"),t.dispatchEvent(e)}function Kf(t,e,n){0<e&&(t.T()||t.Je(e)),n<(e=t.getDuration())&&(t.T()||t.Va(n))}function Wf(t,e){t=t.m?t.m.Fc():{};var n=Object.keys(t);n=n.length&&"00"==n[0];for(var r=!1,i=!1,o=new Set,a=new Set,s=(e=l(e.variants)).next();!s.done;s=e.next()){var u=[];(s=s.value).audio&&u.push(s.audio),s.video&&u.push(s.video);for(var c=(u=l(u)).next();!c.done;c=u.next())if((c=c.value).keyIds.size)for(var f=(c=l(c.keyIds)).next();!f.done;f=c.next()){f=f.value;var h=t[n?"00":f];h?sh.includes(h)&&a.add(h):o.add(f)}s.allowedByApplication?s.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw new Yt(2,4,4012,t={hasAppRestrictions:i,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(a)})}function Xf(t){if(!t.variants.some(pn))throw new Yt(2,4,4032)}function Yf(t,e){I((function(n){if(1==n.g)return E(n,Promise.resolve(),2);t.l!=nh&&t.dispatchEvent(e),T(n)}))}function Zf(t){for(var e=new Set,n=(t=l(t)).next();!n.done;n=t.next())(n=n.value).language?e.add(Ae(n.language)):e.add("und");return e}function $f(t){for(var e=new Map,n=new Map,r=(t=l(t)).next();!r.done;r=t.next()){var i="und",o=[];(r=r.value).language&&(i=Ae(r.language)),(o="variant"==r.type?r.audioRoles:r.roles)&&o.length||(o=[""]),e.has(i)||e.set(i,new Set);for(var a=(o=l(o)).next();!a.done;a=o.next())a=a.value,e.get(i).add(a),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(a,r.label))}var s=[];return e.forEach((function(t,e){for(var r=(t=l(t)).next();!r.done;r=t.next()){r=r.value;var i=null;n.has(e)&&n.get(e).has(r)&&(i=n.get(e).get(r)),s.push({language:e,role:r,label:i})}})),s}function Jf(){return new Yt(2,7,7e3)}function Qf(t,e,n,r,i,o){return r==t&&i.mediaElement==o.mediaElement&&i.uri==o.uri&&i.mimeType==o.mimeType?e:n}function th(){return{mediaElement:null,mimeType:null,startTime:null,Xc:NaN,uri:null}}function eh(t){return new Promise((function(e,n){t.qb=function(){return n(Jf())},t.Uc=function(){return e()},t.onError=function(t){return n(t)},t.Vc=function(){return n(Jf())}}))}F("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",rg:"s",OTHER:"o"}),F("shaka.util.ConfigUtils",Hl),Hl.convertToConfigObject=Gl,Hl.mergeConfigObjects=Vl,F("shaka.util.FairPlayUtils",zl),zl.commonFairPlayResponse=function(t,e){if(2===t){try{var n=Rr(e.data)}catch(i){return}t=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),t=!0);try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,t=!0),r.CkcMessage&&(n=r.CkcMessage,t=!0),r.License&&(n=r.License,t=!0)}catch(i){}t&&(e.data=nt(Ci(n)))}},zl.expressplayFairPlayRequest=function(t,e){Yl(t,e)},zl.conaxFairPlayRequest=function(t,e){Yl(t,e)},zl.ezdrmFairPlayRequest=function(t,e){Yl(t,e)},zl.verimatrixFairPlayRequest=function(t,e){2===t&&(t=Ri(t=rt(e.body)),e.headers["Content-Type"]="application/x-www-form-urlencoded",e.body=Nr("spc="+t))},zl.expressplayInitDataTransform=function(t,e,n){return Xl(t,e,n)},zl.conaxInitDataTransform=function(e,n,r){if("skd"!==n)return e;n=r.serverCertificate,r=kr(e).split("skd://").pop().split("?").shift(),r=t.atob(r);var i=new ArrayBuffer(2*r.length);i=new Uint16Array(i);for(var o=0,a=r.length;o<a;o++)i[o]=r.charCodeAt(o);return Wl(e,i,n)},zl.ezdrmInitDataTransform=function(t,e,n){return"skd"!==e?t:(e=n.serverCertificate,Wl(t,n=kr(t).split(";").pop(),e))},zl.verimatrixInitDataTransform=function(t,e,n){return Xl(t,e,n)},zl.initDataTransform=Wl,zl.defaultGetContentId=Kl,zl.isFairPlaySupported=function(){var t;return I((function(e){return 1==e.g?(t={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},x(e,2),E(e,navigator.requestMediaKeySystemAccess("com.apple.fps",[t]),4)):2!=e.g?e.return(!0):(S(e),e.return(!1))}))},F("shaka.util.PlayerConfiguration",Zl),Zl.mergeConfigObjects=Jl,Zl.createDefault=$l,y(af,xo),(r=af.prototype).destroy=function(){var t,e=this;return I((function(n){switch(n.g){case 1:return e.l==nh?n.return():(sf(e),e.l=nh,t=dl(e.hb,(function(){return{node:e.P,S:th(),nb:!1}})),E(n,new Promise((function(e){t.Kb=function(){},t.Uc=function(){e()},t.qb=function(){e()},t.onError=function(){e()},t.Vc=function(){e()}})),2));case 2:return E(n,e.hb.destroy(),3);case 3:if(e.Nc&&(e.Nc.release(),e.Nc=null),e.Wb&&(e.Wb.release(),e.Wb=null),e.o&&(e.o.release(),e.o=null),e.ud=null,e.g=null,e.u=null,e.Dc=null,e.W=null,!e.F){n.B(4);break}return E(n,e.F.destroy(),5);case 5:e.F=null;case 4:e.s&&(e.s.release(),e.s=null),xo.prototype.release.call(e),T(n)}}))},r.Xb=function(t,e){if(e=void 0===e||e,this.l==nh)return Promise.reject(Jf());var n=th();n.mediaElement=t,Pe()||(e=!1);var r=e?this.Ab:this.Z;return(t=dl(this.hb,(function(){return{node:r,S:n,nb:!1}}))).Kb=function(){},eh(t)},r.Te=function(t){this.Ne=t},r.detach=function(){var t=this;if(this.l==nh)return Promise.reject(Jf());var e=dl(this.hb,(function(){return{node:t.P,S:th(),nb:!1}}));return e.Kb=function(){},eh(e)},r.ig=function(t){var e=this;if(t=void 0===t||t,this.l==nh)return Promise.reject(Jf());this.bc=!1,Pe()||(t=!1),sf(this);var n=th(),r=dl(this.hb,(function(r){var i=r.mediaElement&&t?e.Ab:r.mediaElement?e.Z:e.P;return n.mediaElement=r.mediaElement,{node:i,S:n,nb:!1}}));return r.Kb=function(){},eh(r)},r.mg=function(t){this.cc=t},r.load=function(t,e,n){var r=this;if(this.cc=null,this.bc=!1,this.l==nh)return Promise.reject(Jf());this.dispatchEvent(uf("loading"));var i=th();i.uri=t,i.Xc=Date.now()/1e3,n&&(i.mimeType=n),void 0!==e&&(i.startTime=e);var o=function(t,e){if(!Pe())return!0;var n=e.mimeType,r=e.uri||"";if(n||(n=wa(r),n=lh[n]),n){if(""==(e.mediaElement||Ge()).canPlayType(n))return!1;if(!Pe()||!(n in Ea)&&!(wa(r)in Ta)||("application/x-mpegurl"===n||"application/vnd.apple.mpegurl"===n)&&t.g.streaming.preferNativeHls)return!0;if(Ue())return t.g.streaming.useNativeHlsOnSafari}return!1}(this,i)?this.Cb:this.ca,a=dl(this.hb,(function(t){return null==t.mediaElement?null:(i.mediaElement=t.mediaElement,{node:o,S:i,nb:!0})}));return this.u=new of,a.Kb=function(){},new Promise((function(t,e){a.Vc=function(){return e(new Yt(2,7,7002))},a.Uc=function(){t(),r.dispatchEvent(uf("loaded"))},a.qb=function(){return e(Jf())},a.onError=function(t){return e(t)}}))},r.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=Gl(t,e)),t.streaming&&"forceTransmuxTS"in t.streaming&&(ai("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),t.mediaSource.mediaSource=t.streaming.forceTransmuxTS,delete t.streaming.forceTransmuxTS),t.streaming&&"forceTransmux"in t.streaming&&(ai("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),t.mediaSource.mediaSource=t.streaming.forceTransmux,delete t.streaming.forceTransmux),t.streaming&&t.streaming.lowLatencyMode&&(null==t.streaming.inaccurateManifestTolerance&&(t.streaming.inaccurateManifestTolerance=0),null==t.streaming.rebufferingGoal&&(t.streaming.rebufferingGoal=.01),null==t.streaming.segmentPrefetchLimit&&(t.streaming.segmentPrefetchLimit=2));var n=Jl(this.g,t,xf(this));return mf(this),n},r.getConfiguration=function(){var t=xf(this);return Jl(t,this.g,xf(this)),t},r.df=function(){if(this.h){var t=this.h.buffered.length;t=t?this.h.buffered.end(t-1):0;var e=this.getConfiguration().streaming.bufferingGoal;if(t>=(e=Math.min(this.h.currentTime+e,this.Ob().end)))return 1;if(!(t<=this.h.currentTime)&&t<e)return(t-this.h.currentTime)/(e-this.h.currentTime)}return 0},r.Yf=function(){for(var t in this.g)delete this.g[t];Jl(this.g,xf(this),xf(this)),mf(this)},r.kf=function(){return this.l},r.nf=function(){return this.i?this.i.type:null},r.qf=function(){return this.h},r.od=function(){return this.F},r.af=function(){return this.Qb},r.$e=function(){return this.C?this.C:null},r.T=function(){return this.i?this.i.presentationTimeline.T():!(!this.h||!this.h.src)&&1/0==this.h.duration},r.Hb=function(){return!!this.i&&this.i.presentationTimeline.Hb()},r.Gf=function(){if(this.i){var t=this.i.variants;return!!t.length&&!t[0].video}return!(!this.h||!this.h.src)&&(this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight)},r.Ob=function(){if(!this.bc)return{start:0,end:0};if(this.i){var t=this.i.presentationTimeline;return{start:t.Fb(),end:t.Na()}}return this.h&&this.h.src&&(t=this.h.seekable).length?{start:t.start(0),end:t.end(t.length-1)}:{start:0,end:0}},r.Df=function(){this.T()&&(this.h.currentTime=this.Ob().end)},r.keySystem=function(){var t=this.drmInfo();return t?t.keySystem:""},r.drmInfo=function(){return this.m?this.m.g:null},r.nd=function(){return this.m?this.m.nd():1/0},r.ld=function(){return this.m?this.m.ld():[]},r.Fc=function(){return this.m?this.m.Fc():{}},r.te=function(){return!!this.O&&this.O.g==Ks},r.Gc=function(){return this.h?this.I?this.I.i:1:0},r.Me=function(t){0==t?K("A trick play rate of 0 is unsupported!"):(this.h.paused&&this.h.play(),this.I.set(t),this.l==ih&&(this.s.playbackRateChanged(t),ic(this.j,1<Math.abs(t))))},r.ge=function(){var t=this.I.Ec();this.l==oh&&this.I.set(t),this.l==ih&&(this.I.set(t),this.s.playbackRateChanged(t),ic(this.j,!1))},r.Za=function(){if(this.i){for(var t=this.j?this.j.j:null,e=[],n=0,r=l(this.i.variants),i=r.next();!i.done;i=r.next())if(pn(i=i.value)){var o=sn(i);o.active=i==t,o.active||1==n||null==t||i.video!=t.video||i.audio!=t.audio||(o.active=!0),o.active&&n++,e.push(o)}return e}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map((function(t){return hn(t)})):[]},r.Gb=function(){if(this.i){for(var t=this.j?this.j.o:null,e=[],n=l(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=un(r=r.value);i.active=r==t,e.push(i)}return e}return this.h&&this.h.src&&this.h.textTracks?yf(this).map((function(t){return fn(t)})):[]},r.jf=function(){return this.i?this.i.imageStreams.map((function(t){return cn(t)})):[]},r.yf=function(t,e){var n,r,i,o,a,s,u,c,l,f,h,d,p,g,m,y,v,b,w,T,x=this;return I((function(A){return 1==A.g?x.i?(n=x.i.imageStreams.find((function(e){return e.id==t})))?n.segmentIndex?A.B(3):E(A,n.createSegmentIndex(),3):A.return(null):A.B(2):2!=A.g?null==(r=n.segmentIndex.find(e))?A.return(null):(i=n.segmentIndex.get(r),o=i.tilesLayout||n.tilesLayout,(a=/(\d+)x(\d+)/.exec(o))?(s=n.width||0,u=n.height||0,c=parseInt(a[1],10),l=parseInt(a[2],10),f=s/c,h=u/l,d=c*l,p=i.l-i.startTime,g=i.I||p/d,m=i.startTime,v=y=0,1<d&&(b=Math.floor((e-i.startTime)/g),m=i.startTime+b*g,y=b%c*f,v=Math.floor(b/c)*h),w=!1,(T=i.F)&&(w=!0,h=T.height,y=T.positionX,v=T.positionY,f=T.width),A.return({imageHeight:u,imageWidth:s,height:h,positionX:y,positionY:v,startTime:m,duration:g,uris:i.Oa(),width:f,sprite:w})):A.return(null)):A.return(null)}))},r.Fe=function(t){if(this.i&&this.j){var e=this.i.textStreams.find((function(e){return e.id==t.id}));e&&e!=this.j.o&&(rf(this.u.h,e,!1),ac(this.j,e),Df(this),this.zb=e.language)}else if(this.h&&this.h.src&&this.h.textTracks){for(var n=(e=l(e=yf(this))).next();!n.done;n=e.next())ln(n=n.value)==t.id?n.mode=this.ha?"showing":"hidden":n.mode="disabled";Df(this)}},r.Ud=function(t,e,n){if(e=void 0!==e&&e,n=void 0===n?0:n,this.i&&this.j){this.g.abr.enabled&&K("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var r=this.i.variants.find((function(e){return e.id==t.id}));r&&pn(r)&&(Pf(this,r,!1,e,n),this.yb=new Vs(r),Nf(this))}else if(this.h&&this.h.audioTracks)for(n=(e=l(e=Array.from(this.h.audioTracks))).next();!n.done;n=e.next())if(ln(n=n.value)==t.id){Lf(this,n);break}},r.cf=function(){return $f(this.Za())},r.wf=function(){return $f(this.Gb())},r.bf=function(){return Array.from(Zf(this.Za()))},r.vf=function(){return Array.from(Zf(this.Gb()))},r.De=function(t,e,n,r){if(n=void 0===n?0:n,r=void 0===r?0:r,this.i&&this.A){this.yb=new Gs(t,e||"",n,"",""),t=function(t,e){return t.video||e.video?t.video&&e.video?Math.abs((t.video.height||0)-(e.video.height||0))+Math.abs((t.video.width||0)-(e.video.width||0)):1/0:0},e=this.j.j;var i=this.yb.create(this.i.variants);n=null;for(var o=(i=l(i.values())).next();!o.done;o=i.next())o=o.value,(!n||t(n,e)>t(o,e))&&(n=o);n?(t=sn(n),this.Ud(t,!0,r)):If(this)}else this.h&&this.h.audioTracks&&(r=mn(this.Za(),t,e||"",!1)[0])&&this.Ud(r)},r.Ee=function(t,e,n){n=void 0!==n&&n,this.i&&this.A?(this.zb=t,this.ac=e||"",this.Zb=n,(t=mn(this.i.textStreams,this.zb,this.ac,this.Zb)[0]||null)&&t!=this.j.o&&(rf(this.u.h,t,!1),this.g.streaming.alwaysStreamText||this.td())&&(ac(this.j,t),Df(this))):(t=mn(this.Gb(),t,e||"",n)[0])&&this.Fe(t)},r.bg=function(t,e,n){if(e=void 0===e||e,n=void 0===n?0:n,this.i&&this.A){for(var r=null,i=l(this.i.variants),o=i.next();!o.done;o=i.next())if((o=o.value).audio.label==t){r=o;break}null!=r&&(this.yb=new Gs(r.language,"",0,"",t),If(this,e,n))}else if(this.h&&this.h.audioTracks){for(e=null,r=(n=l(n=Array.from(this.h.audioTracks))).next();!r.done;r=n.next())(r=r.value).label==t&&(e=r);e&&Lf(this,e)}},r.td=function(){var t=this.ha;return this.D?this.D.u.isTextVisible():this.h&&this.h.src&&this.h.textTracks?yf(this).some((function(t){return"showing"==t.mode})):t},r.oe=function(){return this.h&&this.h.src&&this.h.textTracks?vf(this).map((function(t){return fn(t)})):[]},r.ef=function(t){var e=Ae(t),n=vf(this).filter((function(t){return Ae(t.language)==e}));if(!n||!n.length)return[];t=[];for(var r=new Set,i=(n=l(n)).next();!i.done;i=n.next())if((i=i.value)&&i.cues)for(var o=(i=l(i.cues)).next();!o.done;o=i.next()){var a=o.value;(o=a.id)&&""!=o||(o=a.startTime+"-"+a.endTime+"-"+a.text),a={id:o,title:a.text,startTime:a.startTime,endTime:a.endTime},r.has(o)||(t.push(a),r.add(o))}return t},r.fg=function(t){if(t=!!t,this.ha!=t){if(this.ha=t,this.l==ih)this.D.u.setTextVisibility(t),this.g.streaming.alwaysStreamText||(t?this.j.o||0<(t=mn(this.i.textStreams,this.zb,this.ac,this.Zb)).length&&(ac(this.j,t[0]),Df(this)):function(t){var e=t.h.get(ie);e&&(vc(e),bc(e).catch((function(){})),t.h.delete(ie)),t.o=null}(this.j));else if(this.h&&this.h.src&&this.h.textTracks)for(var e=yf(this),n=(e=l(e)).next();!n.done;n=e.next())"disabled"!=(n=n.value).mode&&(n.mode=t?"showing":"hidden");Bf(this)}},r.tf=function(){if(!this.T())return null;var t=this.hb.l,e=0;if(this.A)e=this.A.yc();else if(t){if(null==t.startTime)return new Date;e=t.startTime}return this.i?new Date(1e3*(this.i.presentationTimeline.i+e)):this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},r.pe=function(){if(!this.T())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.i);if(this.h&&this.h.getStartDate){var t=this.h.getStartDate();return isNaN(t.getTime())?null:t}return null},r.Ma=function(){if(this.l==ih)return this.D.Ma();var t={total:[],audio:[],video:[],text:[]};return this.l==oh&&(t.total=tu(this.h.buffered)),t},r.getStats=function(){if(this.l!=ih&&this.l!=oh)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Cf(this);var t=this.h,e=t.currentTime/t.duration;if(!isNaN(e)){var n=this.u;e=Math.round(100*e),n.i=isNaN(n.i)?e:Math.max(n.i,e)}if(this.A&&(this.u.O=this.A.ce(),this.u.P=this.A.de()),t.getVideoPlaybackQuality){n=t.getVideoPlaybackQuality(),e=this.u;var r=Number(n.totalVideoFrames);e.L=Number(n.droppedVideoFrames),e.K=r,this.u.I=Number(n.corruptedVideoFrames)}this.m?n=(n=this.m).I?n.I:NaN:n=NaN,this.u.s=n,this.l==ih&&((n=this.j.j)&&(this.u.A=(this.I?this.I.i:1)*n.bandwidth),n&&n.video&&(e=this.u,r=n.video.height||NaN,e.o=n.video.width||NaN,e.l=r),this.T()&&(n=this.pe().valueOf()+1e3*this.Ob().end,this.u.C=(Date.now()-n)/1e3),this.i&&this.i.presentationTimeline&&(this.u.F=this.i.presentationTimeline.g),n=this.s.getBandwidthEstimate(),this.u.u=n),this.l==oh&&(n=this.u,e=t.videoHeight||NaN,n.o=t.videoWidth||NaN,n.l=e);var i=this.u;t=i.o,n=i.l,e=i.A,r=i.K;for(var o=i.L,a=i.I,s=i.P,u=i.O,c=i.u,f=i.i,h=i.m,d=i.D,p=i.j,g=ef(i.g,"playing"),m=ef(i.g,"paused"),y=ef(i.g,"buffering"),v=i.s,b=i.C,w=i.F,E=function(t){function e(t){return{timestamp:t.timestamp,state:t.state,duration:t.duration}}for(var n=[],r=l(t.h),i=r.next();!i.done;i=r.next())n.push(e(i.value));return t.g&&n.push(e(t.g)),n}(i.g),T=[],x=(i=l(i.h.g)).next();!x.done;x=i.next())x=x.value,T.push({timestamp:x.timestamp,id:x.id,type:x.type,fromAdaptation:x.fromAdaptation,bandwidth:x.bandwidth});return{width:t,height:n,streamBandwidth:e,decodedFrames:r,droppedFrames:o,corruptedFrames:a,stallsDetected:s,gapsJumped:u,estimatedBandwidth:c,completionPercent:f,loadLatency:h,manifestTimeSeconds:d,drmTimeSeconds:p,playTime:g,pauseTime:m,bufferingTime:y,licenseTime:v,liveLatency:b,maxSegmentDuration:w,stateHistory:E,switchHistory:T}},r.Re=function(t,e,n,r,i,o,a){a=void 0!==a&&a;var s,u,c,l,f,h,d,p,g,m,y=this;return I((function(v){switch(v.g){case 1:if(y.l!=ih&&y.l!=oh)throw new Yt(1,7,7004);if(r){v.B(2);break}return E(v,bf(y,t),3);case 3:r=v.h;case 2:if(s=[],y.C)try{s=y.C.getServerSideCuePoints()}catch(b){}if(y.l!=oh){v.B(4);break}return a&&(n="forced"),E(v,wf(y,t,e,n,r,o||"",s),5);case 5:if(u=y.Gb(),c=u.find((function(t){return t.language==e&&t.label==(o||"")&&t.kind==n})))return Mf(y),v.return(c);throw new Yt(1,2,2012);case 4:if(l=oe,1/0==(f=y.i.presentationTimeline.getDuration()))throw new Yt(1,4,4033);if(!s.length){v.B(6);break}return E(v,Ef(y,t,y.F,y.g.streaming.retryParameters),7);case 7:h=v.h,d=Tf(y,h,r,s),p=new Blob([d],{type:"text/vtt"}),t=Su(p),r="text/vtt";case 6:if(g={id:y.Od++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Xo(0,f,[t]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:e,originalLanguage:e,label:o||null,type:l.da,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!a,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0},m=ue(g.mimeType,g.codecs),!me(m))throw new Yt(2,2,2014,r);return y.i.textStreams.push(g),Mf(y),v.return(un(g))}}))},r.Se=function(t,e){var n,r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b=this;return I((function(w){switch(w.g){case 1:if(b.l!=ih&&b.l!=oh)throw new Yt(1,7,7004);if(b.l==oh)throw new Yt(1,2,2016);if(e){w.B(2);break}return E(w,bf(b,t),3);case 3:e=w.h;case 2:if("text/vtt"!=e)throw new Yt(1,2,2017,t);if(n=oe,1/0==(r=b.i.presentationTimeline.getDuration()))throw new Yt(1,4,4045);return E(w,Ef(b,t,b.F,b.g.streaming.retryParameters),4);case 4:if(i=w.h,!(o=be[e]))throw new Yt(2,2,2014,e);for(a=o(),s={periodStart:0,segmentStart:0,segmentEnd:r,vttOffset:0},u=rt(i),c=a.parseMedia(u,s),f=[],h={},d=l(c),p=d.next();!p.done;h={Rb:h.Rb},p=d.next())g=p.value,h.Rb=te([t],[g.S])[0],m=new Go(g.startTime,g.endTime,function(t){return function(){return[t.Rb]}}(h),0,null,null,0,0,1/0),h.Rb.includes("#xywh")&&(4===(y=h.Rb.split("#xywh=")[1].split(",")).length&&m.Ie({height:parseInt(y[3],10),positionX:parseInt(y[0],10),positionY:parseInt(y[1],10),width:parseInt(y[2],10)})),f.push(m);return v={id:b.Od++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Wo(f),mimeType:e||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.fd,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0},b.i.imageStreams.push(v),Mf(b),w.return(cn(v))}}))},r.Qe=function(t,e,n){var r,i,o,a,s=this;return I((function(u){switch(u.g){case 1:if(s.l!=ih&&s.l!=oh)throw new Yt(1,7,7004);if(n){u.B(2);break}return E(u,bf(s,t),3);case 3:n=u.h;case 2:if(r=[],s.C)try{r=s.C.getServerSideCuePoints()}catch(c){}return E(u,wf(s,t,e,"chapters",n,"",r),4);case 4:if(i=u.h,o=s.oe(),!(a=o.find((function(t){return t.language==e})))){u.B(5);break}return E(u,new Promise((function(t,e){s.o.oa(i,"load",t),s.o.oa(i,"error",(function(){e(new Yt(1,2,2015))}))})),6);case 6:return u.return(a);case 5:throw new Yt(1,2,2012)}}))},r.dg=function(t,e){this.Ld.width=t,this.Ld.height=e},r.Rd=function(t){if(this.l==ih){var e=this.j;if(t=void 0===t?.1:t,e.l.g)e=!1;else if(e.s)e=!1;else{for(var n=l(e.h.values()),r=n.next();!r.done;r=n.next())!(r=r.value).kc||r.pa||r.Ha||(r.kc=!1,yc(e,r,t));e=!0}}else e=!1;return e},r.lf=function(){return K("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},r.mf=function(){return this.Oc},r.gg=function(t){this.Dc=t},r.kd=function(t,e){if(!this.g.abr.enabled||this.l===nh||!navigator.onLine)return!1;if(this.i.variants.some((function(e){return!(!(e=e[t.type])||e.id===t.id)&&("audio"!=t.type||t.language===e.language)}))){for(var n=l(this.i.variants),r=n.next();!r.done;r=n.next()){var i=(r=r.value)[t.type];i&&i.id===t.id&&(r.disabledUntilTime=Date.now()/1e3+e)}return this.Mc.sa(1),If(this,!0,e=this.Ma().video.reduce((function(t,e){return t+e.end-e.start}),0),!0,!1),!0}return!1},F("shaka.Player",af),af.prototype.setVideoContainer=af.prototype.gg,af.prototype.getManifestParserFactory=af.prototype.mf,af.prototype.getManifest=af.prototype.lf,af.prototype.retryStreaming=af.prototype.Rd,af.prototype.setMaxHardwareResolution=af.prototype.dg,af.prototype.addChaptersTrack=af.prototype.Qe,af.prototype.addThumbnailsTrack=af.prototype.Se,af.prototype.addTextTrackAsync=af.prototype.Re,af.prototype.getStats=af.prototype.getStats,af.prototype.getBufferedInfo=af.prototype.Ma,af.prototype.getPresentationStartTimeAsDate=af.prototype.pe,af.prototype.getPlayheadTimeAsDate=af.prototype.tf,af.prototype.setTextTrackVisibility=af.prototype.fg,af.prototype.getChapters=af.prototype.ef,af.prototype.getChaptersTracks=af.prototype.oe,af.prototype.isTextTrackVisible=af.prototype.td,af.prototype.selectVariantsByLabel=af.prototype.bg,af.prototype.selectTextLanguage=af.prototype.Ee,af.prototype.selectAudioLanguage=af.prototype.De,af.prototype.getTextLanguages=af.prototype.vf,af.prototype.getAudioLanguages=af.prototype.bf,af.prototype.getTextLanguagesAndRoles=af.prototype.wf,af.prototype.getAudioLanguagesAndRoles=af.prototype.cf,af.prototype.selectVariantTrack=af.prototype.Ud,af.prototype.selectTextTrack=af.prototype.Fe,af.prototype.getThumbnails=af.prototype.yf,af.prototype.getImageTracks=af.prototype.jf,af.prototype.getTextTracks=af.prototype.Gb,af.prototype.getVariantTracks=af.prototype.Za,af.prototype.cancelTrickPlay=af.prototype.ge,af.prototype.trickPlay=af.prototype.Me,af.prototype.getPlaybackRate=af.prototype.Gc,af.prototype.isBuffering=af.prototype.te,af.prototype.getKeyStatuses=af.prototype.Fc,af.prototype.getActiveSessionsMetadata=af.prototype.ld,af.prototype.getExpiration=af.prototype.nd,af.prototype.drmInfo=af.prototype.drmInfo,af.prototype.keySystem=af.prototype.keySystem,af.prototype.goToLive=af.prototype.Df,af.prototype.seekRange=af.prototype.Ob,af.prototype.isAudioOnly=af.prototype.Gf,af.prototype.isInProgress=af.prototype.Hb,af.prototype.isLive=af.prototype.T,af.prototype.getAdManager=af.prototype.$e,af.prototype.getAssetUri=af.prototype.af,af.prototype.getNetworkingEngine=af.prototype.od,af.prototype.getMediaElement=af.prototype.qf,af.prototype.getManifestType=af.prototype.nf,af.prototype.getLoadMode=af.prototype.kf,af.prototype.resetConfiguration=af.prototype.Yf,af.prototype.getBufferFullness=af.prototype.df,af.prototype.getConfiguration=af.prototype.getConfiguration,af.prototype.configure=af.prototype.configure,af.prototype.load=af.prototype.load,af.prototype.updateStartTime=af.prototype.mg,af.prototype.unload=af.prototype.ig,af.prototype.detach=af.prototype.detach,af.prototype.attachCanvas=af.prototype.Te,af.prototype.attach=af.prototype.Xb,af.probeSupport=function(t){var e,n,r,i,o;return t=void 0===t||t,I((function(a){if(1==a.g)return e={},t?E(a,function(){var t,e,n,r,i,o;return I((function(a){return 1==a.g?(t="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),n=[{videoCapabilities:e=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:e}],r=new Map,i=function(t){var e,i,o;return I((function(a){switch(a.g){case 1:if(x(a,2),"org.w3.clearkey"===t&&He())throw Error("Unsupported keySystem");return E(a,navigator.requestMediaKeySystemAccess(t,n),4);case 4:return e=a.h,o=!!(i=e.getConfiguration().sessionTypes)&&i.includes("persistent-license"),Ve("Tizen 3")&&(o=!1),r.set(t,{persistentState:o}),E(a,e.createMediaKeys(),5);case 5:A(a,0);break;case 2:S(a),r.set(t,null),T(a)}}))},o=t.map((function(t){return i(t)})),E(a,Promise.all(o),2)):a.return(Na(r))}))}(),3):a.B(2);2!=a.g&&(e=a.h);var s={};if(Pe()){for(var u in Ea)s[u]=!0;for(var c in Ta)s[c]=!0}u={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var h=(c=l(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!h.done;h=c.next())s[h=h.value]=Pe()?!!Ea[h]:Le(h);for(var d in u)s[d]=Pe()?!!Ta[d]:Le(u[d]);for(n=s,s={},u=(d=l(d='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(f(pe)))).next();!u.done;u=d.next())s[u=u.value]=Pe()?!!me(u)||(Y(u)||!!Rt(u)):Le(u),s[c=u.split(";")[0]]=s[c]||s[u];for(o in r={manifest:n,media:s,drm:e},i=uh)r[o]=i[o]();return a.return(r)}))},af.isBrowserSupported=function(){if(t.Promise||K("A Promise implementation or polyfill is required"),!(t.Promise&&t.Uint8Array&&Array.prototype.forEach)||Ve("Trident/"))return!1;var e=He();return!(e&&13>e||!(t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Pe()||Le("application/x-mpegurl"))},af.setAdManagerFactory=function(t){ch=t},af.registerSupportPlugin=function(t,e){uh[t]=e},af.prototype.destroy=af.prototype.destroy;var nh=0,rh=1,ih=2,oh=3;af.LoadMode={DESTROYED:nh,NOT_LOADED:rh,MEDIA_SOURCE:ih,SRC_EQUALS:oh},af.version="4.4.2-npm-dirty";var ah=["","4"];ci=new function(t){this.g=t,this.i=si,this.h=ui}(new oi(Number(ah[0]),Number(ah[1])));var sh=["output-restricted","internal-error"],uh={},ch=null,lh={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},fh={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function hh(){}function dh(t,e){for(t={priority:e||0,Ue:t},e=0;e<ph.length;e++)if(ph[e].priority<t.priority)return void ph.splice(e,0,t);ph.push(t)}F("shaka.polyfill",hh),hh.register=dh,hh.installAll=function(){for(var t=l(ph),e=t.next();!e.done;e=t.next()){e=e.value;try{e.Ue()}catch(n){K("Error installing polyfill!",n)}}};var ph=[];function gh(){this.g=new yh}function mh(){t.AbortController||(t.AbortController=gh,t.AbortSignal=yh)}function yh(){xo.call(this),this.h=!1,this.g=void 0,this.onabort=null}function vh(){}function bh(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var t=l(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),e=t.next();!e.done;e=t.next())wh(e.value)}function wh(t){var e="aria-"+t.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,t,{get:function(){return this.getAttribute(e)},set:function(t){null==t||null==t?this.removeAttribute(e):this.setAttribute(e,t)}})}function Eh(){}function Th(){vp()}function xh(){}function Ah(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Sh),document.addEventListener("webkitfullscreenerror",Sh),document.addEventListener("mozfullscreenchange",Sh),document.addEventListener("mozfullscreenerror",Sh),document.addEventListener("MSFullscreenChange",Sh),document.addEventListener("MSFullscreenError",Sh)}}function Sh(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(e,t.bubbles,t.cancelable),t.target.dispatchEvent(n)}function _h(){}function Oh(){var t=!0;(Ue()||Ve("PlayStation 5")||Fe()||Ve("Web0S")||De()||Ve("CrKey")||Ve("PC=EOS")||Ve("Hisense")||Ve("VIDAA"))&&(t=!1),t&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),Ch=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=Rh)}function Rh(e){var n,r,i,o,a,s,u,c,l,f,h,d,p,g,m,y;return I((function(v){switch(v.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},!e)return v.return(n);if(r=e.video,i=e.audio,"media-source"==e.type){if(!Pe())return v.return(n);if(r){if(Ve("CrKey"))if(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var b=r.contentType;r.width&&r.height&&(b+="; width="+r.width+"; height="+r.height),r.framerate&&(b+="; framerate="+r.framerate),"pq"===r.transferFunction&&(b+="; eotf=smpte2084"),o=cast.__platform__.canDisplayType(b)}else o=Y(r.contentType);else De()?(a=r.contentType,r.width&&r.height&&(a+="; width="+r.width,a+="; height="+r.height),r.framerate&&(a+="; framerate="+r.framerate),r.bitrate&&(a+="; bitrate="+r.bitrate),o=Y(a)):o=Y(r.contentType);if(!o)return v.return(n)}if(i&&(s=i.contentType,!Y(s)))return v.return(n)}else{if("file"!=e.type)return v.return(n);if(r&&(u=r.contentType,!Le(u))||i&&(c=i.contentType,!Le(c)))return v.return(n)}if(!e.keySystemConfiguration)return n.supported=!0,v.return(Promise.resolve(n));if(l=e.keySystemConfiguration,f=[],h=[],l.audio&&(d={robustness:l.audio.robustness||"",contentType:e.audio.contentType},f.push(d)),l.video&&(p={robustness:l.video.robustness||"",contentType:e.video.contentType},h.push(p)),g={initDataTypes:[l.initDataType],distinctiveIdentifier:l.distinctiveIdentifier,persistentState:l.persistentState,sessionTypes:l.sessionTypes},f.length&&(g.audioCapabilities=f),h.length&&(g.videoCapabilities=h),m=(e.video?e.video.contentType:"")+"#"+(e.audio?e.audio.contentType:"")+"#"+e.keySystemConfiguration.keySystem,x(v,3),m in kh){y=kh[m],v.B(5);break}return E(v,navigator.requestMediaKeySystemAccess(l.keySystem,[g]),6);case 6:y=v.h,kh[m]=y;case 5:A(v,4);break;case 3:S(v);case 4:y&&(n.supported=!0,n.keySystemAccess=y);case 2:return v.return(n)}}))}gh.prototype.abort=function(t){var e=this.g;e.h||(e.h=!0,e.g=t,void 0===e.g&&(e.g=new DOMException("signal is aborted without reason","AbortError")),t=new To("abort"),e.onabort&&e.onabort(t),e.dispatchEvent(t))},s.Object.defineProperties(gh.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),hh.AbortController=gh,gh.install=mh,y(yh,xo),s.Object.defineProperties(yh.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.h}},reason:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),dh(mh),hh.Aria=vh,vh.install=bh,dh(bh),hh.EncryptionScheme=Eh,Eh.install=Th,dh(Th,-2),hh.Fullscreen=xh,xh.install=Ah,dh(Ah),hh.MediaCapabilities=_h,_h.install=Oh;var Ch=null;_h.originalMcap=Ch;var kh={};function Nh(){}function Ih(){var e=He();t.MediaSource&&(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){var n=e.split(/ *; */);return n.shift(),n.some((function(t){return t.startsWith("codecs=")}))?cast.__platform__.canDisplayType(e):t(e)}}():e?12>=e?(Ph(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}()):15>=e&&Ph():Me()?function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(";")[0].split("/")[1]&&t(e)}}():(Ve("Tizen 2")||Ve("Tizen 3")||Ve("Tizen 4"))&&function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"opus"!=de(e)[0]&&t(e)}}()),t.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var t=MediaSource.isTypeSupported;Ve("Web0S")||(MediaSource.isTypeSupported=function(e){var n=e.split(/ *; */),r=n.findIndex((function(t){return t.startsWith("codecs=")}));if(0>r)return t(e);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=i.findIndex((function(t){return t.startsWith("vp09")}));return 0<=o&&(i[o]="vp9",n[r]='codecs="'+i.join(",")+'"',e=n.join("; ")),t(e)})}()}function Ph(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var e=t.apply(this,P.apply(0,arguments));return e.abort=function(){},e}}function Lh(){}function Mh(){screen.orientation&&screen.orientation.unlock||(null!=screen.orientation?(void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()}),void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})):null!=t.orientation&&function(){function e(){switch(t.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new jh;screen.orientation=n,e(),t.addEventListener("orientationchange",(function(){e();var t=new To("change");n.dispatchEvent(t)}))}())}function jh(){xo.call(this),this.type="",this.angle=0}function Dh(){}function Bh(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Uh,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Fh,t.MediaKeys=Hh,t.MediaKeySystemAccess=Vh,t.shakaMediaKeysPolyfill=!0)}function Uh(){return Promise.reject(Error("The key system specified is not supported."))}function Fh(t){return null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Hh(){throw new TypeError("Illegal constructor.")}function Vh(){throw this.keySystem="",new TypeError("Illegal constructor.")}function Gh(){}function qh(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)rd="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Kh,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Wh,t.MediaKeys=Yh,t.MediaKeySystemAccess=Xh,t.shakaMediaKeysPolyfill=!0}}function zh(t){return rd?rd+t.charAt(0).toUpperCase()+t.slice(1):t}function Kh(t,e){try{var n=new Xh(t,e);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Wh(t){var e=this.mediaKeys;return e&&e!=t&&Zh(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&Zh(t,this),Promise.resolve()}function Xh(t,e){this.g=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var o=(e=l(e)).next();!o.done;o=e.next()){var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(o=o.value).initDataTypes,sessionTypes:["temporary"],label:o.label},s=!1;if(o.audioCapabilities)for(var u=l(o.audioCapabilities),c=u.next();!c.done;c=u.next())(c=c.value).contentType&&(s=!0,i.canPlayType(c.contentType.split(";")[0],this.g)&&(a.audioCapabilities.push(c),r=!0));if(o.videoCapabilities)for(c=(u=l(o.videoCapabilities)).next();!c.done;c=u.next())(c=c.value).contentType&&(s=!0,i.canPlayType(c.contentType,this.g)&&(a.videoCapabilities.push(c),r=!0));if(s||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==o.persistentState&&(n?(a.persistentState="required",a.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=a)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(t=Error(n)).name="NotSupportedError",t.code=DOMException.NOT_SUPPORTED_ERR,t}function Yh(t){this.l=t,this.h=null,this.g=new Oa,this.i=[],this.j=new Map}function Zh(t,e){t.h=e,t.g.Nb();var n=rd;e&&(t.g.J(e,n+"needkey",(function(e){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=nt(e.initData),t.h.dispatchEvent(n)})),t.g.J(e,n+"keymessage",(function(e){var n=$h(t,e.sessionId);n&&(e=new To("message",e=(new Map).set("messageType",null==n.keyStatuses.jc()?"licenserequest":"licenserenewal").set("message",e.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(e))})),t.g.J(e,n+"keyadded",(function(e){(e=$h(t,e.sessionId))&&(ed(e,"usable"),e.g&&e.g.resolve(),e.g=null)})),t.g.J(e,n+"keyerror",(function(e){var n=$h(t,e.sessionId);n&&n.handleError(e)})))}function $h(t,e){var n=t.j.get(e);return n||((n=t.i.shift())?(n.sessionId=e,t.j.set(e,n),n):null)}function Jh(t,e,n){xo.call(this),this.j=t,this.m=!1,this.g=this.h=null,this.i=e,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new go,this.keyStatuses=new nd}function Qh(t,e,n){if(t.m)return Promise.reject(Error("The session is already initialized."));t.m=!0;try{if("persistent-license"==t.l)if(n)var r=rt(Nr("LOAD_SESSION|"+n));else{var i=Nr("PERSISTENT|");r=Ii(i,e)}else r=rt(e)}catch(a){return Promise.reject(a)}t.h=new go;var o=zh("generateKeyRequest");try{t.j[o](t.i,r)}catch(a){if("InvalidStateError"!=a.name)return t.h=null,Promise.reject(a);new Ie((function(){try{t.j[o](t.i,r)}catch(e){t.h.reject(e),t.h=null}})).V(.01)}return t.h}function td(t,e,n){if(t.g)t.g.then((function(){return td(t,e,n)})).catch((function(){return td(t,e,n)}));else{if(t.g=e,"webkit-org.w3.clearkey"==t.i){var r=Rr(n),i=JSON.parse(r);"oct"!=i.keys[0].kty&&(t.g.reject(Error("Response is not a valid JSON Web Key Set.")),t.g=null),r=Ci(i.keys[0].k),i=Ci(i.keys[0].kid)}else r=rt(n),i=null;var o=zh("addKey");try{t.j[o](t.i,r,i,t.sessionId)}catch(a){t.g.reject(a),t.g=null}}}function ed(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.g=e,e=new To("keystatuseschange"),t.dispatchEvent(e)}function nd(){this.size=0,this.g=void 0}_h.memoizedMediaKeySystemAccessRequests_=kh,dh(Oh,-1),hh.MediaSource=Nh,Nh.install=Ih,dh(Ih),hh.Orientation=Lh,Lh.install=Mh,y(jh,xo),jh.prototype.lock=function(t){function e(t){return screen.lockOrientation?screen.lockOrientation(t):screen.mozLockOrientation?screen.mozLockOrientation(t):!!screen.msLockOrientation&&screen.msLockOrientation(t)}var n=!1;switch(t){case"natural":n=e("default");break;case"any":n=!0,this.unlock();break;default:n=e(t)}return n?Promise.resolve():((t=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",t.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(t))},jh.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},dh(Mh),hh.PatchedMediaKeysNop=Dh,Dh.install=Bh,Hh.prototype.createSession=function(){},Hh.prototype.setServerCertificate=function(){},Hh.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},Vh.prototype.getConfiguration=function(){},Vh.prototype.createMediaKeys=function(){},dh(Bh,-10),hh.PatchedMediaKeysWebkit=Gh,Gh.install=qh,Xh.prototype.createMediaKeys=function(){var t=new Yh(this.g);return Promise.resolve(t)},Xh.prototype.getConfiguration=function(){return this.h},Yh.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary")&&"persistent-license"!=t)throw new TypeError("Session type "+t+" is unsupported on this platform.");var e=this.h||document.createElement("video");return e.src||(e.src="about:blank"),t=new Jh(e,this.l,t),this.i.push(t),t},Yh.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Yh.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},y(Jh,xo),(r=Jh.prototype).handleError=function(t){var e=Error("EME v0.1b key error"),n=t.errorCode;n.systemCode=t.systemCode,e.errorCode=n,!t.sessionId&&this.h?(45==t.systemCode&&(e.message="Unsupported session type."),this.h.reject(e),this.h=null):t.sessionId&&this.g?(this.g.reject(e),this.g=null):(e=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?ed(this,"output-restricted"):ed(this,1==e?"expired":"internal-error"))},r.generateRequest=function(t,e){return Qh(this,e,null)},r.load=function(t){return"persistent-license"==this.l?Qh(this,null,t):Promise.reject(Error("Not a persistent session."))},r.update=function(t){var e=new go;return td(this,e,t),e},r.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=zh("cancelKeyRequest");try{this.j[t](this.i,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(r=nd.prototype).jc=function(){return this.g},r.forEach=function(t){this.g&&t(this.g,$a.value())},r.get=function(t){if(this.has(t))return this.g},r.has=function(t){var e=$a.value();return!(!this.g||!tt(t,e))},r.entries=function(){},r.keys=function(){},r.values=function(){};var rd="";function id(){}function od(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=sd,Object.defineProperty(e,"disablePictureInPicture",{get:cd,set:ld,enumerable:!0,configurable:!0}),document.exitPictureInPicture=ud,document.addEventListener("webkitpresentationmodechanged",ad,!0))}}function ad(t){if("picture-in-picture"==(t=t.target).webkitPresentationMode){document.pictureInPictureElement=t;var e=new Event("enterpictureinpicture");t.dispatchEvent(e)}else document.pictureInPictureElement==t&&(document.pictureInPictureElement=null),e=new Event("leavepictureinpicture"),t.dispatchEvent(e)}function sd(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function ud(){var t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function cd(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function ld(t){t?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function fd(){}function hd(){t.crypto&&("randomUUID"in t.crypto||(t.crypto.randomUUID=dd))}function dd(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.substr(e.lastIndexOf("/")+1)}function pd(){}function gd(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=md)}function md(){return new Promise((function(t,e){navigator.webkitTemporaryStorage.queryUsageAndQuota((function(e,n){t({usage:e,quota:n})}),e)}))}function yd(){}function vd(){var t=Symbol.prototype;"description"in t||Object.defineProperty(t,"description",{get:bd})}function bd(){var t=/\((.*)\)/.exec(this.toString());return t?t[1]:void 0}function wd(){}function Ed(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch((function(){})),t}}}function Td(){}function xd(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||Be())&&(e.getVideoPlaybackQuality=Ad)}}function Ad(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Sd(){}function _d(){if(!t.VTTCue&&t.TextTrackCue){var e=null,n=TextTrackCue.length;if(3==n)e=Od;else if(6==n)e=Rd;else{try{var r=!!Od(1,2,"")}catch(i){r=!1}r&&(e=Od)}e&&(t.VTTCue=function(t,n,r){return e(t,n,r)})}}function Od(e,n,r){return new t.TextTrackCue(e,n,r)}function Rd(e,n,r){return new t.TextTrackCue(e+"-"+n+"-"+r,e,n,r)}function Cd(t,e){var n=1&t[e+1]?7:9;return e+n<=t.length&&0<(t=((3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5)-n)?{Lc:n,M:t}:null}function kd(t,e){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(60&t[e+2])>>>2;if(r>n.length-1)return null;var i=1+((192&t[e+2])>>>6),o=(1&t[e+2])<<2;return o|=(192&t[e+3])>>>6,{sampleRate:n[r],channelCount:o,Bc:"mp4a.40."+i}}function Nd(t,e){if(e+1<t.length&&255===t[e]&&240==(246&t[e+1])){var n=1&t[e+1]?7:9;if(e+n>=t.length)return!1;var r=(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5;return!(r<=n)&&((e+=r)===t.length||e+1<t.length&&255===t[e]&&240==(246&t[e+1]))}return!1}function Id(t){this.i=t,this.h=0,this.g=new Map}function Pd(t,e){if(e+8>t.length||11!==t[e]||119!==t[e+1])return null;var n=t[e+4]>>6;if(3<=n)return null;var r=63&t[e+4],i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(e+i>t.length)return null;var o=t[e+6]>>5,a=0;2===o?a+=2:(1&o&&1!==o&&(a+=2),4&o&&(a+=2)),a=(t[e+6]<<8|t[e+7])>>12-a&1;var s=7&t[e+5];return t=new Uint8Array([n<<6|t[e+5]>>3<<1|s>>2,(3&s)<<6|o<<3|a<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][o]+a,Y:t,M:i}}function Ld(t,e){if(11===t[e]&&119===t[e+1]){var n,r,i=0,o=5;for(e+=o;0<o;){r=t[e];var a=Math.min(o,8),s=8-a;n=(r&(n=4278190080>>>24+s<<s))>>s,i=i?i<<a|n:n,e+=1,o-=a}if(16>i)return!0}return!1}function Md(t){this.i=t,this.h=0,this.g=new Map}function jd(t,e){if(e+8>t.length||2935!=(t[e]<<8|t[e+1]))return null;var n=new li(t.subarray(e+2));hi(n,2),hi(n,3);var r=di(n,11)+1<<1,i=di(n,2);if(3==i){i=[24e3,22060,16e3][i=di(n,2)];var o=3}else i=[48e3,44100,32e3][i],o=di(n,2);var a=di(n,3),s=di(n,1);return n=di(n,5),e+r>t.byteLength?null:(t=Math.floor(r*i/(16*[1,2,3,6][o])),t=new Uint8Array([(8160&t)>>5,(31&t)<<3,i<<6|n<<1,a<<1|s,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][a]+s,Y:t,M:r})}function Dd(t){this.i=t,this.h=0,this.g=new Map}function Bd(t){for(var e=!1,n=new Uint8Array([]),r=t.find((function(t){return 7==t.type})),i=!1,o=(t=l(t)).next();!o.done;o=t.next()){var a=!1;switch((o=o.value).type){case 1:a=i=!0;var s=o.data;r&&4<s.length&&(2===(s=vi(new li(s)))||4===s||7===s||9===s)&&(e=!0);break;case 5:e=a=i=!0;break;case 6:case 7:case 8:case 12:a=!0;break;case 9:i=a=!0;break;default:a=!1}i&&a&&(a=o.La.byteLength,(s=new Uint8Array(4))[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=255&a,n=Ii(n,s,o.La))}return n.byteLength?{data:n,ve:e}:null}dh(qh),hh.PiPWebkit=id,id.install=od,dh(od),hh.RandomUUID=fd,fd.install=hd,dh(hd),hh.StorageEstimate=pd,pd.install=gd,dh(gd),hh.Symbol=yd,yd.install=vd,dh(vd),hh.VideoPlayPromise=wd,wd.install=Ed,dh(Ed),hh.VideoPlaybackQuality=Td,Td.install=xd,dh(xd),hh.VTTCue=Sd,Sd.install=_d,dh(_d),(r=Id.prototype).destroy=function(){this.g.clear()},r.isSupported=function(t){return"audio/aac"==t.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",t))},r.convertCodecs=function(t,e){return"audio/aac"==e.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(he(e)||"mp4a.40.2")+'"':e},r.getOrginalMimeType=function(){return this.i},r.transmux=function(t,e,n,r){for(var i=rt(t),o=Si(i),a=o.length;a<i.length&&!Nd(i,a);a++);if(t=1e3*n.endTime,(o=Ai(o)).length&&n&&(n=o.find((function(t){return"com.apple.streaming.transportStreamTimestamp"===t.description})))&&(t=n.data),!(n=kd(i,a)))return Promise.reject(new Yt(2,3,3018));for(e.audioSamplingRate=n.sampleRate,e.channelsCount=n.channelCount,o=[];a<i.length;){var s=Cd(i,a);if(!s)return Promise.reject(new Yt(2,3,3018));var u=s.Lc+s.M;a+u<=i.length&&o.push({data:i.subarray(a+s.Lc,a+u),size:s.M,duration:1024,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),a+=u}return i=n.sampleRate,t=Math.floor(t*i/1e3),t=new Sc([r={id:e.id,type:"audio",codecs:n.Bc,encrypted:e.encrypted&&0<e.drmInfos.length,timescale:i,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:t,wa:o},stream:e}]),this.g.has(e.id)?r=this.g.get(e.id):(r=t.initSegment(),this.g.set(e.id,r)),e=Cc(t),this.h++,e=Ii(r,e),Promise.resolve(e)},F("shaka.transmuxer.AacTransmuxer",Id),Id.prototype.transmux=Id.prototype.transmux,Id.prototype.getOrginalMimeType=Id.prototype.getOrginalMimeType,Id.prototype.convertCodecs=Id.prototype.convertCodecs,Id.prototype.isSupported=Id.prototype.isSupported,Id.prototype.destroy=Id.prototype.destroy,Ot("audio/aac",(function(){return new Id("audio/aac")}),kt),(r=Md.prototype).destroy=function(){this.g.clear()},r.isSupported=function(t){return"audio/ac3"==t.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",t))},r.convertCodecs=function(t,e){return"audio/ac3"==e.toLowerCase().split(";")[0]?'audio/mp4; codecs="ac-3"':e},r.getOrginalMimeType=function(){return this.i},r.transmux=function(t,e,n,r){for(var i=Si(t=rt(t)),o=i.length;o<t.length&&!Ld(t,o);o++);var a=1e3*n.endTime;(i=Ai(i)).length&&n&&(n=i.find((function(t){return"com.apple.streaming.transportStreamTimestamp"===t.description})))&&(a=n.data),n=0,i=new Uint8Array([]);for(var s=[];o<t.length;){var u=Pd(t,o);if(!u)return Promise.reject(new Yt(2,3,3018));e.audioSamplingRate=u.sampleRate,e.channelsCount=u.channelCount,n=u.sampleRate,i=u.Y,s.push({data:t.subarray(o,o+u.M),size:u.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=u.M}return t=Math.floor(a*n/1e3),t=new Sc([r={id:e.id,type:"audio",codecs:"ac-3",encrypted:e.encrypted&&0<e.drmInfos.length,timescale:n,duration:r,xa:[],Y:i,ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:t,wa:s},stream:e}]),this.g.has(e.id)?r=this.g.get(e.id):(r=t.initSegment(),this.g.set(e.id,r)),e=Cc(t),this.h++,e=Ii(r,e),Promise.resolve(e)},F("shaka.transmuxer.Ac3Transmuxer",Md),Md.prototype.transmux=Md.prototype.transmux,Md.prototype.getOrginalMimeType=Md.prototype.getOrginalMimeType,Md.prototype.convertCodecs=Md.prototype.convertCodecs,Md.prototype.isSupported=Md.prototype.isSupported,Md.prototype.destroy=Md.prototype.destroy,Ot("audio/ac3",(function(){return new Md("audio/ac3")}),kt),(r=Dd.prototype).destroy=function(){this.g.clear()},r.isSupported=function(t){return"audio/ec3"==t.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",t))},r.convertCodecs=function(t,e){return"audio/ec3"==e.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':e},r.getOrginalMimeType=function(){return this.i},r.transmux=function(t,e,n,r){for(var i=Si(t=rt(t)),o=i.length;o<t.length&&2935!=(t[o]<<8|t[o+1]);o++);var a=1e3*n.endTime;(i=Ai(i)).length&&n&&(n=i.find((function(t){return"com.apple.streaming.transportStreamTimestamp"===t.description})))&&(a=n.data),n=0,i=new Uint8Array([]);for(var s=[];o<t.length;){var u=jd(t,o);if(!u)return Promise.reject(new Yt(2,3,3018));e.audioSamplingRate=u.sampleRate,e.channelsCount=u.channelCount,n=u.sampleRate,i=u.Y,s.push({data:t.subarray(o,o+u.M),size:u.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=u.M}return t=Math.floor(a*n/1e3),t=new Sc([r={id:e.id,type:"audio",codecs:"ec-3",encrypted:e.encrypted&&0<e.drmInfos.length,timescale:n,duration:r,xa:[],Y:i,ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:t,wa:s},stream:e}]),this.g.has(e.id)?r=this.g.get(e.id):(r=t.initSegment(),this.g.set(e.id,r)),e=Cc(t),this.h++,e=Ii(r,e),Promise.resolve(e)},F("shaka.transmuxer.Ec3Transmuxer",Dd),Dd.prototype.transmux=Dd.prototype.transmux,Dd.prototype.getOrginalMimeType=Dd.prototype.getOrginalMimeType,Dd.prototype.convertCodecs=Dd.prototype.convertCodecs,Dd.prototype.isSupported=Dd.prototype.isSupported,Dd.prototype.destroy=Dd.prototype.destroy,Ot("audio/ec3",(function(){return new Dd("audio/ec3")}),kt);var Ud=[100,110,122,244,44,83,86,118,128,138,139,134];function Fd(t,e){var n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==o){var a=t[e+3]>>6;i=1e3*Vd[14*(3===n?3-r:3===r?3:4)+i-1],o=Gd[3*(3===n?0:2===n?1:2)+o],n=qd[n][r];var s=zd[r],u=Math.floor(n*i/o+(t[e+2]>>1&1))*s,c=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(c=c?parseInt(c[1],10):0)&&87>=c&&2===r&&224e3<=i&&0===a&&(t[e+3]|=128),{sampleRate:o,channelCount:3===a?1:2,M:u,ag:8*n*s}}return null}function Hd(t,e){return!(255!==t[e]||224&~t[e+1]||!(6&t[e+1]))}var Vd=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Gd=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],qd=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],zd=[0,1,1,4];function Kd(t){this.i=t,this.h=0,this.g=new Map}function Wd(t){this.h=t,this.g=null}function Xd(t){this.h=t,(this.g=Is.get("ISOBoxer")())&&function(t){function e(){this._procFullBox(),1&this.flags&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,(function(t){this._procEntryField(t,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(t,"NumberOfEntries","uint",16),this._procSubEntries(t,"clearAndCryptedData",t.NumberOfEntries,(function(t){this._procEntryField(t,"BytesOfClearData","uint",16),this._procEntryField(t,"BytesOfEncryptedData","uint",32)})))}))}t.g.addBoxProcessor("saio",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)})),t.g.addBoxProcessor("saiz",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)})),t.g.addBoxProcessor("senc",e),t.g.addBoxProcessor("uuid",(function(){for(var t=!0,n=0;16>n;n++)this.usertype[n]!==Zd[n]&&(t=!1);t&&(this._parsing&&(this.type="sepiff"),e.call(this))}))}(this)}function Yd(t,e){for(var n=8,r=0;r<t.boxes.length&&t.boxes[r].type!==e;r++)n+=t.boxes[r].size;return n}(r=Kd.prototype).destroy=function(){this.g.clear()},r.isSupported=function(t){return"audio/mpeg"==t.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",t))},r.convertCodecs=function(t,e){return"audio/mpeg"==e.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':e},r.getOrginalMimeType=function(){return this.i},r.transmux=function(t,e,n,r){for(n=Si(t=rt(t)).length;n<t.length;n++){var i=n;if(i+1<t.length&&Hd(t,i)){var o=Fd(t,i),a=4;o&&o.M&&(a=o.M),i=(i+=a)===t.length||i+1<t.length&&Hd(t,i)}else i=!1;if(i)break}var s;for(i=[];n<t.length;){if(!(o=Fd(t,n)))return Promise.reject(new Yt(2,3,3018));s||(s=o),n+o.M<=t.length&&i.push({data:t.subarray(n,n+o.M),size:o.M,duration:1152,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),n+=o.M}return s?(t=9e4*s.ag/s.sampleRate*this.h,s=new Sc([r={id:e.id,type:"audio",codecs:"mp3",encrypted:e.encrypted&&0<e.drmInfos.length,timescale:s.sampleRate,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:t,wa:i},stream:e}]),this.g.has(e.id)?r=this.g.get(e.id):(r=s.initSegment(),this.g.set(e.id,r)),e=Cc(s),this.h++,e=Ii(r,e),Promise.resolve(e)):Promise.reject(new Yt(2,3,3018))},F("shaka.transmuxer.Mp3Transmuxer",Kd),Kd.prototype.transmux=Kd.prototype.transmux,Kd.prototype.getOrginalMimeType=Kd.prototype.getOrginalMimeType,Kd.prototype.convertCodecs=Kd.prototype.convertCodecs,Kd.prototype.isSupported=Kd.prototype.isSupported,Kd.prototype.destroy=Kd.prototype.destroy,Ot("audio/mpeg",(function(){return new Kd("audio/mpeg")}),kt),(r=Wd.prototype).destroy=function(){},r.isSupported=function(t){if("video/mp2t"!=t.toLowerCase().split(";")[0])return!1;var e=he(t).split(","),n=re("audio",e);return e=re("video",e),!(!n||e||"mp3"!=fe(n))&&Y(this.convertCodecs("audio",t))},r.convertCodecs=function(t,e){return"video/mp2t"==e.toLowerCase().split(";")[0]?"audio/mpeg":e},r.getOrginalMimeType=function(){return this.h},r.transmux=function(t){this.g?this.g.clearData():this.g=new Pi,t=rt(t);var e=this.g.parse(t);if("mp3"!=(t=e.md()).audio||t.video)return Promise.reject(new Yt(2,3,3018));t=new Uint8Array([]);for(var n=(e=l(e.jb())).next();!n.done;n=e.next())if(n=n.value.data)for(var r=0;r<n.length;){var i=Fd(n,r);i?(r+i.M<=n.length&&(t=Ii(t,n.subarray(r,r+i.M))),r+=i.M):r++}return Promise.resolve(t)},F("shaka.transmuxer.MpegTsTransmuxer",Wd),Wd.prototype.transmux=Wd.prototype.transmux,Wd.prototype.getOrginalMimeType=Wd.prototype.getOrginalMimeType,Wd.prototype.convertCodecs=Wd.prototype.convertCodecs,Wd.prototype.isSupported=Wd.prototype.isSupported,Wd.prototype.destroy=Wd.prototype.destroy,Ot("video/mp2t",(function(){return new Wd("video/mp2t")}),Nt),(r=Xd.prototype).destroy=function(){},r.isSupported=function(t,e){var n=t.startsWith("mss/");return!(!this.g||!n)&&(e?Y(this.convertCodecs(e,t)):(e=this.convertCodecs("audio",t),t=this.convertCodecs("video",t),Y(e)||Y(t)))},r.convertCodecs=function(t,e){return e.replace("mss/","")},r.getOrginalMimeType=function(){return this.h},r.transmux=function(t,e,n){if(!n)return Promise.resolve(rt(t));if(!e.mssPrivateData)return Promise.reject(new Yt(2,3,3020));try{var r,i=this.g.parseBuffer(t),o=i.fetch("tfhd");o.track_ID=e.id+1;var a=i.fetch("tfdt"),s=i.fetch("traf");null===a&&((a=this.g.createFullBox("tfdt",s,o)).version=1,a.flags=0,a.baseMediaDecodeTime=Math.floor(n.startTime*e.mssPrivateData.timescale));var u=i.fetch("trun"),c=i.fetch("tfxd");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var l=i.fetch("tfrf");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var f=i.fetch("sepiff");if(null!==f){f.type="senc",f.usertype=void 0;var h=i.fetch("saio");if(null===h){(h=this.g.createFullBox("saio",s)).version=0,h.flags=0,h.entry_count=1,h.offset=[0];var d=this.g.createFullBox("saiz",s);if(d.version=0,d.flags=0,d.sample_count=f.sample_count,d.default_sample_info_size=0,d.sample_info_size=[],2&f.flags)for(r=0;r<f.sample_count;r+=1)d.sample_info_size[r]=10+6*f.entry[r].NumberOfEntries;else d.default_sample_info_size=8}}o.flags&=16777214,o.flags|=131072,u.flags|=1;var p=i.fetch("moof");u.data_offset=p.getLength()+8;var g=i.fetch("saio");null!==g&&(g.offset[0]=Yd(p,"traf")+Yd(s,"senc")+16);var m=rt(i.write());return Promise.resolve(m)}catch(y){return y instanceof Yt?Promise.reject(y):Promise.reject(new Yt(2,3,3022))}},F("shaka.transmuxer.MssTransmuxer",Xd),Xd.prototype.transmux=Xd.prototype.transmux,Xd.prototype.getOrginalMimeType=Xd.prototype.getOrginalMimeType,Xd.prototype.convertCodecs=Xd.prototype.convertCodecs,Xd.prototype.isSupported=Xd.prototype.isSupported,Xd.prototype.destroy=Xd.prototype.destroy;var Zd=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);function $d(t){var e=this;this.m=t,this.j=Is.get("muxjs")(),this.h=this.g=null,this.l=[],this.i=!1,this.j&&(this.g=new this.j.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.g.on("data",(function(t){e.l.push(Ii(t.initSegment,t.data))})),this.g.on("done",(function(){var t=Ii.apply(_i,f(e.l));e.h.resolve(t),e.i=!1})))}function Jd(t,e){if(e=e.replace(/mp2t/i,"mp4"),"audio"==t&&(e=e.replace("video","audio")),t=/avc1\.(66|77|100)\.(\d+)/.exec(e)){var n="avc1.",r=t[1],i=Number(t[2]);n=("66"==r?n+"4200":"77"==r?n+"4d00":n+"6400")+(i>>4).toString(16),n+=(15&i).toString(16),e=e.replace(t[0],n)}return e}function Qd(t){this.j=t,this.g=0,this.h=new Map,this.i=null}Ot("mss/audio/mp4",(function(){return new Xd("mss/audio/mp4")}),kt),Ot("mss/video/mp4",(function(){return new Xd("mss/video/mp4")}),kt),(r=$d.prototype).destroy=function(){this.g&&this.g.dispose(),this.g=null},r.isSupported=function(t,e){var n="mp2t"==t.toLowerCase().split(";")[0].split("/")[1];return!(!this.j||!n)&&(e?Y(Jd(e,t)):(e=Jd("audio",t),t=Jd("video",t),Y(e)||Y(t)))},r.convertCodecs=function(t,e){return"mp2t"==e.toLowerCase().split(";")[0].split("/")[1]?Jd(t,e):e},r.getOrginalMimeType=function(){return this.m},r.transmux=function(t){return this.i=!0,this.h=new go,this.l=[],t=rt(t),this.g.push(t),this.g.flush(),this.i&&this.h.reject(new Yt(2,3,3018)),this.h},F("shaka.transmuxer.MuxjsTransmuxer",$d),$d.prototype.transmux=$d.prototype.transmux,$d.prototype.getOrginalMimeType=$d.prototype.getOrginalMimeType,$d.prototype.convertCodecs=$d.prototype.convertCodecs,$d.prototype.isSupported=$d.prototype.isSupported,$d.prototype.destroy=$d.prototype.destroy,Ot("video/mp2t",(function(){return new $d("video/mp2t")}),kt),(r=Qd.prototype).destroy=function(){this.h.clear()},r.isSupported=function(t,e){if("video/mp2t"!=t.toLowerCase().split(";")[0])return!1;var n=he(t).split(","),r=re("audio",n);return n=re("video",n),!(r&&n||r&&(r=fe(r),!np.includes(r))||n&&(r=fe(n),!rp.includes(r)))&&(e?Y(this.convertCodecs(e,t)):(e=this.convertCodecs("audio",t),t=this.convertCodecs("video",t),Y(e)||Y(t)))},r.convertCodecs=function(t,e){return"video/mp2t"==e.toLowerCase().split(";")[0]?(e=he(e).replace("mp4a.40.34","mp3"),"audio"==t?'audio/mp4; codecs="'+e+'"':'video/mp4; codecs="'+e+'"'):e},r.getOrginalMimeType=function(){return this.j},r.transmux=function(t,e,n,r,i){this.i?this.i.clearData():this.i=new Pi,t=rt(t);var o=this.i.parse(t);t=[];var a=o.md();try{if(n=null,"video"==i){if("avc"===a.video){for(var s=[],u=null,c=[],h=o.Jc(),d=0;d<h.length;d++){var p=h[d],g=void 0;d+1<h.length&&(g=h[d+1]);var m=o.Nd(p,g);c=c.concat(m);var y=Bd(m);y&&(null==u&&(u=p.dts),g=void 0,g=d+1<h.length?(h[d+1].dts||0)-(p.dts||0):(p.dts||0)-(h[d-1].dts||0),s.push({data:y.data,size:y.data.byteLength,duration:g,Ja:Math.round((p.pts||0)-(p.dts||0)),flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:y.ve?2:1,Qa:y.ve?0:1}}))}var v=function(t){if(!t.length)return null;var e=t.find((function(t){return 7==t.type}));if(t=t.find((function(t){return 8==t.type})),!e||!t)return null;var n=new li(e.data),r=di(n,8);if(di(n,8),di(n,8),gi(n),Ud.includes(r)&&(3===(r=mi(n))&&hi(n,1),gi(n),gi(n),hi(n,1),1===di(n,1))){r=3!==r?8:12;for(var i=0;i<r;i++)1===di(n,1)&&yi(n,6>i?16:64)}if(gi(n),0===(r=mi(n)))mi(n);else if(1===r)for(hi(n,1),gi(n),gi(n),r=mi(n),i=0;i<r;i++)gi(n);gi(n),hi(n,1),r=mi(n);var o=mi(n),a=di(n,1);0===a&&hi(n,1),hi(n,1);var s=i=0,u=0,c=0;return 1===di(n,1)&&(i=mi(n),s=mi(n),u=mi(n),c=mi(n)),n=(2-a)*(o+1)*16-2*u-2*c,r=16*(r+1)-2*i-2*s,i=[],e=e.La,i.push(e.byteLength>>>8&255),i.push(255&e.byteLength),i=i.concat.apply(i,f(e)),e=[],t=t.La,e.push(t.byteLength>>>8&255),e.push(255&t.byteLength),e=e.concat.apply(e,f(t)),{height:n,width:r,ga:t=new Uint8Array([1,i[3],i[4],i[5],255,225].concat(i,[1],e))}}(c);if(!v||null==u)throw new Yt(2,3,3018);e.height=v.height,e.width=v.width,n={id:e.id,type:"video",codecs:"avc1",encrypted:e.encrypted&&0<e.drmInfos.length,timescale:9e4,duration:r,xa:[],Y:new Uint8Array([]),ga:v.ga,data:{Ua:this.g,baseMediaDecodeTime:u,wa:s},stream:e}}n&&(t.push(n),n=null)}if("audio"==i){switch(a.audio){case"aac":for(var b,w=[],E=null,T=l(o.jb()),x=T.next();!x.done;x=T.next()){var A=x.value,S=A.data;if(S){if(!(b=kd(S,o=0)))throw new Yt(2,3,3018);for(e.audioSamplingRate=b.sampleRate,e.channelsCount=b.channelCount,null==E&&null!==A.pts&&(E=A.pts);o<S.length;){var _=Cd(S,o);if(_){var O=_.Lc+_.M;o+O<=S.length&&w.push({data:S.subarray(o+_.Lc,o+O),size:_.M,duration:1024,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=O}else o++}}}if(!b||null==E)throw new Yt(2,3,3018);var R=b.sampleRate;o=E/9e4*R,n={id:e.id,type:"audio",codecs:b.Bc,encrypted:e.encrypted&&0<e.drmInfos.length,timescale:R,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:o,wa:w},stream:e};break;case"ac3":E=[],b=0,w=new Uint8Array([]),R=null;for(var C=l(o.jb()),k=C.next();!k.done;k=C.next()){var N=k.value,I=N.data;for(null==R&&null!==N.pts&&(R=N.pts),o=0;o<I.length;){var P=Pd(I,o);P?(e.audioSamplingRate=P.sampleRate,e.channelsCount=P.channelCount,b=P.sampleRate,w=P.Y,E.push({data:I.subarray(o,o+P.M),size:P.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=P.M):o++}}if(0==b||0==w.byteLength||null==R)throw new Yt(2,3,3018);o=R/9e4*b,n={id:e.id,type:"audio",codecs:"ac-3",encrypted:e.encrypted&&0<e.drmInfos.length,timescale:b,duration:r,xa:[],Y:w,ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:o,wa:E},stream:e};break;case"ec3":w=[],b=0,E=new Uint8Array([]),R=null;for(var L=l(o.jb()),M=L.next();!M.done;M=L.next()){var j=M.value,D=j.data;for(null==R&&null!==j.pts&&(R=j.pts),o=0;o<D.length;){var B=jd(D,o);B?(e.audioSamplingRate=B.sampleRate,e.channelsCount=B.channelCount,b=B.sampleRate,E=B.Y,w.push({data:D.subarray(o,o+B.M),size:B.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=B.M):o++}}if(0==b||0==E.byteLength||null==R)throw new Yt(2,3,3018);o=R/9e4*b,n={id:e.id,type:"audio",codecs:"ec-3",encrypted:e.encrypted&&0<e.drmInfos.length,timescale:b,duration:r,xa:[],Y:E,ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:o,wa:w},stream:e};break;case"mp3":var U;w=[],E=null;for(var F=l(o.jb()),H=F.next();!H.done;H=F.next()){var V=H.value,G=V.data;if(G)for(null==E&&null!==V.pts&&(E=V.pts),o=0;o<G.length;){var q=Fd(G,o);q?(U||(U=q),o+q.M<=G.length&&w.push({data:G.subarray(o,o+q.M),size:q.M,duration:1152,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=q.M):o++}}if(!U||null==E)throw new Yt(2,3,3018);var z=U.sampleRate;o=E/9e4*z,n={id:e.id,type:"audio",codecs:"mp3",encrypted:e.encrypted&&0<e.drmInfos.length,timescale:z,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:o,wa:w},stream:e}}n&&t.push(n)}}catch(K){return Promise.reject(K)}return t.length?(t=new Sc(t),this.h.has(e.id)?r=this.h.get(e.id):(r=t.initSegment(),this.h.set(e.id,r)),e=Cc(t),this.g++,e=Ii(r,e),Promise.resolve(e)):Promise.reject(new Yt(2,3,3018))},F("shaka.transmuxer.TsTransmuxer",Qd),Qd.prototype.transmux=Qd.prototype.transmux,Qd.prototype.getOrginalMimeType=Qd.prototype.getOrginalMimeType,Qd.prototype.convertCodecs=Qd.prototype.convertCodecs,Qd.prototype.isSupported=Qd.prototype.isSupported,Qd.prototype.destroy=Qd.prototype.destroy;var tp,ep,np=["aac","ac-3","ec-3","mp3"],rp=["avc"];function ip(){}function op(){tp?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(tp=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=ap):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function ap(t,e){var n,r=this;return I((function(i){return 1==i.g?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),E(i,tp.call(r,t,e),2)):mp(n=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=tp,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=sp,i.return(sp.call(r,t,e)))}))}function sp(t,e){var n,r,i,o,a,s,u,c,f,h,d=this;return I((function(p){if(1==p.g){for(console.assert(d==navigator,'bad "this" for requestMediaKeySystemAccess'),n=gp(t),r=[],i=l(e),o=i.next();!o.done;o=i.next())a=o.value,s=up(a.videoCapabilities,n),u=up(a.audioCapabilities,n),a.videoCapabilities&&a.videoCapabilities.length&&!s.length||a.audioCapabilities&&a.audioCapabilities.length&&!u.length||((c=Object.assign({},a)).videoCapabilities=s,c.audioCapabilities=u,r.push(c));if(!r.length)throw(f=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",f.code=DOMException.NOT_SUPPORTED_ERR,f;return E(p,tp.call(d,t,r),2)}return h=p.h,p.return(new pp(h,n))}))}function up(t,e){return t?t.filter((function(t){return!t.encryptionScheme||t.encryptionScheme==e})):t}function cp(){}function lp(){ep?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(ep=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=fp):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function fp(t){var e,n,r,i=this;return I((function(o){switch(o.g){case 1:return console.assert(i==navigator.mediaCapabilities,'bad "this" for decodingInfo'),E(o,ep.call(i,t),2);case 2:if(e=o.h,!t.keySystemConfiguration)return o.return(e);if((n=e.keySystemAccess)&&mp(n))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=ep,o.return(e);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=hp,n){o.B(3);break}return r=e,E(o,dp(t),4);case 4:return r.keySystemAccess=o.h,o.return(e);case 3:return o.return(hp.call(i,t))}}))}function hp(t){var e,n,r,i,o,a,s,u,c=this;return I((function(l){switch(l.g){case 1:return console.assert(c==navigator.mediaCapabilities,'bad "this" for decodingInfo'),e=null,t.keySystemConfiguration&&(n=t.keySystemConfiguration,r=n.keySystem,i=n.audio&&n.audio.encryptionScheme,o=n.video&&n.video.encryptionScheme,e=gp(r),a={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:t},i&&i!=e||o&&o!=e)?l.return(a):E(l,ep.call(c,t),2);case 2:if((s=l.h).keySystemAccess){s.keySystemAccess=new pp(s.keySystemAccess,e),l.B(3);break}if(!t.keySystemConfiguration){l.B(3);break}return u=s,E(l,dp(t),5);case 5:u.keySystemAccess=l.h;case 3:return l.return(s)}}))}function dp(t){var e,n;return I((function(r){if(1==r.g){var i=t.keySystemConfiguration,o=[],a=[];return i.audio&&o.push({robustness:i.audio.robustness||"",contentType:t.audio.contentType}),i.video&&a.push({robustness:i.video.robustness||"",contentType:t.video.contentType}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},o.length&&(i.audioCapabilities=o),a.length&&(i.videoCapabilities=a),e=i,E(r,navigator.requestMediaKeySystemAccess(t.keySystemConfiguration.keySystem,[e]),2)}return n=r.h,r.return(n)}))}function pp(t,e){this.h=t,this.g=e,this.keySystem=t.keySystem}function gp(t){return t.startsWith("com.widevine")||t.startsWith("com.microsoft")||t.startsWith("com.chromecast")||t.startsWith("com.adobe")||t.startsWith("org.w3")?"cenc":t.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",t,"Please contribute!"),null)}function mp(t){var e=(t=t.getConfiguration()).audioCapabilities&&t.audioCapabilities[0];return!(!(t=t.videoCapabilities&&t.videoCapabilities[0]||e)||void 0===t.encryptionScheme)}function yp(){}function vp(){op(),lp()}Ot("video/mp2t",(function(){return new Qd("video/mp2t")}),It),F("EmeEncryptionSchemePolyfill",ip),ip.install=op,F("McEncryptionSchemePolyfill",cp),cp.install=lp,pp.prototype.getConfiguration=function(){var t=this.h.getConfiguration();if(t.videoCapabilities)for(var e=l(t.videoCapabilities),n=e.next();!n.done;n=e.next())n.value.encryptionScheme=this.g;if(t.audioCapabilities)for(n=(e=l(t.audioCapabilities)).next();!n.done;n=e.next())n.value.encryptionScheme=this.g;return t},pp.prototype.createMediaKeys=function(){return this.h.createMediaKeys()},F("EncryptionSchemePolyfills",yp),yp.install=vp,void 0!==n&&n.exports&&(n.exports=yp)}.call(r,t,t,void 0),r.shaka)e[i]=r.shaka[i]}()},23278:(t,e,n)=>{"use strict";function r(t,e){var n=e&&e.cache?e.cache:l,r=e&&e.serializer?e.serializer:u;return(e&&e.strategy?e.strategy:s)(t,{cache:n,serializer:r})}function i(t,e,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=e.get(o);return void 0===a&&(a=t.call(this,r),e.set(o,a)),a}function o(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=e.get(i);return void 0===o&&(o=t.apply(this,r),e.set(i,o)),o}function a(t,e,n,r,i){return n.bind(e,t,r,i)}function s(t,e){return a(t,this,1===t.length?i:o,e.cache.create(),e.serializer)}n.d(e,{A:()=>f,H:()=>r});var u=function(){return JSON.stringify(arguments)};function c(){this.cache=Object.create(null)}c.prototype.get=function(t){return this.cache[t]},c.prototype.set=function(t,e){this.cache[t]=e};var l={create:function(){return new c}},f={variadic:function(t,e){return a(t,this,o,e.cache.create(),e.serializer)},monadic:function(t,e){return a(t,this,i,e.cache.create(),e.serializer)}}},264100:(t,e,n)=>{"use strict";n.d(e,{T:()=>i});var r=n(216386);function i(t,e){for(var n="",r=0;r<t.length;r++){var i=t.charAt(r);if("j"===i){for(var a=0;r+1<t.length&&t.charAt(r+1)===i;)a++,r++;var s=1+(1&a),u=a<2?1:3+(a>>1),c=o(e);for("H"!=c&&"k"!=c||(u=0);u-- >0;)n+="a";for(;s-- >0;)n=c+n}else n+="J"===i?"H":i}return n}function o(t){var e=t.hourCycle;if(void 0===e&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,i=t.language;return"root"!==i&&(n=t.maximize().region),(r._[n||""]||r._[i||""]||r._["".concat(i,"-001")]||r._["001"])[0]}},853219:(t,e,n)=>{"use strict";var r;n.d(e,{o:()=>r}),function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(r||(r={}))},363014:(t,e,n)=>{"use strict";n.d(e,{HI:()=>a.HI,Ii:()=>a.Ii,Jo:()=>a.Jo,O4:()=>a.O4,Qc:()=>u,VG:()=>a.VG,Wh:()=>a.Wh,Wi:()=>a.Wi,pe:()=>a.pe,rp:()=>a.rp,uf:()=>a.uf,yx:()=>a.yx});var r=n(240236),i=n(853219),o=n(655697),a=n(823511);function s(t){t.forEach((function(t){if(delete t.location,(0,a.Wi)(t)||(0,a.Jo)(t))for(var e in t.options)delete t.options[e].location,s(t.options[e].value);else(0,a.uf)(t)&&(0,a.Wh)(t.style)||((0,a.rp)(t)||(0,a.pe)(t))&&(0,a.Ii)(t.style)?delete t.style.location:(0,a.HI)(t)&&s(t.children)}))}function u(t,e){void 0===e&&(e={}),e=(0,r.pi)({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new o._(t,e).parse();if(n.err){var a=SyntaxError(i.o[n.err.kind]);throw a.location=n.err.location,a.originalMessage=n.err.message,a}return(null==e?void 0:e.captureLocation)||s(n.val),n.val}o._},655697:(t,e,n)=>{"use strict";n.d(e,{_:()=>N});var r,i=n(240236),o=n(853219),a=n(823511),s=n(846500),u=n(473767),c=n(989558),l=n(264100),f=new RegExp("^".concat(s.p.source,"*")),h=new RegExp("".concat(s.p.source,"*$"));function d(t,e){return{start:t,end:e}}var p=!!String.prototype.startsWith&&"_a".startsWith("a",1),g=!!String.fromCodePoint,m=!!Object.fromEntries,y=!!String.prototype.codePointAt,v=!!String.prototype.trimStart,b=!!String.prototype.trimEnd,w=!!Number.isSafeInteger?Number.isSafeInteger:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},E=!0;try{E="a"===(null===(r=C("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===r?void 0:r[0])}catch(M){E=!1}var T,x=p?function(t,e,n){return t.startsWith(e,n)}:function(t,e,n){return t.slice(n,n+e.length)===e},A=g?String.fromCodePoint:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r="",i=t.length,o=0;i>o;){if((n=t[o++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},S=m?Object.fromEntries:function(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n],o=i[0],a=i[1];e[o]=a}return e},_=y?function(t,e){return t.codePointAt(e)}:function(t,e){var n=t.length;if(!(e<0||e>=n)){var r,i=t.charCodeAt(e);return i<55296||i>56319||e+1===n||(r=t.charCodeAt(e+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},O=v?function(t){return t.trimStart()}:function(t){return t.replace(f,"")},R=b?function(t){return t.trimEnd()}:function(t){return t.replace(h,"")};function C(t,e){return new RegExp(t,e)}if(E){var k=C("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");T=function(t,e){var n;return k.lastIndex=e,null!==(n=k.exec(t)[1])&&void 0!==n?n:""}}else T=function(t,e){for(var n=[];;){var r=_(t,e);if(void 0===r||P(r)||L(r))break;n.push(r),e+=r>=65536?2:1}return A.apply(void 0,n)};var N=function(){function t(t,e){void 0===e&&(e={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!e.ignoreTag,this.locale=e.locale,this.requiresOtherClause=!!e.requiresOtherClause,this.shouldParseSkeletons=!!e.shouldParseSkeletons}return t.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(t,e,n){for(var r=[];!this.isEOF();){var i=this.char();if(123===i){if((s=this.parseArgument(t,n)).err)return s;r.push(s.val)}else{if(125===i&&t>0)break;if(35!==i||"plural"!==e&&"selectordinal"!==e){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(o.o.UNMATCHED_CLOSING_TAG,d(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&I(this.peek()||0)){if((s=this.parseTag(t,e)).err)return s;r.push(s.val)}else{var s;if((s=this.parseLiteral(t,e)).err)return s;r.push(s.val)}}else{var u=this.clonePosition();this.bump(),r.push({type:a.wD.pound,location:d(u,this.clonePosition())})}}}return{val:r,err:null}},t.prototype.parseTag=function(t,e){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:a.wD.literal,value:"<".concat(r,"/>"),location:d(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(t+1,e,!0);if(i.err)return i;var s=i.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!I(this.char()))return this.error(o.o.INVALID_TAG,d(u,this.clonePosition()));var c=this.clonePosition();return r!==this.parseTagName()?this.error(o.o.UNMATCHED_CLOSING_TAG,d(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:a.wD.tag,value:r,children:s,location:d(n,this.clonePosition())},err:null}:this.error(o.o.INVALID_TAG,d(u,this.clonePosition())))}return this.error(o.o.UNCLOSED_TAG,d(n,this.clonePosition()))}return this.error(o.o.INVALID_TAG,d(n,this.clonePosition()))},t.prototype.parseTagName=function(){var t,e=this.offset();for(this.bump();!this.isEOF()&&(45===(t=this.char())||46===t||t>=48&&t<=57||95===t||t>=97&&t<=122||t>=65&&t<=90||183==t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039);)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(t,e){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(e);if(i)r+=i;else{var o=this.tryParseUnquoted(t,e);if(o)r+=o;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var u=d(n,this.clonePosition());return{val:{type:a.wD.literal,value:r,location:u},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(I(t=this.peek()||0)||47===t)?null:(this.bump(),"<");var t},t.prototype.tryParseQuote=function(t){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===t||"selectordinal"===t)break;return null;default:return null}this.bump();var e=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}e.push(39),this.bump()}else e.push(n);this.bump()}return A.apply(void 0,e)},t.prototype.tryParseUnquoted=function(t,e){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===e||"selectordinal"===e)||125===n&&t>0?null:(this.bump(),A(n))},t.prototype.parseArgument=function(t,e){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(o.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(o.o.EMPTY_ARGUMENT,d(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(o.o.MALFORMED_ARGUMENT,d(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(o.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:a.wD.argument,value:r,location:d(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(o.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(n,this.clonePosition())):this.parseArgumentOptions(t,e,r,n);default:return this.error(o.o.MALFORMED_ARGUMENT,d(n,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),e=this.offset(),n=T(this.message,e),r=e+n.length;return this.bumpTo(r),{value:n,location:d(t,this.clonePosition())}},t.prototype.parseArgumentOptions=function(t,e,n,r){var s,c=this.clonePosition(),f=this.parseIdentifierIfPossible().value,h=this.clonePosition();switch(f){case"":return this.error(o.o.EXPECT_ARGUMENT_TYPE,d(c,h));case"number":case"date":case"time":this.bumpSpace();var p=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition();if((A=this.parseSimpleArgStyleIfPossible()).err)return A;if(0===(b=R(A.val)).length)return this.error(o.o.EXPECT_ARGUMENT_STYLE,d(this.clonePosition(),this.clonePosition()));p={style:b,styleLocation:d(g,this.clonePosition())}}if((_=this.tryParseArgumentClose(r)).err)return _;var m=d(r,this.clonePosition());if(p&&x(null==p?void 0:p.style,"::",0)){var y=O(p.style.slice(2));if("number"===f)return(A=this.parseNumberSkeletonFromString(y,p.styleLocation)).err?A:{val:{type:a.wD.number,value:n,location:m,style:A.val},err:null};if(0===y.length)return this.error(o.o.EXPECT_DATE_TIME_SKELETON,m);var v=y;this.locale&&(v=(0,l.T)(y,this.locale));var b={type:a.aV.dateTime,pattern:v,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?(0,u.T)(v):{}};return{val:{type:"date"===f?a.wD.date:a.wD.time,value:n,location:m,style:b},err:null}}return{val:{type:"number"===f?a.wD.number:"date"===f?a.wD.date:a.wD.time,value:n,location:m,style:null!==(s=null==p?void 0:p.style)&&void 0!==s?s:null},err:null};case"plural":case"selectordinal":case"select":var w=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(o.o.EXPECT_SELECT_ARGUMENT_OPTIONS,d(w,(0,i.pi)({},w)));this.bumpSpace();var E=this.parseIdentifierIfPossible(),T=0;if("select"!==f&&"offset"===E.value){if(!this.bumpIf(":"))return this.error(o.o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,d(this.clonePosition(),this.clonePosition()));var A;if(this.bumpSpace(),(A=this.tryParseDecimalInteger(o.o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,o.o.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return A;this.bumpSpace(),E=this.parseIdentifierIfPossible(),T=A.val}var _,C=this.tryParsePluralOrSelectOptions(t,f,e,E);if(C.err)return C;if((_=this.tryParseArgumentClose(r)).err)return _;var k=d(r,this.clonePosition());return"select"===f?{val:{type:a.wD.select,value:n,options:S(C.val),location:k},err:null}:{val:{type:a.wD.plural,value:n,options:S(C.val),offset:T,pluralType:"plural"===f?"cardinal":"ordinal",location:k},err:null};default:return this.error(o.o.INVALID_ARGUMENT_TYPE,d(c,h))}},t.prototype.tryParseArgumentClose=function(t){return this.isEOF()||125!==this.char()?this.error(o.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,e=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(o.o.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,d(n,this.clonePosition()));this.bump();break;case 123:t+=1,this.bump();break;case 125:if(!(t>0))return{val:this.message.slice(e.offset,this.offset()),err:null};t-=1;break;default:this.bump()}}return{val:this.message.slice(e.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(t,e){var n=[];try{n=(0,c.O)(t)}catch(r){return this.error(o.o.INVALID_NUMBER_SKELETON,e)}return{val:{type:a.aV.number,tokens:n,location:e,parsedOptions:this.shouldParseSkeletons?(0,c.I)(n):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(t,e,n,r){for(var i,a=!1,s=[],u=new Set,c=r.value,l=r.location;;){if(0===c.length){var f=this.clonePosition();if("select"===e||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(o.o.EXPECT_PLURAL_ARGUMENT_SELECTOR,o.o.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;l=d(f,this.clonePosition()),c=this.message.slice(f.offset,this.offset())}if(u.has(c))return this.error("select"===e?o.o.DUPLICATE_SELECT_ARGUMENT_SELECTOR:o.o.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===c&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===e?o.o.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:o.o.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,d(this.clonePosition(),this.clonePosition()));var g=this.parseMessage(t+1,e,n);if(g.err)return g;var m=this.tryParseArgumentClose(p);if(m.err)return m;s.push([c,{value:g.val,location:d(p,this.clonePosition())}]),u.add(c),this.bumpSpace(),c=(i=this.parseIdentifierIfPossible()).value,l=i.location}return 0===s.length?this.error("select"===e?o.o.EXPECT_SELECT_ARGUMENT_SELECTOR:o.o.EXPECT_PLURAL_ARGUMENT_SELECTOR,d(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(o.o.MISSING_OTHER_CLAUSE,d(this.clonePosition(),this.clonePosition())):{val:s,err:null}},t.prototype.tryParseDecimalInteger=function(t,e){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,o=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;i=!0,o=10*o+(a-48),this.bump()}var s=d(r,this.clonePosition());return i?w(o*=n)?{val:o,err:null}:this.error(e,s):this.error(t,s)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var e=_(this.message,t);if(void 0===e)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return e},t.prototype.error=function(t,e){return{val:null,err:{kind:t,message:this.message,location:e}}},t.prototype.bump=function(){if(!this.isEOF()){var t=this.char();10===t?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},t.prototype.bumpIf=function(t){if(x(this.message,t,this.offset())){for(var e=0;e<t.length;e++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(t){var e=this.offset(),n=this.message.indexOf(t,e);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var e=this.offset();if(e===t)break;if(e>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&P(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),e=this.offset(),n=this.message.charCodeAt(e+(t>=65536?2:1));return null!=n?n:null},t}();function I(t){return t>=97&&t<=122||t>=65&&t<=90}function P(t){return t>=9&&t<=13||32===t||133===t||t>=8206&&t<=8207||8232===t||8233===t}function L(t){return t>=33&&t<=35||36===t||t>=37&&t<=39||40===t||41===t||42===t||43===t||44===t||45===t||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||91===t||92===t||93===t||94===t||96===t||123===t||124===t||125===t||126===t||161===t||t>=162&&t<=165||166===t||167===t||169===t||171===t||172===t||174===t||176===t||177===t||182===t||187===t||191===t||215===t||247===t||t>=8208&&t<=8213||t>=8214&&t<=8215||8216===t||8217===t||8218===t||t>=8219&&t<=8220||8221===t||8222===t||8223===t||t>=8224&&t<=8231||t>=8240&&t<=8248||8249===t||8250===t||t>=8251&&t<=8254||t>=8257&&t<=8259||8260===t||8261===t||8262===t||t>=8263&&t<=8273||8274===t||8275===t||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||8608===t||t>=8609&&t<=8610||8611===t||t>=8612&&t<=8613||8614===t||t>=8615&&t<=8621||8622===t||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||8658===t||8659===t||8660===t||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||8968===t||8969===t||8970===t||8971===t||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||9001===t||9002===t||t>=9003&&t<=9083||9084===t||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||9655===t||t>=9656&&t<=9664||9665===t||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||9839===t||t>=9840&&t<=10087||10088===t||10089===t||10090===t||10091===t||10092===t||10093===t||10094===t||10095===t||10096===t||10097===t||10098===t||10099===t||10100===t||10101===t||t>=10132&&t<=10175||t>=10176&&t<=10180||10181===t||10182===t||t>=10183&&t<=10213||10214===t||10215===t||10216===t||10217===t||10218===t||10219===t||10220===t||10221===t||10222===t||10223===t||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||10627===t||10628===t||10629===t||10630===t||10631===t||10632===t||10633===t||10634===t||10635===t||10636===t||10637===t||10638===t||10639===t||10640===t||10641===t||10642===t||10643===t||10644===t||10645===t||10646===t||10647===t||10648===t||t>=10649&&t<=10711||10712===t||10713===t||10714===t||10715===t||t>=10716&&t<=10747||10748===t||10749===t||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||11158===t||t>=11159&&t<=11263||t>=11776&&t<=11777||11778===t||11779===t||11780===t||11781===t||t>=11782&&t<=11784||11785===t||11786===t||11787===t||11788===t||11789===t||t>=11790&&t<=11798||11799===t||t>=11800&&t<=11801||11802===t||11803===t||11804===t||11805===t||t>=11806&&t<=11807||11808===t||11809===t||11810===t||11811===t||11812===t||11813===t||11814===t||11815===t||11816===t||11817===t||t>=11818&&t<=11822||11823===t||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||11840===t||11841===t||11842===t||t>=11843&&t<=11855||t>=11856&&t<=11857||11858===t||t>=11859&&t<=11903||t>=12289&&t<=12291||12296===t||12297===t||12298===t||12299===t||12300===t||12301===t||12302===t||12303===t||12304===t||12305===t||t>=12306&&t<=12307||12308===t||12309===t||12310===t||12311===t||12312===t||12313===t||12314===t||12315===t||12316===t||12317===t||t>=12318&&t<=12319||12320===t||12336===t||64830===t||64831===t||t>=65093&&t<=65094}},846500:(t,e,n)=>{"use strict";n.d(e,{p:()=>r});var r=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},216386:(t,e,n)=>{"use strict";n.d(e,{_:()=>r});var r={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]}},823511:(t,e,n)=>{"use strict";var r,i;function o(t){return t.type===r.literal}function a(t){return t.type===r.argument}function s(t){return t.type===r.number}function u(t){return t.type===r.date}function c(t){return t.type===r.time}function l(t){return t.type===r.select}function f(t){return t.type===r.plural}function h(t){return t.type===r.pound}function d(t){return t.type===r.tag}function p(t){return!(!t||"object"!=typeof t||t.type!==i.number)}function g(t){return!(!t||"object"!=typeof t||t.type!==i.dateTime)}n.d(e,{HI:()=>d,Ii:()=>g,Jo:()=>f,O4:()=>o,VG:()=>a,Wh:()=>p,Wi:()=>l,aV:()=>i,pe:()=>c,rp:()=>u,uf:()=>s,wD:()=>r,yx:()=>h}),function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"}(r||(r={})),function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"}(i||(i={}))},473767:(t,e,n)=>{"use strict";n.d(e,{T:()=>i});var r=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function i(t){var e={};return t.replace(r,(function(t){var n=t.length;switch(t[0]){case"G":e.era=4===n?"long":5===n?"narrow":"short";break;case"y":e.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=4===n?"long":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][n-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][n-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][n-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][n-1];break;case"s":e.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),e}},989558:(t,e,n)=>{"use strict";n.d(e,{I:()=>p,O:()=>o});var r=n(240236),i=n(234105);function o(t){if(0===t.length)throw new Error("Number skeleton cannot be empty");for(var e=[],n=0,r=t.split(i.r).filter((function(t){return t.length>0}));n<r.length;n++){var o=r[n].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var a=o[0],s=o.slice(1),u=0,c=s;u<c.length;u++){if(0===c[u].length)throw new Error("Invalid number skeleton")}e.push({stem:a,options:s})}return e}var a=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,s=/^(@+)?(\+|#+)?[rs]?$/g,u=/(\*)(0+)|(#+)(0+)|(0+)/g,c=/^(0+)$/;function l(t){var e={};return"r"===t[t.length-1]?e.roundingPriority="morePrecision":"s"===t[t.length-1]&&(e.roundingPriority="lessPrecision"),t.replace(s,(function(t,n,r){return"string"!=typeof r?(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length):"+"===r?e.minimumSignificantDigits=n.length:"#"===n[0]?e.maximumSignificantDigits=n.length:(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),e}function f(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function h(t){var e;if("E"===t[0]&&"E"===t[1]?(e={notation:"engineering"},t=t.slice(2)):"E"===t[0]&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if("+!"===n?(e.signDisplay="always",t=t.slice(2)):"+?"===n&&(e.signDisplay="exceptZero",t=t.slice(2)),!c.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function d(t){var e=f(t);return e||{}}function p(t){for(var e={},n=0,i=t;n<i.length;n++){var o=i[n];switch(o.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=o.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=(0,r.pi)((0,r.pi)((0,r.pi)({},e),{notation:"scientific"}),o.options.reduce((function(t,e){return(0,r.pi)((0,r.pi)({},t),d(e))}),{}));continue;case"engineering":e=(0,r.pi)((0,r.pi)((0,r.pi)({},e),{notation:"engineering"}),o.options.reduce((function(t,e){return(0,r.pi)((0,r.pi)({},t),d(e))}),{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(o.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(u,(function(t,n,r,i,o,a){if(n)e.minimumIntegerDigits=r.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(c.test(o.stem))e.minimumIntegerDigits=o.stem.length;else if(a.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(a,(function(t,n,r,i,o,a){return"*"===r?e.minimumFractionDigits=n.length:i&&"#"===i[0]?e.maximumFractionDigits=i.length:o&&a?(e.minimumFractionDigits=o.length,e.maximumFractionDigits=o.length+a.length):(e.minimumFractionDigits=n.length,e.maximumFractionDigits=n.length),""}));var p=o.options[0];"w"===p?e=(0,r.pi)((0,r.pi)({},e),{trailingZeroDisplay:"stripIfInteger"}):p&&(e=(0,r.pi)((0,r.pi)({},e),l(p)))}else if(s.test(o.stem))e=(0,r.pi)((0,r.pi)({},e),l(o.stem));else{var g=f(o.stem);g&&(e=(0,r.pi)((0,r.pi)({},e),g));var m=h(o.stem);m&&(e=(0,r.pi)((0,r.pi)({},e),m))}}return e}},234105:(t,e,n)=>{"use strict";n.d(e,{r:()=>r});var r=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i},358579:(t,e)=>{"use strict";e.Z=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 2===t.length?r(t[0],t[1])||null:t.slice(1).reduce((function(t,e){return r(t,e)}),t[0])||null};var n=new WeakMap;function r(t,e){if(t&&e){var r=n.get(t)||new WeakMap;n.set(t,r);var o=r.get(e)||function(n){i(t,n),i(e,n)};return r.set(e,o),o}return t||e}function i(t,e){"function"==typeof t?t(e):t.current=e}},741635:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(512910);function i(t,e){t.classList?t.classList.add(e):(0,r.Z)(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}},512910:(t,e,n)=>{"use strict";function r(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}n.d(e,{Z:()=>r})},139741:(t,e,n)=>{"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}n.d(e,{Z:()=>i})},172931:(t,e,n)=>{"use strict";n.d(e,{lX:()=>y});var r=n(110519),i=n(473124),o=(n(83780),n(196750));function a(t){return"/"===t.charAt(0)?t:"/"+t}function s(t,e){return function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)}(t,e)?t.substr(e.length):t}function u(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function c(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function l(t,e,n,o){var a;"string"==typeof t?(a=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t),a.state=e):(void 0===(a=(0,r.Z)({},t)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==e&&void 0===a.state&&(a.state=e));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),o?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.Z)(a.pathname,o.pathname)):a.pathname=o.pathname:a.pathname||(a.pathname="/"),a}function f(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"==typeof t?t(e,n):t;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var h=!("undefined"==typeof window||!window.document||!window.document.createElement);function d(t,e){e(window.confirm(t))}var p="popstate",g="hashchange";function m(){try{return window.history.state||{}}catch(t){return{}}}function y(t){void 0===t&&(t={}),h||(0,o.Z)(!1);var e,n=window.history,i=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,y=!(-1===window.navigator.userAgent.indexOf("Trident")),v=t,b=v.forceRefresh,w=void 0!==b&&b,E=v.getUserConfirmation,T=void 0===E?d:E,x=v.keyLength,A=void 0===x?6:x,S=t.basename?u(a(t.basename)):"";function _(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return S&&(o=s(o,S)),l(o,r,n)}function O(){return Math.random().toString(36).substr(2,A)}var R=f();function C(t){(0,r.Z)(H,t),H.length=n.length,R.notifyListeners(H.location,H.action)}function k(t){(function(t){void 0===t.state&&navigator.userAgent.indexOf("CriOS")})(t)||P(_(t.state))}function N(){P(_(m()))}var I=!1;function P(t){if(I)I=!1,C();else{R.confirmTransitionTo(t,"POP",T,(function(e){e?C({action:"POP",location:t}):function(t){var e=H.location,n=M.indexOf(e.key);-1===n&&(n=0);var r=M.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(I=!0,D(i))}(t)}))}}var L=_(m()),M=[L.key];function j(t){return S+c(t)}function D(t){n.go(t)}var B=0;function U(t){1===(B+=t)&&1===t?(window.addEventListener(p,k),y&&window.addEventListener(g,N)):0===B&&(window.removeEventListener(p,k),y&&window.removeEventListener(g,N))}var F=!1;var H={length:n.length,action:"POP",location:L,createHref:j,push:function(t,e){var r="PUSH",o=l(t,e,O(),H.location);R.confirmTransitionTo(o,r,T,(function(t){if(t){var e=j(o),a=o.key,s=o.state;if(i)if(n.pushState({key:a,state:s},null,e),w)window.location.href=e;else{var u=M.indexOf(H.location.key),c=M.slice(0,-1===u?0:u+1);c.push(o.key),M=c,C({action:r,location:o})}else window.location.href=e}}))},replace:function(t,e){var r="REPLACE",o=l(t,e,O(),H.location);R.confirmTransitionTo(o,r,T,(function(t){if(t){var e=j(o),a=o.key,s=o.state;if(i)if(n.replaceState({key:a,state:s},null,e),w)window.location.replace(e);else{var u=M.indexOf(H.location.key);-1!==u&&(M[u]=o.key),C({action:r,location:o})}else window.location.replace(e)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(t){void 0===t&&(t=!1);var e=R.setPrompt(t);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),e()}},listen:function(t){var e=R.appendListener(t);return U(1),function(){U(-1),e()}}};return H}},425568:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>r});const r=n(33976).C},33976:(t,e,n)=>{"use strict";n.d(e,{C:()=>c});var r=n(240236),i=n(363014),o=n(23278),a=n(15810);function s(t,e){return e?Object.keys(t).reduce((function(n,i){var o,a;return n[i]=(o=t[i],(a=e[i])?(0,r.pi)((0,r.pi)((0,r.pi)({},o||{}),a||{}),Object.keys(o).reduce((function(t,e){return t[e]=(0,r.pi)((0,r.pi)({},o[e]),a[e]||{}),t}),{})):o),n}),(0,r.pi)({},t)):t}function u(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}var c=function(){function t(e,n,i,c){var l,f=this;if(void 0===n&&(n=t.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(t){var e=f.formatToParts(t);if(1===e.length)return e[0].value;var n=e.reduce((function(t,e){return t.length&&e.type===a.du.literal&&"string"==typeof t[t.length-1]?t[t.length-1]+=e.value:t.push(e.value),t}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(t){return(0,a.FK)(f.ast,f.locales,f.formatters,f.formats,t,void 0,f.message)},this.resolvedOptions=function(){var t;return{locale:(null===(t=f.resolvedLocale)||void 0===t?void 0:t.toString())||Intl.NumberFormat.supportedLocalesOf(f.locales)[0]}},this.getAst=function(){return f.ast},this.locales=n,this.resolvedLocale=t.resolveLocale(n),"string"==typeof e){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var h=c||{},d=(h.formatters,(0,r._T)(h,["formatters"]));this.ast=t.__parse(e,(0,r.pi)((0,r.pi)({},d),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=s(t.formats,i),this.formatters=c&&c.formatters||(void 0===(l=this.formatterCache)&&(l={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,o.H)((function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new((t=Intl.NumberFormat).bind.apply(t,(0,r.ev)([void 0],e,!1)))}),{cache:u(l.number),strategy:o.A.variadic}),getDateTimeFormat:(0,o.H)((function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new((t=Intl.DateTimeFormat).bind.apply(t,(0,r.ev)([void 0],e,!1)))}),{cache:u(l.dateTime),strategy:o.A.variadic}),getPluralRules:(0,o.H)((function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new((t=Intl.PluralRules).bind.apply(t,(0,r.ev)([void 0],e,!1)))}),{cache:u(l.pluralRules),strategy:o.A.variadic})})}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(t){if(void 0!==Intl.Locale){var e=Intl.NumberFormat.supportedLocalesOf(t);return e.length>0?new Intl.Locale(e[0]):new Intl.Locale("string"==typeof t?t:t[0])}},t.__parse=i.Qc,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}()},953836:(t,e,n)=>{"use strict";n.d(e,{C8:()=>a,HR:()=>u,YR:()=>s,jK:()=>r,u_:()=>o});var r,i=n(240236);!function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"}(r||(r={}));var o=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.code=n,i.originalMessage=r,i}return(0,i.ZT)(e,t),e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),a=function(t){function e(e,n,i,o){return t.call(this,'Invalid values for "'.concat(e,'": "').concat(n,'". Options are "').concat(Object.keys(i).join('", "'),'"'),r.INVALID_VALUE,o)||this}return(0,i.ZT)(e,t),e}(o),s=function(t){function e(e,n,i){return t.call(this,'Value for "'.concat(e,'" must be of type ').concat(n),r.INVALID_VALUE,i)||this}return(0,i.ZT)(e,t),e}(o),u=function(t){function e(e,n){return t.call(this,'The intl string context variable "'.concat(e,'" was not provided to the string "').concat(n,'"'),r.MISSING_VALUE,n)||this}return(0,i.ZT)(e,t),e}(o)},15810:(t,e,n)=>{"use strict";n.d(e,{FK:()=>s,du:()=>r});var r,i=n(363014),o=n(953836);function a(t){return"function"==typeof t}function s(t,e,n,u,c,l,f){if(1===t.length&&(0,i.O4)(t[0]))return[{type:r.literal,value:t[0].value}];for(var h=[],d=0,p=t;d<p.length;d++){var g=p[d];if((0,i.O4)(g))h.push({type:r.literal,value:g.value});else if((0,i.yx)(g))"number"==typeof l&&h.push({type:r.literal,value:n.getNumberFormat(e).format(l)});else{var m=g.value;if(!c||!(m in c))throw new o.HR(m,f);var y=c[m];if((0,i.VG)(g))y&&"string"!=typeof y&&"number"!=typeof y||(y="string"==typeof y||"number"==typeof y?String(y):""),h.push({type:"string"==typeof y?r.literal:r.object,value:y});else if((0,i.rp)(g)){var v="string"==typeof g.style?u.date[g.style]:(0,i.Ii)(g.style)?g.style.parsedOptions:void 0;h.push({type:r.literal,value:n.getDateTimeFormat(e,v).format(y)})}else if((0,i.pe)(g)){v="string"==typeof g.style?u.time[g.style]:(0,i.Ii)(g.style)?g.style.parsedOptions:u.time.medium;h.push({type:r.literal,value:n.getDateTimeFormat(e,v).format(y)})}else if((0,i.uf)(g)){(v="string"==typeof g.style?u.number[g.style]:(0,i.Wh)(g.style)?g.style.parsedOptions:void 0)&&v.scale&&(y*=v.scale||1),h.push({type:r.literal,value:n.getNumberFormat(e,v).format(y)})}else{if((0,i.HI)(g)){var b=g.children,w=g.value,E=c[w];if(!a(E))throw new o.YR(w,"function",f);var T=E(s(b,e,n,u,c,l).map((function(t){return t.value})));Array.isArray(T)||(T=[T]),h.push.apply(h,T.map((function(t){return{type:"string"==typeof t?r.literal:r.object,value:t}})))}if((0,i.Wi)(g)){if(!(x=g.options[y]||g.options.other))throw new o.C8(g.value,y,Object.keys(g.options),f);h.push.apply(h,s(x.value,e,n,u,c))}else if((0,i.Jo)(g)){var x;if(!(x=g.options["=".concat(y)])){if(!Intl.PluralRules)throw new o.u_('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',o.jK.MISSING_INTL_API,f);var A=n.getPluralRules(e,{type:g.pluralType}).select(y-(g.offset||0));x=g.options[A]||g.options.other}if(!x)throw new o.C8(g.value,y,Object.keys(g.options),f);h.push.apply(h,s(x.value,e,n,u,c,y-(g.offset||0)))}else;}}}return function(t){return t.length<2?t:t.reduce((function(t,e){var n=t[t.length-1];return n&&n.type===r.literal&&e.type===r.literal?n.value+=e.value:t.push(e),t}),[])}(h)}!function(t){t[t.literal=0]="literal",t[t.object=1]="object"}(r||(r={}))},979498:t=>{"use strict";t.exports=t=>!(!t||t.length<3)&&(255===t[0]&&216===t[1]&&255===t[2])},385417:t=>{"use strict";t.exports=function(t){return!(!t||t.length<8)&&(137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7])}},635872:(t,e,n)=>{"use strict";n.d(e,{$g:()=>b,K5:()=>g,Om:()=>N,YN:()=>T,hA:()=>u,kq:()=>A,p4:()=>h,zO:()=>E});var r=n(519427),i=function(){};function o(t,e){void 0===e&&(e="Illegal state"),t||function(t){throw new Error("[mobx-utils] "+t)}(e)}var a=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(a(Object.getPrototypeOf(t))||[])},s=function(t){return function(t){var e=a(t);return e.filter((function(t,n){return e.indexOf(t)===n}))}(t).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}))},u="pending",c="fulfilled",l="rejected";function f(t){switch(this.state){case u:return t.pending&&t.pending(this.value);case l:return t.rejected&&t.rejected(this.value);case c:return t.fulfilled?t.fulfilled(this.value):this.value}}function h(t,e){if(o(arguments.length<=2,"fromPromise expects up to two arguments"),o("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"==typeof t&&(t=new Promise(t));var n=t;t.then((0,r.aD)("observableFromPromise-resolve",(function(t){n.value=t,n.state=c})),(0,r.aD)("observableFromPromise-reject",(function(t){n.value=t,n.state=l}))),n.isPromiseBasedObservable=!0,n.case=f;var i=!e||e.state!==c&&e.state!==u?void 0:e.value;return(0,r.dw)(n,{value:i,state:u},{},{deep:!1}),n}!function(t){t.reject=(0,r.aD)("fromPromise.reject",(function(e){var n=t(Promise.reject(e));return n.state=l,n.value=e,n})),t.resolve=(0,r.aD)("fromPromise.resolve",(function(e){void 0===e&&(e=void 0);var n=t(Promise.resolve(e));return n.state=c,n.value=e,n}))}(h||(h={}));function d(t,e,n){void 0===e&&(e=i),void 0===n&&(n=void 0);var a=!1,s=!1,u=n,c=function(){a&&(a=!1,e())},l=(0,r.cp)("ResourceBasedObservable",(function(){o(!a&&!s),a=!0,t((function(t){(0,r.$$)(!0,(function(){u=t,l.reportChanged()}))}))}),c);return{current:function(){return o(!s,"subscribingObservable has already been disposed"),l.reportObserved()||a||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),u},dispose:function(){s=!0,c()},isAlive:function(){return a}}}var p=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function g(t,e){var n;void 0===e&&(e=!1);var i=(0,r.Fl)(t);return(n={subscribe:function(t){return"function"==typeof t?{unsubscribe:(0,r.N7)(i,(function(e){var n=e.newValue;return t(n)}),e)}:t&&"object"==typeof t&&t.next?{unsubscribe:(0,r.N7)(i,(function(e){var n=e.newValue;return t.next(n)}),e)}:{unsubscribe:function(){}}}})["function"==typeof Symbol&&Symbol.observable||"@@observable"]=function(){return this},n}!function(){function t(t,e){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,r.rC)(this),(0,r.z)((function(){n.current=e,n.subscription=t.subscribe(n)}))}Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(t.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.current=t}}),Object.defineProperty(t.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(t.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.current=t,this.dispose()}}),p([r.LO.ref],t.prototype,"current",void 0),p([r.aD.bound],t.prototype,"next",null),p([r.aD.bound],t.prototype,"complete",null),p([r.aD.bound],t.prototype,"error",null)}();var m=function(){return m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},m.apply(this,arguments)},y=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},v=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function t(t){var e=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:r.LO.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:r.LO.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return e.localValues.has(t)}}),(0,r.rC)(this),o((0,r.Pb)(t),"createViewModel expects an observable object");var n=s(this);s(t).forEach((function(i){var a;if(!n.includes(i)&&i!==r.so&&"__mobxDidRunLazyInitializers"!==i){if(o(-1===v.indexOf(i),"The propertyname "+i+" is reserved and cannot be used with viewModels"),(0,r.eJ)(t,i)){var s=(0,r.kS)(t,i),u=s.derivation.bind(e),c=null===(a=s.setter_)||void 0===a?void 0:a.bind(e);e.localComputedValues.set(i,(0,r.Fl)(u,{set:c}))}var l=Object.getOwnPropertyDescriptor(t,i),f=l?{enumerable:l.enumerable}:{};Object.defineProperty(e,i,m(m({},f),{configurable:!0,get:function(){return(0,r.eJ)(t,i)?e.localComputedValues.get(i).get():e.isPropertyDirty(i)?e.localValues.get(i):e.model[i]},set:(0,r.aD)((function(n){(0,r.eJ)(t,i)?e.localComputedValues.get(i).set(n):n!==e.model[i]?e.localValues.set(i,n):e.localValues.delete(i)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;(0,r.XP)(this.localValues).forEach((function(e){var n=t.localValues.get(e),i=t.model[e];(0,r.Ei)(i)?i.replace(n):(0,r.LJ)(i)?(i.clear(),i.merge(n)):(0,r.M5)(n)||(t.model[e]=n)})),this.localValues.clear()}}),Object.defineProperty(t.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(t.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.localValues.delete(t)}}),y([r.Fl],t.prototype,"isDirty",null),y([r.Fl],t.prototype,"changedValues",null),y([r.aD.bound],t.prototype,"submit",null),y([r.aD.bound],t.prototype,"reset",null),y([r.aD.bound],t.prototype,"resetProperty",null)}();function b(t,e){var n=(0,r.qp)(t,e);if(!n)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return(0,r.N7)(n,(function(){}))}var w={};function E(t){return void 0===t&&(t=1e3),(0,r.SW)()?(w[t]||(w[t]="number"==typeof t?function(t){var e;return d((function(n){n(Date.now()),e=setInterval((function(){return n(Date.now())}),t)}),(function(){clearInterval(e)}),Date.now())}(t):e=d((function(t){function n(){window.requestAnimationFrame((function(){t(Date.now()),e.isAlive()&&n()}))}t(Date.now()),n()}),(function(){}),Date.now())),w[t].current()):Date.now();var e}function T(t){return(0,r.SW)()||console.warn("'expr' should only be used inside other reactive functions."),(0,r.Fl)(t).get()}var x=function(){return x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},x.apply(this,arguments)};function A(t,e){o("function"==typeof t&&t.length<2,"createTransformer expects a function that accepts one argument");var n=new Map,i=void 0,a=!1,s=void 0;"object"==typeof e?(i=e.onCleanup,a=void 0!==e.keepAlive&&e.keepAlive,s=e.debugNameGenerator):"function"==typeof e&&(i=e);var u=!1;return function(o){!function(t){var e=typeof t;if(null===t||"object"!==e&&"function"!==e&&"string"!==e&&"number"!==e)throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(t))}(o);var c=n.get(o);if(c)return c.get();if(!a&&!(0,r.SW)()){u||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),u=!0);var l=t(o);return i&&i(l,o),l}return c=function(o){var u,c={};"object"==typeof e?(i=e.onCleanup,s=e.debugNameGenerator,c=e):"function"==typeof e?i=e:(i=void 0,s=void 0);var l=typeof o,f=s?s(o):"Transformer-"+t.name+"-"+("string"===l||"number"===l?o:"object"),h=(0,r.Fl)((function(){return u=t(o)}),x(x({},c),{name:f}));if(!a)var d=(0,r.pA)(h,(function(){n.delete(o),d(),i&&i(u,o)}));return h}(o),n.set(o,c),c.get()}}var S,_=(S=function(t,e){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},S(t,e)},function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),O=(function(t){function e(e,n,i){var o=void 0===i?{}:i,a=o.name,s=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=o.keyToName,c=void 0===u?function(t){return""+t}:u,l=t.call(this)||this;Object.defineProperty(l,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l._keyToName=c,l._groupBy=n,l._ogmInfoKey=Symbol("ogmInfo"+s),l._base=e;for(var f=0;f<e.length;f++)l._addItem(e[f]);return l._disposeBaseObserver=(0,r.N7)(l._base,(function(t){if("splice"===t.type)(0,r.PS)((function(){for(var e=0,n=t.removed;e<n.length;e++){var r=n[e];l._removeItem(r)}for(var i=0,o=t.added;i<o.length;i++){var a=o[i];l._addItem(a)}}));else{if("update"!==t.type)throw new Error("illegal state");(0,r.PS)((function(){l._removeItem(t.oldValue),l._addItem(t.newValue)}))}})),l}_(e,t),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}}}),Object.defineProperty(e.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=t.prototype.get.call(this,e);return void 0===n&&(n=(0,r.LO)([],{name:"GroupArray["+this._keyToName(e)+"]",deep:!1}),t.prototype.set.call(this,e,n)),n}}),Object.defineProperty(e.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){var r=t.prototype.get.call(this,e);1===r.length?t.prototype.delete.call(this,e):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)}}),Object.defineProperty(e.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=this,n=this._groupBy(t),i=this._getGroupArr(n),o={groupByValue:n,groupArrIndex:i.length,reaction:(0,r.U5)((function(){return e._groupBy(t)}),(function(n,r){var i=t[e._ogmInfoKey];e._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var o=e._getGroupArr(n),a=o.length;o.push(t),i.groupByValue=n,i.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:o}),i.push(t)}}),Object.defineProperty(e.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}})}(r.vP),function(){function t(t,e){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var n=this.closest=this.root=t,r=0;r<this.args.length-1&&(n=n.get(e[r]));r++)this.closest=n;this.closestIdx=r}return Object.defineProperty(t.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])}}),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.assertNotDisposed();for(var e=this.args.length,n=this.closest,r=this.closestIdx;r<e-1;r++){var i=new Map;n.set(this.args[r],i),n=i}this.closestIdx=e-1,this.closest=n,n.set(this.args[e-1],t)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,n=[e],r=0;r<t-1;r++)e=e.get(this.args[r]),n.push(e);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0}}),Object.defineProperty(t.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),t}()),R=function(){function t(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(t.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(-1===this.argsLength)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.last&&(this.last.isDisposed=!0),this.last=new O(this.store,t)}}),t}(),C=function(){return C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},C.apply(this,arguments)},k=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function N(t,e){if(void 0===e&&(e=!1),(0,r.LG)(t))throw new Error("computedFn shouldn't be used on actions");var n=!1,i=0,o="boolean"==typeof e?{keepAlive:e}:e,a=new R;return function(){for(var e=this,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var c,l=a.entry(s);if(l.exists())return l.get().get();if(!o.keepAlive&&!(0,r.SW)())return!n&&(0,r.pu)().computedRequiresReaction&&(console.warn("Invoking a computedFn from outside a reactive context won't be memoized unless keepAlive is set."),n=!0),t.apply(this,s);var f=(0,r.Fl)((function(){return c=t.apply(e,s)}),C(C({},o),{name:"computedFn("+(o.name||t.name)+"#"+ ++i+")"}));return l.set(f),o.keepAlive||(0,r.pA)(f,(function(){a.entry(s).delete(),o.onCleanup&&o.onCleanup.apply(o,k([c],s)),c=void 0})),f.get()}}},859108:(t,e,n)=>{"use strict";n.d(e,{E1:()=>o,Tl:()=>a,Zy:()=>s});var r,i=!("undefined"==typeof window||!window.document||!window.document.createElement);function o(){if(r)return r;if(!i||!window.document.body)return"indeterminate";var t=window.document.createElement("div");return t.appendChild(document.createTextNode("ABCD")),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),r="reverse",t.scrollLeft>0?r="default":(t.scrollLeft=2,t.scrollLeft<2&&(r="negative")),document.body.removeChild(t),r}function a(t,e){var n=t.scrollLeft;if("rtl"!==e)return n;var r=o();if("indeterminate"===r)return Number.NaN;switch(r){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n}return n}function s(t,e,n){if("rtl"===n){var r=o();if("indeterminate"!==r)switch(r){case"negative":t.scrollLeft=t.clientWidth-t.scrollWidth+e;break;case"reverse":t.scrollLeft=t.scrollWidth-t.clientWidth-e;break;default:t.scrollLeft=e}}else t.scrollLeft=e}},543501:(t,e,n)=>{"use strict";var r=n(338660);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},514993:(t,e,n)=>{t.exports=n(543501)()},338660:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},984956:(t,e,n)=>{"use strict";n.d(e,{Z:()=>g,x:()=>d});var r=n(110519),i=n(122293),o=n(982721),a=n(875604),s=n(514993),u=n.n(s),c=n(361443),l=["client","offset","scroll","bounds","margin"];function f(t){var e=[];return l.forEach((function(n){t[n]&&e.push(n)})),e}function h(t,e){var n={};if(e.indexOf("client")>-1&&(n.client={top:t.clientTop,left:t.clientLeft,width:t.clientWidth,height:t.clientHeight}),e.indexOf("offset")>-1&&(n.offset={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}),e.indexOf("scroll")>-1&&(n.scroll={top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}),e.indexOf("bounds")>-1){var r=t.getBoundingClientRect();n.bounds={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}if(e.indexOf("margin")>-1){var i=getComputedStyle(t);n.margin={top:i?parseInt(i.marginTop):0,right:i?parseInt(i.marginRight):0,bottom:i?parseInt(i.marginBottom):0,left:i?parseInt(i.marginLeft):0}}return n}function d(t){return function(e){var n,s;return s=n=function(n){function s(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))||this).state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},e._animationFrameID=null,e._resizeObserver=null,e._node=null,e._window=null,e.measure=function(n){var r=h(e._node,t||f(e.props));n&&(r.entry=n[0].contentRect),e._animationFrameID=e._window.requestAnimationFrame((function(){null!==e._resizeObserver&&(e.setState({contentRect:r}),"function"==typeof e.props.onResize&&e.props.onResize(r))}))},e._handleRef=function(t){var n;null!==e._resizeObserver&&null!==e._node&&e._resizeObserver.unobserve(e._node),e._node=t,e._window=(n=e._node)&&n.ownerDocument&&n.ownerDocument.defaultView||window;var r=e.props.innerRef;r&&("function"==typeof r?r(e._node):r.current=e._node),null!==e._resizeObserver&&null!==e._node&&e._resizeObserver.observe(e._node)},e}(0,o.Z)(s,n);var u=s.prototype;return u.componentDidMount=function(){this._resizeObserver=null!==this._window&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new c.Z(this.measure),null!==this._node&&(this._resizeObserver.observe(this._node),"function"==typeof this.props.onResize&&this.props.onResize(h(this._node,t||f(this.props))))},u.componentWillUnmount=function(){null!==this._window&&this._window.cancelAnimationFrame(this._animationFrameID),null!==this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},u.render=function(){var t=this.props,n=(t.innerRef,t.onResize,(0,i.Z)(t,["innerRef","onResize"]));return(0,a.createElement)(e,(0,r.Z)({},n,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},s}(a.Component),n.propTypes={client:u().bool,offset:u().bool,scroll:u().bool,bounds:u().bool,margin:u().bool,innerRef:u().oneOfType([u().object,u().func]),onResize:u().func},s}}var p=d()((function(t){var e=t.measure,n=t.measureRef,r=t.contentRect;return(0,t.children)({measure:e,measureRef:n,contentRect:r})}));p.displayName="Measure",p.propTypes.children=u().func;const g=p},489212:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(110519),i=n(122293),o=n(982721),a=n(741635),s=n(139741),u=n(875604),c=n(92009),l=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,s.Z)(t,e)}))},f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var r=e.resolveArguments(t,n),i=r[0],o=r[1];e.removeClasses(i,"exit"),e.addClass(i,o?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.resolveArguments(t,n),i=r[0],o=r[1]?"appear":"enter";e.addClass(i,o,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.resolveArguments(t,n),i=r[0],o=r[1]?"appear":"enter";e.removeClasses(i,o),e.addClass(i,o,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t)[0];e.addClass(n,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}(0,o.Z)(e,t);var n=e.prototype;return n.addClass=function(t,e,n){var r=this.getClassNames(e)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===e&&"done"===n&&i&&(r+=" "+i),"active"===n&&t&&t.scrollTop,r&&(this.appliedClasses[e][n]=r,function(t,e){t&&e&&e.split(" ").forEach((function(e){return(0,a.Z)(t,e)}))}(t,r))},n.removeClasses=function(t,e){var n=this.appliedClasses[e],r=n.base,i=n.active,o=n.done;this.appliedClasses[e]={},r&&l(t,r),i&&l(t,i),o&&l(t,o)},n.render=function(){var t=this.props,e=(t.classNames,(0,i.Z)(t,["classNames"]));return u.createElement(c.ZP,(0,r.Z)({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(u.Component);f.defaultProps={classNames:""},f.propTypes={};const h=f},92009:(t,e,n)=>{"use strict";n.d(e,{$r:()=>c,Ix:()=>d,Wj:()=>l,ZP:()=>m,cn:()=>h,d0:()=>f});var r=n(122293),i=n(982721),o=n(875604),a=n(204358),s=n(237811),u=n(469939),c="unmounted",l="exited",f="entering",h="entered",d="exiting",p=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=l,r.appearStatus=f):i=h:i=e.unmountOnExit||e.mountOnEnter?c:l,r.state={status:i},r.nextCallback=null,r}(0,i.Z)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===c?{status:l}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==h&&(e=f):n!==f&&n!==h||(e=d)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===f?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===l&&this.setState({status:c})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],u=i[1],c=this.getTimeouts(),l=r?c.appear:c.enter;!t&&!n||s.Z.disabled?this.safeSetState({status:h},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:f},(function(){e.props.onEntering(o,u),e.onTransitionEnd(l,(function(){e.safeSetState({status:h},(function(){e.props.onEntered(o,u)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);e&&!s.Z.disabled?(this.props.onExit(r),this.safeSetState({status:d},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===c)return null;var e=this.props,n=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,r.Z)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(u.Z.Provider,{value:null},"function"==typeof n?n(t,i):o.cloneElement(o.Children.only(n),i))},e}(o.Component);function g(){}p.contextType=u.Z,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},p.UNMOUNTED=c,p.EXITED=l,p.ENTERING=f,p.ENTERED=h,p.EXITING=d;const m=p},262817:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(122293),i=n(110519),o=n(302699),a=n(982721),s=n(875604),u=n(469939),c=n(585895),l=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},f=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,o.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,a.Z)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,c.Kg)(t,r):(0,c.Rp)(t,n,r),firstRender:!1}},n.handleExited=function(t,e){var n=(0,c.n)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,i.Z)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,i=(0,r.Z)(t,["component","childFactory"]),o=this.state.contextValue,a=l(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===e?s.createElement(u.Z.Provider,{value:o},a):s.createElement(u.Z.Provider,{value:o},s.createElement(e,i,a))},e}(s.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(t){return t}};const h=f},469939:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n(875604).createContext(null)},237811:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={disabled:!1}},585895:(t,e,n)=>{"use strict";n.d(e,{Kg:()=>a,Rp:()=>s,n:()=>i});var r=n(875604);function i(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function o(t,e,n){return null!=n[e]?n[e]:t.props[e]}function a(t,e){return i(t.children,(function(n){return(0,r.cloneElement)(n,{onExited:e.bind(null,n),in:!0,appear:o(n,"appear",t),enter:o(n,"enter",t),exit:o(n,"exit",t)})}))}function s(t,e,n){var a=i(t.children),s=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(e,a);return Object.keys(s).forEach((function(i){var u=s[i];if((0,r.isValidElement)(u)){var c=i in e,l=i in a,f=e[i],h=(0,r.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,r.isValidElement)(f)&&(s[i]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:f.props.in,exit:o(u,"exit",t),enter:o(u,"enter",t)})):s[i]=(0,r.cloneElement)(u,{in:!1}):s[i]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:o(u,"exit",t),enter:o(u,"enter",t)})}})),s}},361443:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&u()}function s(){a(o)}function u(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return u}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;s.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},h=v(0,0,0,0);function d(t){return parseFloat(t)||0}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+d(t["border-"+n+"-width"])}),0)}function g(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return h;var r=f(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=d(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=p(r,"left","right")+o),Math.round(u+a)!==n&&(u-=p(r,"top","bottom")+a)),!function(t){return t===f(t).document.documentElement}(t)){var c=Math.round(s+o)-e,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return v(i.left,i.top,s,u)}var m="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"==typeof t.getBBox};function y(t){return i?m(t)?function(t){var e=t.getBBox();return v(0,0,e.width,e.height)}(t):g(t):h}function v(t,e,n,r){return{x:t,y:e,width:n,height:r}}var b=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=y(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),w=function(t,e){var n,r,i,o,a,s,u,c=(r=(n=e).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),l(u,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),u);l(this,{target:t,contentRect:c})},E=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new b(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new w(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),T="undefined"!=typeof WeakMap?new WeakMap:new r,x=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new E(e,n,this);T.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){x.prototype[t]=function(){var e;return(e=T.get(this))[t].apply(e,arguments)}}));const A=void 0!==o.ResizeObserver?o.ResizeObserver:x},473124:(t,e,n)=>{"use strict";function r(t){return"/"===t.charAt(0)}function i(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}n.d(e,{Z:()=>o});const o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],o=e&&e.split("/")||[],a=t&&r(t),s=e&&r(e),u=a||s;if(t&&r(t)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var c=void 0;if(o.length){var l=o[o.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?i(o,h):".."===d?(i(o,h),f++):f&&(i(o,h),f--)}if(!u)for(;f--;f)o.unshift("..");!u||""===o[0]||o[0]&&r(o[0])||o.unshift("");var p=o.join("/");return c&&"/"!==p.substr(-1)&&(p+="/"),p}},733381:(t,e,n)=>{"use strict";n.d(e,{d:()=>i});var r=n(593787),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.ZT(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(881458).L)},487530:(t,e,n)=>{"use strict";n.d(e,{y:()=>u});var r=n(579956),i=n(864955),o=n(137877),a=n(800336),s=n(536600),u=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=(0,i.Y)(t,e,n);if(r?r.call(o,this.source):o.add(this.source||s.v.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.v.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),(0,r._)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.L]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:(0,a.U)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=s.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},483541:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(536600),i=n(384496),o={closed:!0,next:function(t){},error:function(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete:function(){}}},895804:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});var r=n(593787),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.ZT(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(881458).L)},958766:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},17986:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>l,xQ:()=>f});var r=n(593787),i=n(487530),o=n(881458),a=n(660934),s=n(846196),u=n(165165),c=n(480851),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.ZT(e,t),e}(o.L),f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.ZT(e,t),e.prototype[c.b]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.N;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.N;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.N;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),a.w.EMPTY):this.isStopped?(t.complete(),a.w.EMPTY):(this.observers.push(t),new u.W(this,t))},e.prototype.asObservable=function(){var t=new i.y;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.y),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.ZT(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.w.EMPTY},e}(f)},165165:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(593787),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.ZT(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(660934).w)},881458:(t,e,n)=>{"use strict";n.d(e,{L:()=>l});var r=n(593787),i=n(534721),o=n(483541),a=n(660934),s=n(480851),u=n(536600),c=n(384496),l=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.c;break;case 1:if(!n){a.destination=o.c;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,i)}return a}return r.ZT(e,t),e.prototype[s.b]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.w),f=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return(0,i.m)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.c&&(c=Object.create(n),(0,i.m)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.ZT(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,c.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,c.z)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},660934:(t,e,n)=>{"use strict";n.d(e,{w:()=>c});var r=n(806242),i=n(423595),o=n(534721),a=n(471585),s=n(770557),u=n(542354),c=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,c=n._parent,f=n._parents,h=n._unsubscribe,d=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,g=f?f.length:0;c;)c.remove(this),c=++p<g&&f[p]||null;if((0,o.m)(h))(0,a.Y)(h).call(this)===s.T&&(e=!0,t=t||(s.T.e instanceof u.B?l(s.T.e.errors):[s.T.e]));if((0,r.k)(d))for(p=-1,g=d.length;++p<g;){var m=d[p];if((0,i.K)(m))if((0,a.Y)(m.unsubscribe).call(m)===s.T){e=!0,t=t||[];var y=s.T.e;y instanceof u.B?t=t.concat(l(y.errors)):t.push(y)}}if(e)throw new u.B(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u.B?e.errors:e)}),[])}},536600:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},91776:(t,e,n)=>{"use strict";n.d(e,{N:()=>l});var r=n(593787),i=n(17986),o=n(487530),a=n(881458),s=n(660934),u=n(605032),c=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.ZT(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.w).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=s.w.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return(0,u.x)()(this)},e}(o.y).prototype,l={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.ZT(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.Yc);a.L},332098:(t,e,n)=>{"use strict";n.d(e,{E_:()=>i,cS:()=>o});var r=n(487530),i=new r.y((function(t){return t.complete()}));function o(t){return t?function(t){return new r.y((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},423713:(t,e,n)=>{"use strict";n.d(e,{D:()=>d});var r=n(487530),i=n(656159),o=n(741976),a=n(37159),s=n(356821),u=n(233771),c=n(343610),l=n(533083),f=n(671817),h=n(80506);function d(t,e){if(!e)return t instanceof r.y?t:new r.y((0,h.s)(t));if(null!=t){if((0,a.c)(t))return(0,f.u)(t,e);if((0,i.t)(t))return(0,c.p)(t,e);if((0,o.z)(t))return(0,u.n)(t,e);if((0,s.T)(t)||"string"==typeof t)return(0,l.E)(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},233771:(t,e,n)=>{"use strict";n.d(e,{n:()=>a});var r=n(487530),i=n(660934),o=n(152005);function a(t,e){return e?new r.y((function(n){var r=new i.w,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})):new r.y((0,o.V)(t))}},467989:(t,e,n)=>{"use strict";n.d(e,{R:()=>s});var r=n(487530),i=n(806242),o=n(534721),a=n(858800);Object.prototype.toString;function s(t,e,n,c){return(0,o.m)(n)&&(c=n,n=void 0),c?s(t,e,n).pipe((0,a.U)((function(t){return(0,i.k)(t)?c.apply(void 0,t):c(t)}))):new r.y((function(r){u(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}function u(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var c=t;t.addListener(e,n),o=function(){return c.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,f=t.length;l<f;l++)u(t[l],e,n,r,i)}r.add(o)}},533083:(t,e,n)=>{"use strict";n.d(e,{E:()=>s});var r=n(487530),i=n(660934),o=n(991441),a=n(269284);function s(t,e){if(!t)throw new Error("Iterable cannot be null");return e?new r.y((function(n){var r,a=new i.w;return a.add((function(){r&&"function"==typeof r.return&&r.return()})),a.add(e.schedule((function(){r=t[o.hZ](),a.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),a})):new r.y((0,a.u)(t))}},671817:(t,e,n)=>{"use strict";n.d(e,{u:()=>s});var r=n(487530),i=n(660934),o=n(137877),a=n(915024);function s(t,e){return e?new r.y((function(n){var r=new i.w;return r.add(e.schedule((function(){var i=t[o.L]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r})):new r.y((0,a.h)(t))}},343610:(t,e,n)=>{"use strict";n.d(e,{p:()=>a});var r=n(487530),i=n(660934),o=n(635378);function a(t,e){return e?new r.y((function(n){var r=new i.w;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r})):new r.y((0,o.A)(t))}},21103:(t,e,n)=>{"use strict";n.d(e,{T:()=>s});var r=n(487530),i=n(785789),o=n(444531),a=n(233771);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return(0,i.K)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(n)((0,a.n)(t,s))}},127414:(t,e,n)=>{"use strict";n.d(e,{C:()=>o});var r=n(487530),i=n(900832),o=new r.y(i.Z)},980600:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(785789),i=n(233771),o=n(332098),a=n(829578);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch((0,r.K)(n)?t.pop():n=void 0,t.length){case 0:return(0,o.cS)(n);case 1:return n?(0,i.n)(t,n):(0,a.i)(t[0]);default:return(0,i.n)(t,n)}}},829578:(t,e,n)=>{"use strict";n.d(e,{i:()=>i});var r=n(487530);function i(t){var e=new r.y((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}},143206:(t,e,n)=>{"use strict";n.d(e,{b:()=>a});var r=n(593787),i=n(881458),o=n(934276);function a(t,e){return void 0===e&&(e=o.P),function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.dueTime,this.scheduler))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.ZT(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.L);function c(t){t.debouncedNext()}},953116:(t,e,n)=>{"use strict";n.d(e,{x:()=>s});var r=n(593787),i=n(881458),o=n(471585),a=n(770557);function s(t,e){return function(n){return n.lift(new u(t,e))}}var u=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.ZT(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=(0,o.Y)(this.keySelector)(t))===a.T)return this.destination.error(a.T.e);var n=!1;if(this.hasKey){if((n=(0,o.Y)(this.compare)(this.key,e))===a.T)return this.destination.error(a.T.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(i.L)},223897:(t,e,n)=>{"use strict";n.d(e,{h:()=>o});var r=n(593787),i=n(881458);function o(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(i.L)},30240:(t,e,n)=>{"use strict";n.d(e,{x:()=>a});var r=n(593787),i=n(881458),o=n(660934);function a(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.callback))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new o.w(n)),r}return r.ZT(e,t),e}(i.L)},858800:(t,e,n)=>{"use strict";n.d(e,{U:()=>o});var r=n(593787),i=n(881458);function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.L)},444531:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(516555),i=n(470432);function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),(0,r.zg)(i.y,t)}},516555:(t,e,n)=>{"use strict";n.d(e,{zg:()=>c});var r=n(593787),i=n(251796),o=n(895804),a=n(733381),s=n(858800),u=n(423713);function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(c((function(n,r){return(0,u.D)(t(n,r)).pipe((0,s.U)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project,this.concurrent))},t}(),f=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.ZT(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.d(this,void 0,void 0);this.destination.add(r),(0,i.D)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.L)},609917:(t,e,n)=>{"use strict";n.d(e,{O:()=>i});var r=n(91776);function i(t,e){return function(n){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new o(i,e));var a=Object.create(n,r.N);return a.source=n,a.subjectFactory=i,a}}var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}()},605032:(t,e,n)=>{"use strict";n.d(e,{x:()=>o});var r=n(593787),i=n(881458);function o(){return function(t){return t.lift(new a(t))}}var a=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.ZT(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.L)},562972:(t,e,n)=>{"use strict";n.d(e,{B:()=>s});var r=n(609917),i=n(605032),o=n(17986);function a(){return new o.xQ}function s(){return function(t){return(0,i.x)()((0,r.O)(a)(t))}}},97093:(t,e,n)=>{"use strict";n.d(e,{w:()=>c});var r=n(593787),i=n(895804),o=n(733381),a=n(251796),s=n(858800),u=n(423713);function c(t,e){return"function"==typeof e?function(n){return n.pipe(c((function(n,r){return(0,u.D)(t(n,r)).pipe((0,s.U)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new l(t))}}var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}(),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.ZT(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.d(this,void 0,void 0);this.destination.add(i),this.innerSubscription=(0,a.D)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.L)},227119:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var r=n(593787),i=n(881458),o=n(941881),a=n(332098);function s(t){return function(e){return 0===t?(0,a.cS)():e.lift(new u(t))}}var u=function(){function t(t){if(this.total=t,this.total<0)throw new o.W}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.ZT(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.L)},915632:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(593787),i=n(881458);function o(t){return function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.index=0,r}return r.ZT(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(i.L)},868203:(t,e,n)=>{"use strict";n.d(e,{a:()=>i});var r=n(593787),i=function(t){function e(e,n){return t.call(this)||this}return r.ZT(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(660934).w)},352218:(t,e,n)=>{"use strict";n.d(e,{o:()=>i});var r=n(593787),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.ZT(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(n(868203).a)},565928:(t,e,n)=>{"use strict";n.d(e,{v:()=>o});var r=n(593787),i=n(958766),o=function(t){function e(n,r){void 0===r&&(r=i.b.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.ZT(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i.b)},934276:(t,e,n)=>{"use strict";n.d(e,{P:()=>i});var r=n(352218),i=new(n(565928).v)(r.o)},991441:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});var i=r()},137877:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},480851:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},941881:(t,e,n)=>{"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,{W:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},846196:(t,e,n)=>{"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,{N:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},542354:(t,e,n)=>{"use strict";function r(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}n.d(e,{B:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},579956:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(881458);function i(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.L?i:null}return!0}},770557:(t,e,n)=>{"use strict";n.d(e,{T:()=>r});var r={e:{}}},384496:(t,e,n)=>{"use strict";function r(t){setTimeout((function(){throw t}))}n.d(e,{z:()=>r})},470432:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},806242:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},741976:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},534721:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},37159:(t,e,n)=>{"use strict";n.d(e,{c:()=>i});var r=n(137877);function i(t){return t&&"function"==typeof t[r.L]}},356821:(t,e,n)=>{"use strict";n.d(e,{T:()=>i});var r=n(991441);function i(t){return t&&"function"==typeof t[r.hZ]}},423595:(t,e,n)=>{"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,{K:()=>r})},656159:(t,e,n)=>{"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},785789:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},900832:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},800336:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(900832);function i(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.Z}},80506:(t,e,n)=>{"use strict";n.d(e,{s:()=>d});var r=n(487530),i=n(152005),o=n(635378),a=n(269284),s=n(915024),u=n(741976),c=n(656159),l=n(423595),f=n(991441),h=n(137877),d=function(t){if(t instanceof r.y)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[h.L])return(0,s.h)(t);if((0,u.z)(t))return(0,i.V)(t);if((0,c.t)(t))return(0,o.A)(t);if(t&&"function"==typeof t[f.hZ])return(0,a.u)(t);var e=(0,l.K)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},152005:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},269284:(t,e,n)=>{"use strict";n.d(e,{u:()=>i});var r=n(991441),i=function(t){return function(e){for(var n=t[r.hZ]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}}},915024:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var r=n(137877),i=function(t){return function(e){var n=t[r.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},635378:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(384496),i=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.z),e}}},251796:(t,e,n)=>{"use strict";n.d(e,{D:()=>o});var r=n(733381),i=n(80506);function o(t,e,n,o,a){if(void 0===a&&(a=new r.d(t,n,o)),!a.closed)return(0,i.s)(e)(a)}},864955:(t,e,n)=>{"use strict";n.d(e,{Y:()=>a});var r=n(881458),i=n(480851),o=n(483541);function a(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}},471585:(t,e,n)=>{"use strict";n.d(e,{Y:()=>a});var r,i=n(770557);function o(){try{return r.apply(this,arguments)}catch(t){return i.T.e=t,i.T}}function a(t){return r=t,o}},503216:(t,e,n)=>{var r=n(470977),i=n(81681),o=n(860389),a=n(653392),s=n(548087),u=n(716877),c=n(546580);c.alea=r,c.xor128=i,c.xorwow=o,c.xorshift7=a,c.xor4096=s,c.tychei=u,t.exports=c},470977:function(t,e,n){var r;!function(t,i,o){function a(t){var e=this,n=function(){var t=4022871197,e=function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)};return e}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function u(t,e){var n=new a(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.alea=u}(0,t=n.nmd(t),n.amdD)},716877:function(t,e,n){var r;!function(t,i,o){function a(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function u(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.tychei=u}(0,t=n.nmd(t),n.amdD)},81681:function(t,e,n){var r;!function(t,i,o){function a(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function u(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xor128=u}(0,t=n.nmd(t),n.amdD)},548087:function(t,e,n){var r;!function(t,i,o){function a(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xor4096=u}(0,t=n.nmd(t),n.amdD)},653392:function(t,e,n){var r;!function(t,i,o){function a(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xorshift7=u}(0,t=n.nmd(t),n.amdD)},860389:function(t,e,n){var r;!function(t,i,o){function a(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function u(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xorwow=u}(0,t=n.nmd(t),n.amdD)},546580:function(t,e,n){var r;!function(i,o,a){var s,u=256,c=a.pow(u,6),l=a.pow(2,52),f=2*l,h=u-1;function d(t,e,n){var r=[],h=y(m((e=1==e?{entropy:!0}:e||{}).entropy?[t,v(o)]:null==t?function(){try{var t;return s&&(t=s.randomBytes)?t=t(u):(t=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(t)),v(t)}catch(r){var e=i.navigator,n=e&&e.plugins;return[+new Date,i,n,i.screen,v(o)]}}():t,3),r),d=new p(r),b=function(){for(var t=d.g(6),e=c,n=0;t<l;)t=(t+n)*u,e*=u,n=d.g(1);for(;t>=f;)t/=2,e/=2,n>>>=1;return(t+n)/e};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,y(v(d.S),o),(e.pass||n||function(t,e,n,r){return r&&(r.S&&g(r,d),t.state=function(){return g(d,{})}),n?(a.random=t,e):t})(b,h,"global"in e?e.global:this==a,e.state)}function p(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<u;)a[i]=i++;for(i=0;i<u;i++)a[i]=a[o=h&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=h&i+1],n=n*u+a[h&(a[i]=a[o=h&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(u)}function g(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function m(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)try{r.push(m(t[n],e-1))}catch(o){}return r.length?r:"string"==i?t:t+"\0"}function y(t,e){for(var n,r=t+"",i=0;i<r.length;)e[h&i]=h&(n^=19*e[h&i])+r.charCodeAt(i++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}if(y(a.random(),o),t.exports){t.exports=d;try{s=n(935270)}catch(b){}}else void 0===(r=function(){return d}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof self?self:this,[],Math)},781820:(t,e,n)=>{"use strict";var r,i=n(631400);t=n.hmd(t),r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:t;(0,i.Z)(r)},631400:(t,e,n)=>{"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,{Z:()=>r})},741137:(t,e,n)=>{"use strict";n.d(e,{Wq:()=>x,ht:()=>T});var r=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],i=r.join(","),o="undefined"==typeof Element,a=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,s=!o&&Element.prototype.getRootNode?function(t){var e;return null==t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}:function(t){return null==t?void 0:t.ownerDocument},u=function t(e,n){var r;void 0===n&&(n=!0);var i=null==e||null===(r=e.getAttribute)||void 0===r?void 0:r.call(e,"inert");return""===i||"true"===i||n&&e&&t(e.parentNode)},c=function(t,e,n){if(u(t))return[];var r=Array.prototype.slice.apply(t.querySelectorAll(i));return e&&a.call(t,i)&&r.unshift(t),r=r.filter(n)},l=function t(e,n,r){for(var o=[],s=Array.from(e);s.length;){var c=s.shift();if(!u(c,!1))if("SLOT"===c.tagName){var l=c.assignedElements(),f=t(l.length?l:c.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:c,candidates:f})}else{a.call(c,i)&&r.filter(c)&&(n||!e.includes(c))&&o.push(c);var h=c.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(c),d=!u(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(c));if(h&&d){var p=t(!0===h?c.children:h.children,!0,r);r.flatten?o.push.apply(o,p):o.push({scopeParent:c,candidates:p})}else s.unshift.apply(s,c.children)}}return o},f=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},h=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||function(t){var e,n=null==t||null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"contenteditable");return""===n||"true"===n}(t))&&!f(t)?0:t.tabIndex},d=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},p=function(t){return"INPUT"===t.tagName},g=function(t){return function(t){return p(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||s(t),r=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=r(window.CSS.escape(t.name));else try{e=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!i||i===t}(t)},m=function(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;return 0===n&&0===r},y=function(t,e){var n=e.displayCheck,r=e.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var i=a.call(t,"details>summary:first-of-type")?t.parentElement:t;if(a.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return m(t)}else{if("function"==typeof r){for(var o=t;t;){var u=t.parentElement,c=s(t);if(u&&!u.shadowRoot&&!0===r(u))return m(t);t=t.assignedSlot?t.assignedSlot:u||c===t.ownerDocument?u:c.host}t=o}if(function(t){var e,n,r,i,o=t&&s(t),a=null===(e=o)||void 0===e?void 0:e.host,u=!1;if(o&&o!==t)for(u=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=t&&null!==(i=t.ownerDocument)&&void 0!==i&&i.contains(t));!u&&a;){var c,l,f;u=!(null===(l=a=null===(c=o=s(a))||void 0===c?void 0:c.host)||void 0===l||null===(f=l.ownerDocument)||void 0===f||!f.contains(a))}return u}(t))return!t.getClientRects().length;if("legacy-full"!==n)return!0}return!1},v=function(t,e){return!(e.disabled||u(e)||function(t){return p(t)&&"hidden"===t.type}(e)||y(e,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var r=e.children.item(n);if("LEGEND"===r.tagName)return!!a.call(e,"fieldset[disabled] *")||!r.contains(t)}return!0}e=e.parentElement}return!1}(e))},b=function(t,e){return!(g(e)||h(e)<0||!v(t,e))},w=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},E=function t(e){var n=[],r=[];return e.forEach((function(e,i){var o=!!e.scopeParent,a=o?e.scopeParent:e,s=function(t,e){var n=h(t);return n<0&&e&&!f(t)?0:n}(a,o),u=o?t(e.candidates):a;0===s?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:s,item:e,isScope:o,content:u})})),r.sort(d).reduce((function(t,e){return e.isScope?t.push.apply(t,e.content):t.push(e.content),t}),[]).concat(n)},T=function(t,e){var n;return n=(e=e||{}).getShadowRoot?l([t],e.includeContainer,{filter:b.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:w}):c(t,e.includeContainer,b.bind(null,e)),E(n)},x=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==a.call(t,i)&&b(e,t)}},196750:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r="Invariant failed";const i=function(t,e){if(!t)throw new Error(r)}},593787:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},83780:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};const i=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));var i=void 0===e?"undefined":r(e);if(i!==(void 0===n?"undefined":r(n)))return!1;if("object"===i){var o=e.valueOf(),a=n.valueOf();if(o!==e||a!==n)return t(o,a);var s=Object.keys(e),u=Object.keys(n);return s.length===u.length&&s.every((function(r){return t(e[r],n[r])}))}return!1}},552170:(t,e,n)=>{var r;!function(){function i(t,e,n){return t.call.apply(t.bind,arguments)}function o(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function a(t,e,n){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var c=!!window.FontFace;function l(t,e,n,r){if(e=t.c.createElement(e),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r&&e.appendChild(t.c.createTextNode(r)),e}function f(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e,n){e=e||[],n=n||[];for(var r=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var o=!1,a=0;a<r.length;a+=1)if(e[i]===r[a]){o=!0;break}o||r.push(e[i])}for(e=[],i=0;i<r.length;i+=1){for(o=!1,a=0;a<n.length;a+=1)if(r[i]===n[a]){o=!0;break}o||e.push(r[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var n=t.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==e)return!0;return!1}function g(t,e,n){function r(){s&&i&&o&&(s(a),s=null)}e=l(t,"link",{rel:"stylesheet",href:e,media:"all"});var i=!1,o=!0,a=null,s=n||null;c?(e.onload=function(){i=!0,r()},e.onerror=function(){i=!0,a=Error("Stylesheet failed to load"),r()}):setTimeout((function(){i=!0,r()}),0),f(t,"head",e)}function m(t,e,n,r){var i=t.c.getElementsByTagName("head")[0];if(i){var o=l(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout((function(){a||(a=!0,n&&n(Error("Script load timeout")))}),r||5e3),o}return null}function y(){this.a=0,this.c=null}function v(t){return t.a++,function(){t.a--,w(t)}}function b(t,e){t.c=e,w(t)}function w(t){0==t.a&&t.c&&(t.c(),t.c=null)}function E(t){this.a=t||"-"}function T(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function x(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var r=t[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?e.push("'"+r+"'"):e.push(r)}return e.join(",")}function A(t){return t.a+t.f}function S(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function _(t){var e=4,n="n",r=null;return t&&((r=t.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=t.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?e=7:/[1-9]00/.test(r[1])&&(e=parseInt(r[1].substr(0,1),10)))),n+e}function O(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new E("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function R(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),n=[],r=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),d(t.f,n,r)}C(t,"inactive")}function C(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,A(n)):t.h[e]())}function k(){this.c={}}function N(t,e){this.c=t,this.f=e,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function I(t){f(t.c,"body",t.a)}function P(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";font-style:"+S(t)+";font-weight:"+t.f+"00;"}function L(t,e,n,r,i,o){this.g=t,this.j=e,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function M(t,e,n,r,i,o,a){this.v=t,this.B=e,this.c=n,this.a=r,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new N(this.c,this.s),this.h=new N(this.c,this.s),this.j=new N(this.c,this.s),this.m=new N(this.c,this.s),t=P(t=new T(this.a.c+",serif",A(this.a))),this.g.a.style.cssText=t,t=P(t=new T(this.a.c+",sans-serif",A(this.a))),this.h.a.style.cssText=t,t=P(t=new T("serif",A(this.a))),this.j.a.style.cssText=t,t=P(t=new T("sans-serif",A(this.a))),this.m.a.style.cssText=t,I(this.g),I(this.h),I(this.j),I(this.m)}E.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){var t=this.c.o.document,e=this,n=s(),r=new Promise((function(r,i){!function o(){s()-n>=e.f?i():t.fonts.load(function(t){return S(t)+" "+t.f+"00 300px "+x(t.c)}(e.a),e.h).then((function(t){1<=t.length?r():setTimeout(o,25)}),(function(){i()}))}()})),i=null,o=new Promise((function(t,n){i=setTimeout(n,e.f)}));Promise.race([o,r]).then((function(){i&&(clearTimeout(i),i=null),e.g(e.a)}),(function(){e.j(e.a)}))};var j={D:"serif",C:"sans-serif"},D=null;function B(){if(null===D){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return D}function U(t,e,n){for(var r in j)if(j.hasOwnProperty(r)&&e===t.f[j[r]]&&n===t.f[j[r]])return!0;return!1}function F(t){var e,n=t.g.a.offsetWidth,r=t.h.a.offsetWidth;(e=n===t.f.serif&&r===t.f["sans-serif"])||(e=B()&&U(t,n,r)),e?s()-t.A>=t.w?B()&&U(t,n,r)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?H(t,t.v):H(t,t.B):function(t){setTimeout(a((function(){F(this)}),t),50)}(t):H(t,t.v)}function H(t,e){setTimeout(a((function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),e(this.a)}),t),0)}function V(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}M.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),F(this)};var G=null;function q(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&d(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),C(t,"active")):R(t.a))}function z(t){this.j=t,this.a=new k,this.h=0,this.f=this.g=!0}function K(t,e,n,r,i){var o=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=i||null,s=r||{};if(0===n.length&&o)R(e.a);else{e.f+=n.length,o&&(e.j=o);var u,c=[];for(u=0;u<n.length;u++){var l=n[u],f=s[l.c],h=e.a,p=l;if(h.g&&d(h.f,[h.a.c("wf",p.c,A(p).toString(),"loading")]),C(h,"fontloading",p),h=null,null===G)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);G=p?42<parseInt(p[1],10):!g}else G=!1;h=G?new L(a(e.g,e),a(e.h,e),e.c,l,e.s,f):new M(a(e.g,e),a(e.h,e),e.c,l,e.s,t,f),c.push(h)}for(u=0;u<c.length;u++)c[u].start()}}),0)}function W(t,e){this.c=t,this.a=e}function X(t,e){this.c=t,this.a=e}function Y(t,e){this.c=t||Z,this.a=[],this.f=[],this.g=e||""}V.prototype.g=function(t){var e=this.a;e.g&&d(e.f,[e.a.c("wf",t.c,A(t).toString(),"active")],[e.a.c("wf",t.c,A(t).toString(),"loading"),e.a.c("wf",t.c,A(t).toString(),"inactive")]),C(e,"fontactive",t),this.m=!0,q(this)},V.prototype.h=function(t){var e=this.a;if(e.g){var n=p(e.f,e.a.c("wf",t.c,A(t).toString(),"active")),r=[],i=[e.a.c("wf",t.c,A(t).toString(),"loading")];n||r.push(e.a.c("wf",t.c,A(t).toString(),"inactive")),d(e.f,r,i)}C(e,"fontinactive",t),q(this)},z.prototype.load=function(t){this.c=new u(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var r=[],i=n.timeout;!function(t){t.g&&d(t.f,[t.a.c("wf","loading")]),C(t,"loading")}(e);r=function(t,e,n){var r,i=[];for(r in e)if(e.hasOwnProperty(r)){var o=t.c[r];o&&i.push(o(e[r],n))}return i}(t.a,n,t.c);var o=new V(t.c,e,i);for(t.h=r.length,e=0,n=r.length;e<n;e++)r[e].load((function(e,n,r){K(t,o,e,n,r)}))}(this,new O(this.c,t),t)},W.prototype.load=function(t){function e(){if(o["__mti_fntLst"+r]){var n,i=o["__mti_fntLst"+r](),a=[];if(i)for(var s=0;s<i.length;s++){var u=i[s].fontfamily;null!=i[s].fontStyle&&null!=i[s].fontWeight?(n=i[s].fontStyle+i[s].fontWeight,a.push(new T(u,n))):a.push(new T(u))}t(a)}else setTimeout((function(){e()}),50)}var n=this,r=n.a.projectId,i=n.a.version;if(r){var o=n.c.o;m(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(i?"?v="+i:""),(function(i){i?t([]):(o["__MonotypeConfiguration__"+r]=function(){return n.a},e())})).id="__MonotypeAPIScript__"+r}else t([])},X.prototype.load=function(t){var e,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new y;for(e=0,n=r.length;e<n;e++)g(this.c,r[e],v(a));var s=[];for(e=0,n=i.length;e<n;e++)if((r=i[e].split(":"))[1])for(var u=r[1].split(","),c=0;c<u.length;c+=1)s.push(new T(r[0],u[c]));else s.push(new T(r[0]));b(a,(function(){t(s,o)}))};var Z="https://fonts.googleapis.com/css";function $(t){this.f=t,this.a=[],this.c={}}var J={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function nt(t,e){this.c=t,this.a=e}var rt={Arimo:!0,Cousine:!0,Tinos:!0};function it(t,e){this.c=t,this.a=e}function ot(t,e){this.c=t,this.f=e,this.a=[]}nt.prototype.load=function(t){var e=new y,n=this.c,r=new Y(this.a.api,this.a.text),i=this.a.families;!function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r].split(":");3==i.length&&t.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),t.a.push(i.join(o))}}(r,i);var o=new $(i);!function(t){for(var e=t.f.length,n=0;n<e;n++){var r=t.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var a;if(a=[],s=r[1])for(var s,u=(s=s.split(",")).length,c=0;c<u;c++){var l;if((l=s[c]).match(/^[\w-]+$/))if(null==(f=et.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":tt[l],null==(f=f[1])||""==f)f="4";else var f=Q[f]||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&a.push(l)}0<a.length&&(o=a),3==r.length&&(a=[],0<(r=(r=r[2])?r.split(","):a).length&&(r=J[r[0]])&&(t.c[i]=r))}for(t.c[i]||(r=J[i])&&(t.c[i]=r),r=0;r<o.length;r+=1)t.a.push(new T(i,o[r]))}}(o),g(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],r=0;r<e;r++)n.push(t.a[r].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(r),v(e)),b(e,(function(){t(o.a,o.c,rt)}))},it.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var r=[],i=0;i<e.length;i+=2)for(var o=e[i],a=e[i+1],s=0;s<a.length;s++)r.push(new T(o,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(u){}t(r)}}),2e3):t([])},ot.prototype.load=function(t){var e=this.f.id,n=this.c.o,r=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var i=0,o=n.fonts.length;i<o;++i){var a=n.fonts[i];r.a.push(new T(a.name,_("font-weight:"+a.weight+";font-style:"+a.style)))}t(r.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var at=new z(window);at.a.c.custom=function(t,e){return new X(e,t)},at.a.c.fontdeck=function(t,e){return new ot(e,t)},at.a.c.monotype=function(t,e){return new W(e,t)},at.a.c.typekit=function(t,e){return new it(e,t)},at.a.c.google=function(t,e){return new nt(e,t)};var st={load:a(at.load,at)};void 0===(r=function(){return st}.call(e,n,e,t))||(t.exports=r)}()},935270:()=>{},993864:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=a(t,o(n)))}return t}function o(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)r.call(t,n)&&t[n]&&(e=a(e,n));return e}function a(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},302699:(t,e,n)=>{"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:()=>r})},110519:(t,e,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,{Z:()=>r})},982721:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(565482);function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(0,r.Z)(t,e)}},122293:(t,e,n)=>{"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,{Z:()=>r})},565482:(t,e,n)=>{"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}n.d(e,{Z:()=>r})},474183:(t,e,n)=>{"use strict";n.d(e,{Cp:()=>h,Qo:()=>p,RR:()=>c,US:()=>a,X5:()=>u,cv:()=>g,dp:()=>v,dr:()=>y,oo:()=>o,uY:()=>m,x7:()=>s});var r=n(573662);function i(t,e,n){let{reference:i,floating:o}=t;const a=(0,r.Qq)(e),s=(0,r.Wh)(e),u=(0,r.I4)(s),c=(0,r.k3)(e),l="y"===a,f=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,d=i[u]/2-o[u]/2;let p;switch(c){case"top":p={x:f,y:i.y-o.height};break;case"bottom":p={x:f,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-o.width,y:h};break;default:p={x:i.x,y:i.y}}switch((0,r.hp)(e)){case"start":p[s]-=d*(n&&l?-1:1);break;case"end":p[s]+=d*(n&&l?-1:1)}return p}const o=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,u=a.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:f,y:h}=i(l,r,c),d=r,p={},g=0;for(let m=0;m<u.length;m++){const{name:n,fn:a}=u[m],{x:y,y:v,data:b,reset:w}=await a({x:f,y:h,initialPlacement:r,placement:d,strategy:o,middlewareData:p,rects:l,platform:s,elements:{reference:t,floating:e}});f=null!=y?y:f,h=null!=v?v:h,p={...p,[n]:{...p[n],...b}},w&&g<=50&&(g++,"object"==typeof w&&(w.placement&&(d=w.placement),w.rects&&(l=!0===w.rects?await s.getElementRects({reference:t,floating:e,strategy:o}):w.rects),({x:f,y:h}=i(l,d,c))),m=-1)}return{x:f,y:h,placement:d,strategy:o,middlewareData:p}};async function a(t,e){var n;void 0===e&&(e={});const{x:i,y:o,platform:a,rects:s,elements:u,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=(0,r.ku)(e,t),g=(0,r.yd)(p),m=u[d?"floating"===h?"reference":"floating":h],y=(0,r.JB)(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(u.floating)),boundary:l,rootBoundary:f,strategy:c})),v="floating"===h?{x:i,y:o,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u.floating)),w=await(null==a.isElement?void 0:a.isElement(b))&&await(null==a.getScale?void 0:a.getScale(b))||{x:1,y:1},E=(0,r.JB)(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-E.top+g.top)/w.y,bottom:(E.bottom-y.bottom+g.bottom)/w.y,left:(y.left-E.left+g.left)/w.x,right:(E.right-y.right+g.right)/w.x}}const s=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:o,rects:a,platform:s,elements:u,middlewareData:c}=e,{element:l,padding:f=0}=(0,r.ku)(t,e)||{};if(null==l)return{};const h=(0,r.yd)(f),d={x:n,y:i},p=(0,r.Wh)(o),g=(0,r.I4)(p),m=await s.getDimensions(l),y="y"===p,v=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",E=a.reference[g]+a.reference[p]-d[p]-a.floating[g],T=d[p]-a.reference[p],x=await(null==s.getOffsetParent?void 0:s.getOffsetParent(l));let A=x?x[w]:0;A&&await(null==s.isElement?void 0:s.isElement(x))||(A=u.floating[w]||a.floating[g]);const S=E/2-T/2,_=A/2-m[g]/2-1,O=(0,r.VV)(h[v],_),R=(0,r.VV)(h[b],_),C=O,k=A-m[g]-R,N=A/2-m[g]/2+S,I=(0,r.uZ)(C,N,k),P=!c.arrow&&null!=(0,r.hp)(o)&&N!==I&&a.reference[g]/2-(N<C?O:R)-m[g]/2<0,L=P?N<C?N-C:N-k:0;return{[p]:d[p]+L,data:{[p]:I,centerOffset:N-I-L,...P&&{alignmentOffset:L}},reset:P}}});const u=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,o;const{rects:s,middlewareData:u,placement:c,platform:l,elements:f}=e,{crossAxis:h=!1,alignment:d,allowedPlacements:p=r.Ct,autoAlignment:g=!0,...m}=(0,r.ku)(t,e),y=void 0!==d||p===r.Ct?function(t,e,n){return(t?[...n.filter((e=>(0,r.hp)(e)===t)),...n.filter((e=>(0,r.hp)(e)!==t))]:n.filter((t=>(0,r.k3)(t)===t))).filter((n=>!t||(0,r.hp)(n)===t||!!e&&(0,r.Go)(n)!==n))}(d||null,g,p):p,v=await a(e,m),b=(null==(n=u.autoPlacement)?void 0:n.index)||0,w=y[b];if(null==w)return{};const E=(0,r.i8)(w,s,await(null==l.isRTL?void 0:l.isRTL(f.floating)));if(c!==w)return{reset:{placement:y[0]}};const T=[v[(0,r.k3)(w)],v[E[0]],v[E[1]]],x=[...(null==(i=u.autoPlacement)?void 0:i.overflows)||[],{placement:w,overflows:T}],A=y[b+1];if(A)return{data:{index:b+1,overflows:x},reset:{placement:A}};const S=x.map((t=>{const e=(0,r.hp)(t.placement);return[t.placement,e&&h?t.overflows.slice(0,2).reduce(((t,e)=>t+e),0):t.overflows[0],t.overflows]})).sort(((t,e)=>t[1]-e[1])),_=(null==(o=S.filter((t=>t[2].slice(0,(0,r.hp)(t[0])?2:3).every((t=>t<=0))))[0])?void 0:o[0])||S[0][0];return _!==c?{data:{index:b+1,overflows:x},reset:{placement:_}}:{}}}},c=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:s,rects:u,initialPlacement:c,platform:l,elements:f}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,...v}=(0,r.ku)(t,e);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const b=(0,r.k3)(o),w=(0,r.k3)(c)===c,E=await(null==l.isRTL?void 0:l.isRTL(f.floating)),T=p||(w||!y?[(0,r.pw)(c)]:(0,r.gy)(c));p||"none"===m||T.push(...(0,r.KX)(c,y,m,E));const x=[c,...T],A=await a(e,v),S=[];let _=(null==(i=s.flip)?void 0:i.overflows)||[];if(h&&S.push(A[b]),d){const t=(0,r.i8)(o,u,E);S.push(A[t[0]],A[t[1]])}if(_=[..._,{placement:o,overflows:S}],!S.every((t=>t<=0))){var O,R;const t=((null==(O=s.flip)?void 0:O.index)||0)+1,e=x[t];if(e)return{data:{index:t,overflows:_},reset:{placement:e}};let n=null==(R=_.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:R.placement;if(!n)switch(g){case"bestFit":{var C;const t=null==(C=_.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:C[0];t&&(n=t);break}case"initialPlacement":n=c}if(o!==n)return{reset:{placement:n}}}return{}}}};function l(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function f(t){return r.mA.some((e=>t[e]>=0))}const h=function(t){return void 0===t&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=(0,r.ku)(t,e);switch(i){case"referenceHidden":{const t=l(await a(e,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:f(t)}}}case"escaped":{const t=l(await a(e,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:t,escaped:f(t)}}}default:return{}}}}};function d(t){const e=(0,r.VV)(...t.map((t=>t.left))),n=(0,r.VV)(...t.map((t=>t.top)));return{x:e,y:n,width:(0,r.Fp)(...t.map((t=>t.right)))-e,height:(0,r.Fp)(...t.map((t=>t.bottom)))-n}}const p=function(t){return void 0===t&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:i,rects:o,platform:a,strategy:s}=e,{padding:u=2,x:c,y:l}=(0,r.ku)(t,e),f=Array.from(await(null==a.getClientRects?void 0:a.getClientRects(i.reference))||[]),h=function(t){const e=t.slice().sort(((t,e)=>t.y-e.y)),n=[];let i=null;for(let r=0;r<e.length;r++){const t=e[r];!i||t.y-i.y>i.height/2?n.push([t]):n[n.length-1].push(t),i=t}return n.map((t=>(0,r.JB)(d(t))))}(f),p=(0,r.JB)(d(f)),g=(0,r.yd)(u);const m=await a.getElementRects({reference:{getBoundingClientRect:function(){if(2===h.length&&h[0].left>h[1].right&&null!=c&&null!=l)return h.find((t=>c>t.left-g.left&&c<t.right+g.right&&l>t.top-g.top&&l<t.bottom+g.bottom))||p;if(h.length>=2){if("y"===(0,r.Qq)(n)){const t=h[0],e=h[h.length-1],i="top"===(0,r.k3)(n),o=t.top,a=e.bottom,s=i?t.left:e.left,u=i?t.right:e.right;return{top:o,bottom:a,left:s,right:u,width:u-s,height:a-o,x:s,y:o}}const t="left"===(0,r.k3)(n),e=(0,r.Fp)(...h.map((t=>t.right))),i=(0,r.VV)(...h.map((t=>t.left))),o=h.filter((n=>t?n.left===i:n.right===e)),a=o[0].top,s=o[o.length-1].bottom;return{top:a,bottom:s,left:i,right:e,width:e-i,height:s-a,x:i,y:a}}return p}},floating:i.floating,strategy:s});return o.reference.x!==m.reference.x||o.reference.y!==m.reference.y||o.reference.width!==m.reference.width||o.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};const g=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:a,placement:s,middlewareData:u}=e,c=await async function(t,e){const{placement:n,platform:i,elements:o}=t,a=await(null==i.isRTL?void 0:i.isRTL(o.floating)),s=(0,r.k3)(n),u=(0,r.hp)(n),c="y"===(0,r.Qq)(n),l=["left","top"].includes(s)?-1:1,f=a&&c?-1:1,h=(0,r.ku)(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:g}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return u&&"number"==typeof g&&(p="end"===u?-1*g:g),c?{x:p*f,y:d*l}:{x:d*l,y:p*f}}(e,t);return s===(null==(n=u.offset)?void 0:n.placement)&&null!=(i=u.arrow)&&i.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:s}}}}},m=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:u=!1,limiter:c={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...l}=(0,r.ku)(t,e),f={x:n,y:i},h=await a(e,l),d=(0,r.Qq)((0,r.k3)(o)),p=(0,r.Rn)(d);let g=f[p],m=f[d];if(s){const t="y"===p?"bottom":"right",e=g+h["y"===p?"top":"left"],n=g-h[t];g=(0,r.uZ)(e,g,n)}if(u){const t="y"===d?"bottom":"right",e=m+h["y"===d?"top":"left"],n=m-h[t];m=(0,r.uZ)(e,m,n)}const y=c.fn({...e,[p]:g,[d]:m});return{...y,data:{x:y.x-n,y:y.y-i}}}}},y=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:o,rects:a,middlewareData:s}=e,{offset:u=0,mainAxis:c=!0,crossAxis:l=!0}=(0,r.ku)(t,e),f={x:n,y:i},h=(0,r.Qq)(o),d=(0,r.Rn)(h);let p=f[d],g=f[h];const m=(0,r.ku)(u,e),y="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const t="y"===d?"height":"width",e=a.reference[d]-a.floating[t]+y.mainAxis,n=a.reference[d]+a.reference[t]-y.mainAxis;p<e?p=e:p>n&&(p=n)}if(l){var v,b;const t="y"===d?"width":"height",e=["top","left"].includes((0,r.k3)(o)),n=a.reference[h]-a.floating[t]+(e&&(null==(v=s.offset)?void 0:v[h])||0)+(e?0:y.crossAxis),i=a.reference[h]+a.reference[t]+(e?0:(null==(b=s.offset)?void 0:b[h])||0)-(e?y.crossAxis:0);g<n?g=n:g>i&&(g=i)}return{[d]:p,[h]:g}}}},v=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:i,platform:o,elements:s}=e,{apply:u=(()=>{}),...c}=(0,r.ku)(t,e),l=await a(e,c),f=(0,r.k3)(n),h=(0,r.hp)(n),d="y"===(0,r.Qq)(n),{width:p,height:g}=i.floating;let m,y;"top"===f||"bottom"===f?(m=f,y=h===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,m="end"===h?"top":"bottom");const v=g-l.top-l.bottom,b=p-l.left-l.right,w=(0,r.VV)(g-l[m],v),E=(0,r.VV)(p-l[y],b),T=!e.middlewareData.shift;let x=w,A=E;if(d?A=h||T?(0,r.VV)(E,b):b:x=h||T?(0,r.VV)(w,v):v,T&&!h){const t=(0,r.Fp)(l.left,0),e=(0,r.Fp)(l.right,0),n=(0,r.Fp)(l.top,0),i=(0,r.Fp)(l.bottom,0);d?A=p-2*(0!==t||0!==e?t+e:(0,r.Fp)(l.left,l.right)):x=g-2*(0!==n||0!==i?n+i:(0,r.Fp)(l.top,l.bottom))}await u({...e,availableWidth:A,availableHeight:x});const S=await o.getDimensions(s.floating);return p!==S.width||g!==S.height?{reset:{rects:!0}}:{}}}}},84186:(t,e,n)=>{"use strict";n.d(e,{Cp:()=>C,Jv:()=>E,Me:()=>T,Qo:()=>N,RR:()=>O,US:()=>x,X5:()=>S,cv:()=>A,dp:()=>R,dr:()=>I,oo:()=>P,uY:()=>_,x7:()=>k});var r=n(573662),i=n(474183),o=n(291477);function a(t){const e=(0,o.Dx)(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=(0,o.Re)(t),s=a?t.offsetWidth:n,u=a?t.offsetHeight:i,c=(0,r.NM)(n)!==s||(0,r.NM)(i)!==u;return c&&(n=s,i=u),{width:n,height:i,$:c}}function s(t){return(0,o.kK)(t)?t:t.contextElement}function u(t){const e=s(t);if(!(0,o.Re)(e))return(0,r.ze)(1);const n=e.getBoundingClientRect(),{width:i,height:u,$:c}=a(e);let l=(c?(0,r.NM)(n.width):n.width)/i,f=(c?(0,r.NM)(n.height):n.height)/u;return l&&Number.isFinite(l)||(l=1),f&&Number.isFinite(f)||(f=1),{x:l,y:f}}const c=(0,r.ze)(0);function l(t){const e=(0,o.Jj)(t);return(0,o.Pf)()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:c}function f(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const a=t.getBoundingClientRect(),c=s(t);let f=(0,r.ze)(1);e&&(i?(0,o.kK)(i)&&(f=u(i)):f=u(t));const h=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==(0,o.Jj)(t))&&e}(c,n,i)?l(c):(0,r.ze)(0);let d=(a.left+h.x)/f.x,p=(a.top+h.y)/f.y,g=a.width/f.x,m=a.height/f.y;if(c){const t=(0,o.Jj)(c),e=i&&(0,o.kK)(i)?(0,o.Jj)(i):i;let n=t,r=n.frameElement;for(;r&&i&&e!==n;){const t=u(r),e=r.getBoundingClientRect(),i=(0,o.Dx)(r),a=e.left+(r.clientLeft+parseFloat(i.paddingLeft))*t.x,s=e.top+(r.clientTop+parseFloat(i.paddingTop))*t.y;d*=t.x,p*=t.y,g*=t.x,m*=t.y,d+=a,p+=s,n=(0,o.Jj)(r),r=n.frameElement}}return(0,r.JB)({width:g,height:m,x:d,y:p})}const h=[":popover-open",":modal"];function d(t){return h.some((e=>{try{return t.matches(e)}catch(n){return!1}}))}function p(t){return f((0,o.tF)(t)).left+(0,o.Lw)(t).scrollLeft}function g(t,e,n){let i;if("viewport"===e)i=function(t,e){const n=(0,o.Jj)(t),r=(0,o.tF)(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,u=0,c=0;if(i){a=i.width,s=i.height;const t=(0,o.Pf)();(!t||t&&"fixed"===e)&&(u=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:u,y:c}}(t,n);else if("document"===e)i=function(t){const e=(0,o.tF)(t),n=(0,o.Lw)(t),i=t.ownerDocument.body,a=(0,r.Fp)(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=(0,r.Fp)(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+p(t);const c=-n.scrollTop;return"rtl"===(0,o.Dx)(i).direction&&(u+=(0,r.Fp)(e.clientWidth,i.clientWidth)-a),{width:a,height:s,x:u,y:c}}((0,o.tF)(t));else if((0,o.kK)(e))i=function(t,e){const n=f(t,!0,"fixed"===e),i=n.top+t.clientTop,a=n.left+t.clientLeft,s=(0,o.Re)(t)?u(t):(0,r.ze)(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:a*s.x,y:i*s.y}}(e,n);else{const n=l(t);i={...e,x:e.x-n.x,y:e.y-n.y}}return(0,r.JB)(i)}function m(t,e){const n=(0,o.Ow)(t);return!(n===e||!(0,o.kK)(n)||(0,o.Py)(n))&&("fixed"===(0,o.Dx)(n).position||m(n,e))}function y(t,e,n){const i=(0,o.Re)(e),a=(0,o.tF)(e),s="fixed"===n,u=f(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const l=(0,r.ze)(0);if(i||!i&&!s)if(("body"!==(0,o.wk)(e)||(0,o.ao)(a))&&(c=(0,o.Lw)(e)),i){const t=f(e,!0,s,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else a&&(l.x=p(a));return{x:u.left+c.scrollLeft-l.x,y:u.top+c.scrollTop-l.y,width:u.width,height:u.height}}function v(t){return"static"===(0,o.Dx)(t).position}function b(t,e){return(0,o.Re)(t)&&"fixed"!==(0,o.Dx)(t).position?e?e(t):t.offsetParent:null}function w(t,e){const n=(0,o.Jj)(t);if(d(t))return n;if(!(0,o.Re)(t)){let e=(0,o.Ow)(t);for(;e&&!(0,o.Py)(e);){if((0,o.kK)(e)&&!v(e))return e;e=(0,o.Ow)(e)}return n}let r=b(t,e);for(;r&&(0,o.Ze)(r)&&v(r);)r=b(r,e);return r&&(0,o.Py)(r)&&v(r)&&!(0,o.hT)(r)?n:r||(0,o.gQ)(t)||n}const E={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:i,strategy:a}=t;const s="fixed"===a,c=(0,o.tF)(i),l=!!e&&d(e.floating);if(i===c||l&&s)return n;let h={scrollLeft:0,scrollTop:0},p=(0,r.ze)(1);const g=(0,r.ze)(0),m=(0,o.Re)(i);if((m||!m&&!s)&&(("body"!==(0,o.wk)(i)||(0,o.ao)(c))&&(h=(0,o.Lw)(i)),(0,o.Re)(i))){const t=f(i);p=u(i),g.x=t.x+i.clientLeft,g.y=t.y+i.clientTop}return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x,y:n.y*p.y-h.scrollTop*p.y+g.y}},getDocumentElement:o.tF,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:a}=t;const s=[..."clippingAncestors"===n?d(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let r=(0,o.Kx)(t,[],!1).filter((t=>(0,o.kK)(t)&&"body"!==(0,o.wk)(t))),i=null;const a="fixed"===(0,o.Dx)(t).position;let s=a?(0,o.Ow)(t):t;for(;(0,o.kK)(s)&&!(0,o.Py)(s);){const e=(0,o.Dx)(s),n=(0,o.hT)(s);n||"fixed"!==e.position||(i=null),(a?!n&&!i:!n&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||(0,o.ao)(s)&&!n&&m(t,s))?r=r.filter((t=>t!==s)):i=e,s=(0,o.Ow)(s)}return e.set(t,r),r}(e,this._c):[].concat(n),i],u=s[0],c=s.reduce(((t,n)=>{const i=g(e,n,a);return t.top=(0,r.Fp)(i.top,t.top),t.right=(0,r.VV)(i.right,t.right),t.bottom=(0,r.VV)(i.bottom,t.bottom),t.left=(0,r.Fp)(i.left,t.left),t}),g(e,u,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:w,getElementRects:async function(t){const e=this.getOffsetParent||w,n=this.getDimensions,r=await n(t.floating);return{reference:y(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=a(t);return{width:e,height:n}},getScale:u,isElement:o.kK,isRTL:function(t){return"rtl"===(0,o.Dx)(t).direction}};function T(t,e,n,i){void 0===i&&(i={});const{ancestorScroll:a=!0,ancestorResize:u=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:h=!1}=i,d=s(t),p=a||u?[...d?(0,o.Kx)(d):[],...(0,o.Kx)(e)]:[];p.forEach((t=>{a&&t.addEventListener("scroll",n,{passive:!0}),u&&t.addEventListener("resize",n)}));const g=d&&l?function(t,e){let n,i=null;const a=(0,o.tF)(t);function s(){var t;clearTimeout(n),null==(t=i)||t.disconnect(),i=null}return function o(u,c){void 0===u&&(u=!1),void 0===c&&(c=1),s();const{left:l,top:f,width:h,height:d}=t.getBoundingClientRect();if(u||e(),!h||!d)return;const p={rootMargin:-(0,r.GW)(f)+"px "+-(0,r.GW)(a.clientWidth-(l+h))+"px "+-(0,r.GW)(a.clientHeight-(f+d))+"px "+-(0,r.GW)(l)+"px",threshold:(0,r.Fp)(0,(0,r.VV)(1,c))||1};let g=!0;function m(t){const e=t[0].intersectionRatio;if(e!==c){if(!g)return o();e?o(!1,e):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}g=!1}try{i=new IntersectionObserver(m,{...p,root:a.ownerDocument})}catch(y){i=new IntersectionObserver(m,p)}i.observe(t)}(!0),s}(d,n):null;let m,y=-1,v=null;c&&(v=new ResizeObserver((t=>{let[r]=t;r&&r.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{var t;null==(t=v)||t.observe(e)}))),n()})),d&&!h&&v.observe(d),v.observe(e));let b=h?f(t):null;return h&&function e(){const r=f(t);!b||r.x===b.x&&r.y===b.y&&r.width===b.width&&r.height===b.height||n();b=r,m=requestAnimationFrame(e)}(),n(),()=>{var t;p.forEach((t=>{a&&t.removeEventListener("scroll",n),u&&t.removeEventListener("resize",n)})),null==g||g(),null==(t=v)||t.disconnect(),v=null,h&&cancelAnimationFrame(m)}}const x=i.US,A=i.cv,S=i.X5,_=i.uY,O=i.RR,R=i.dp,C=i.Cp,k=i.x7,N=i.Qo,I=i.dr,P=(t,e,n)=>{const r=new Map,o={platform:E,...n},a={...o.platform,_c:r};return(0,i.oo)(t,e,{...o,platform:a})}},694788:(t,e,n)=>{"use strict";n.d(e,{Cp:()=>m,RR:()=>g,YF:()=>f,cv:()=>d,uY:()=>p,x7:()=>y});var r=n(84186),i=n(875604),o=n(204358),a="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function s(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if("function"==typeof t&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&"object"==typeof t){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;0!=r--;)if(!s(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;0!=r--;){const n=i[r];if(("_owner"!==n||!t.$$typeof)&&!s(t[n],e[n]))return!1}return!0}return t!=t&&e!=e}function u(t){if("undefined"==typeof window)return 1;return(t.ownerDocument.defaultView||window).devicePixelRatio||1}function c(t,e){const n=u(t);return Math.round(e*n)/n}function l(t){const e=i.useRef(t);return a((()=>{e.current=t})),e}function f(t){void 0===t&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:f=[],platform:h,elements:{reference:d,floating:p}={},transform:g=!0,whileElementsMounted:m,open:y}=t,[v,b]=i.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,E]=i.useState(f);s(w,f)||E(f);const[T,x]=i.useState(null),[A,S]=i.useState(null),_=i.useCallback((t=>{t!==k.current&&(k.current=t,x(t))}),[]),O=i.useCallback((t=>{t!==N.current&&(N.current=t,S(t))}),[]),R=d||T,C=p||A,k=i.useRef(null),N=i.useRef(null),I=i.useRef(v),P=null!=m,L=l(m),M=l(h),j=i.useCallback((()=>{if(!k.current||!N.current)return;const t={placement:e,strategy:n,middleware:w};M.current&&(t.platform=M.current),(0,r.oo)(k.current,N.current,t).then((t=>{const e={...t,isPositioned:!0};D.current&&!s(I.current,e)&&(I.current=e,o.flushSync((()=>{b(e)})))}))}),[w,e,n,M]);a((()=>{!1===y&&I.current.isPositioned&&(I.current.isPositioned=!1,b((t=>({...t,isPositioned:!1}))))}),[y]);const D=i.useRef(!1);a((()=>(D.current=!0,()=>{D.current=!1})),[]),a((()=>{if(R&&(k.current=R),C&&(N.current=C),R&&C){if(L.current)return L.current(R,C,j);j()}}),[R,C,j,L,P]);const B=i.useMemo((()=>({reference:k,floating:N,setReference:_,setFloating:O})),[_,O]),U=i.useMemo((()=>({reference:R,floating:C})),[R,C]),F=i.useMemo((()=>{const t={position:n,left:0,top:0};if(!U.floating)return t;const e=c(U.floating,v.x),r=c(U.floating,v.y);return g?{...t,transform:"translate("+e+"px, "+r+"px)",...u(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:e,top:r}}),[n,g,U.floating,v.x,v.y]);return i.useMemo((()=>({...v,update:j,refs:B,elements:U,floatingStyles:F})),[v,j,B,U,F])}const h=t=>({name:"arrow",options:t,fn(e){const{element:n,padding:i}="function"==typeof t?t(e):t;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?(0,r.x7)({element:n.current,padding:i}).fn(e):{}:n?(0,r.x7)({element:n,padding:i}).fn(e):{};var o}}),d=(t,e)=>({...(0,r.cv)(t),options:[t,e]}),p=(t,e)=>({...(0,r.uY)(t),options:[t,e]}),g=(t,e)=>({...(0,r.RR)(t),options:[t,e]}),m=(t,e)=>({...(0,r.Cp)(t),options:[t,e]}),y=(t,e)=>({...h(t),options:[t,e]})},725352:(t,e,n)=>{"use strict";var r;n.d(e,{YF:()=>_});var i=n(875604),o=(n(187128),n(573662),n(84186),n(291477)),a=n(694788);n(741137),n(204358);const s={...r||(r=n.t(i,2))},u=s.useInsertionEffect||(t=>t());function c(t){const e=i.useRef((()=>{0}));return u((()=>{e.current=t})),i.useCallback((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null==e.current?void 0:e.current(...n)}),[])}const l="ArrowUp",f="ArrowDown",h="ArrowLeft",d="ArrowRight";var p="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;const g=[h,d],m=[l,f];let y=!1,v=0;const b=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+v++;const w=s.useId||function(){const[t,e]=i.useState((()=>y?b():void 0));return p((()=>{null==t&&e(b())}),[]),i.useEffect((()=>{y=!0}),[]),t};function E(){const t=new Map;return{emit(e,n){var r;null==(r=t.get(e))||r.forEach((t=>t(n)))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,(null==(r=t.get(e))?void 0:r.filter((t=>t!==n)))||[])}}}const T=i.createContext(null),x=i.createContext(null),A=()=>{var t;return(null==(t=i.useContext(T))?void 0:t.id)||null},S=()=>i.useContext(x);function _(t){void 0===t&&(t={});const{nodeId:e}=t,n=function(t){const{open:e=!1,onOpenChange:n,elements:r}=t,o=w(),a=i.useRef({}),[s]=i.useState((()=>E())),u=null!=A(),[l,f]=i.useState(r.reference),h=c(((t,e,r)=>{a.current.openEvent=t?e:void 0,s.emit("openchange",{open:t,event:e,reason:r,nested:u}),null==n||n(t,e,r)})),d=i.useMemo((()=>({setPositionReference:f})),[]),p=i.useMemo((()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference})),[l,r.reference,r.floating]);return i.useMemo((()=>({dataRef:a,open:e,onOpenChange:h,elements:p,events:s,floatingId:o,refs:d})),[e,h,p,s,o,d])}({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,s=r.elements,[u,l]=i.useState(null),[f,h]=i.useState(null),d=(null==s?void 0:s.reference)||u,g=i.useRef(null),m=S();p((()=>{d&&(g.current=d)}),[d]);const y=(0,a.YF)({...t,elements:{...s,...f&&{reference:f}}}),v=i.useCallback((t=>{const e=(0,o.kK)(t)?{getBoundingClientRect:()=>t.getBoundingClientRect(),contextElement:t}:t;h(e),y.refs.setReference(e)}),[y.refs]),b=i.useCallback((t=>{((0,o.kK)(t)||null===t)&&(g.current=t,l(t)),((0,o.kK)(y.refs.reference.current)||null===y.refs.reference.current||null!==t&&!(0,o.kK)(t))&&y.refs.setReference(t)}),[y.refs]),T=i.useMemo((()=>({...y.refs,setReference:b,setPositionReference:v,domReference:g})),[y.refs,b,v]),x=i.useMemo((()=>({...y.elements,domReference:d})),[y.elements,d]),_=i.useMemo((()=>({...y,...r,refs:T,elements:x,nodeId:e})),[y,T,x,e,r]);return p((()=>{r.dataRef.current.floatingContext=_;const t=null==m?void 0:m.nodesRef.current.find((t=>t.id===e));t&&(t.context=_)})),i.useMemo((()=>({...y,context:_,refs:T,elements:x})),[y,T,x,_])}},187128:(t,e,n)=>{"use strict";n.d(e,{AW:()=>i,G6:()=>l,Ie:()=>T,MM:()=>p,Me:()=>m,Pe:()=>y,U9:()=>v,V5:()=>h,Xf:()=>a,Zj:()=>u,cr:()=>c,ex:()=>g,ij:()=>s,j7:()=>w,p7:()=>E,r:()=>d,r3:()=>o});var r=n(291477);function i(t){let e=t.activeElement;for(;null!=(null==(n=e)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;e=e.shadowRoot.activeElement}return e}function o(t,e){if(!t||!e)return!1;const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&(0,r.Zq)(n)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function a(){const t=navigator.userAgentData;return null!=t&&t.platform?t.platform:navigator.platform}function s(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map((t=>{let{brand:e,version:n}=t;return e+"/"+n})).join(" "):navigator.userAgent}function u(t){return!(0!==t.mozInputSource||!t.isTrusted)||(f()&&t.pointerType?"click"===t.type&&1===t.buttons:0===t.detail&&!t.pointerType)}function c(t){return!s().includes("jsdom/")&&(!f()&&0===t.width&&0===t.height||f()&&1===t.width&&1===t.height&&0===t.pressure&&0===t.detail&&"mouse"===t.pointerType||t.width<1&&t.height<1&&0===t.pressure&&0===t.detail&&"touch"===t.pointerType)}function l(){return/apple/i.test(navigator.vendor)}function f(){const t=/android/i;return t.test(a())||t.test(s())}function h(){return a().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function d(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function p(t){return"nativeEvent"in t}function g(t){return t.matches("html,body")}function m(t){return(null==t?void 0:t.ownerDocument)||document}function y(t,e){if(null==e)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return null!=n.target&&e.contains(n.target)}function v(t){return"composedPath"in t?t.composedPath()[0]:t.target}const b="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function w(t){return(0,r.Re)(t)&&t.matches(b)}function E(t){t.preventDefault(),t.stopPropagation()}function T(t){return!!t&&("combobox"===t.getAttribute("role")&&w(t))}},291477:(t,e,n)=>{"use strict";function r(t){return a(t)?(t.nodeName||"").toLowerCase():"#document"}function i(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function o(t){var e;return null==(e=(a(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function a(t){return t instanceof Node||t instanceof i(t).Node}function s(t){return t instanceof Element||t instanceof i(t).Element}function u(t){return t instanceof HTMLElement||t instanceof i(t).HTMLElement}function c(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof i(t).ShadowRoot)}function l(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=m(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function f(t){return["table","td","th"].includes(r(t))}function h(t){const e=p(),n=m(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function d(t){let e=v(t);for(;u(e)&&!g(e);){if(h(e))return e;e=v(e)}return null}function p(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function g(t){return["html","body","#document"].includes(r(t))}function m(t){return i(t).getComputedStyle(t)}function y(t){return s(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function v(t){if("html"===r(t))return t;const e=t.assignedSlot||t.parentNode||c(t)&&t.host||o(t);return c(e)?e.host:e}function b(t){const e=v(t);return g(e)?t.ownerDocument?t.ownerDocument.body:t.body:u(e)&&l(e)?e:b(e)}function w(t,e,n){var r;void 0===e&&(e=[]),void 0===n&&(n=!0);const o=b(t),a=o===(null==(r=t.ownerDocument)?void 0:r.body),s=i(o);return a?e.concat(s,s.visualViewport||[],l(o)?o:[],s.frameElement&&n?w(s.frameElement):[]):e.concat(o,w(o,[],n))}n.d(e,{Dx:()=>m,Jj:()=>i,Kx:()=>w,Lw:()=>y,Ow:()=>v,Pf:()=>p,Py:()=>g,Re:()=>u,Ze:()=>f,Zq:()=>c,ao:()=>l,gQ:()=>d,hT:()=>h,kK:()=>s,tF:()=>o,wk:()=>r})},573662:(t,e,n)=>{"use strict";n.d(e,{Ct:()=>o,Fp:()=>s,GW:()=>c,Go:()=>x,I4:()=>v,JB:()=>O,KX:()=>A,NM:()=>u,Qq:()=>b,Rn:()=>y,VV:()=>a,Wh:()=>w,gy:()=>T,hp:()=>m,i8:()=>E,k3:()=>g,ku:()=>p,mA:()=>r,pw:()=>S,uZ:()=>d,yd:()=>_,ze:()=>l});const r=["top","right","bottom","left"],i=["start","end"],o=r.reduce(((t,e)=>t.concat(e,e+"-"+i[0],e+"-"+i[1])),[]),a=Math.min,s=Math.max,u=Math.round,c=Math.floor,l=t=>({x:t,y:t}),f={left:"right",right:"left",bottom:"top",top:"bottom"},h={start:"end",end:"start"};function d(t,e,n){return s(t,a(e,n))}function p(t,e){return"function"==typeof t?t(e):t}function g(t){return t.split("-")[0]}function m(t){return t.split("-")[1]}function y(t){return"x"===t?"y":"x"}function v(t){return"y"===t?"height":"width"}function b(t){return["top","bottom"].includes(g(t))?"y":"x"}function w(t){return y(b(t))}function E(t,e,n){void 0===n&&(n=!1);const r=m(t),i=w(t),o=v(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=S(a)),[a,S(a)]}function T(t){const e=S(t);return[x(t),e,x(e)]}function x(t){return t.replace(/start|end/g,(t=>h[t]))}function A(t,e,n,r){const i=m(t);let o=function(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:a;default:return[]}}(g(t),"start"===n,r);return i&&(o=o.map((t=>t+"-"+i)),e&&(o=o.concat(o.map(x)))),o}function S(t){return t.replace(/left|right|bottom|top/g,(t=>f[t]))}function _(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function O(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}},300468:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}function o(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,s(t,e,"get"))}function a(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,s(t,e,"set"),n),n}function s(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function u(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}n.d(e,{Z:()=>f});var c=function(t){if(!t)return[];Array.isArray(t)||(t=[t]);for(var e={},n=0;n<t.length;++n){var i,o=t[n];if(o&&"object"===r(o)&&(o=String(o)),"string"!=typeof o){var a="Locales should be strings, ".concat(JSON.stringify(o)," isn't.");throw new TypeError(a)}var s=o.split("-");if(!s.every((function(t){return/[a-z0-9]+/i.test(t)}))){var u=JSON.stringify(o),c="The locale ".concat(u," is not a structurally valid BCP 47 language tag.");throw new RangeError(c)}var l=s[0].toLowerCase();s[0]=null!==(i={in:"id",iw:"he",ji:"yi"}[l])&&void 0!==i?i:l,e[s.join("-")]=!0}return Object.keys(e)};function l(t){switch(r(t)){case"number":return t;case"bigint":throw new TypeError("Cannot convert a BigInt value to a number");default:return Number(t)}}function f(t,e,n,r){var s=function(t){do{if(e(t))return t;t=t.replace(/-?[^-]*$/,"")}while(t);return null},f=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakMap,m=function(){function m(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),u(this,f,{writable:!0,value:void 0}),u(this,h,{writable:!0,value:void 0}),u(this,d,{writable:!0,value:void 0}),u(this,p,{writable:!0,value:void 0}),u(this,g,{writable:!0,value:void 0}),a(this,f,function(e){for(var n=c(e),r=0;r<n.length;++r){var i=s(n[r]);if(i)return i}var o=(new t).resolvedOptions().locale;return s(o)}(n)),a(this,d,e(o(this,f))),a(this,h,r(o(this,f))),a(this,p,function(t){var e=Object.prototype.hasOwnProperty.call(t,"type")&&t.type;if(!e)return"cardinal";if("cardinal"===e||"ordinal"===e)return e;throw new RangeError("Not a valid plural type: "+JSON.stringify(e))}(i)),a(this,g,new t("en",i))}var y,v,b;return y=m,b=[{key:"supportedLocalesOf",value:function(t){return c(t).filter(s)}}],(v=[{key:"resolvedOptions",value:function(){var t=o(this,g).resolvedOptions(),e=t.minimumIntegerDigits,r=t.minimumFractionDigits,i=t.maximumFractionDigits,a=t.minimumSignificantDigits,s=t.maximumSignificantDigits,u=t.roundingPriority,c={locale:o(this,f),type:o(this,p),minimumIntegerDigits:e,minimumFractionDigits:r,maximumFractionDigits:i};return"number"==typeof a&&(c.minimumSignificantDigits=a,c.maximumSignificantDigits=s),c.pluralCategories=n(o(this,f),"ordinal"===o(this,p)).slice(0),c.roundingPriority=u||"auto",c}},{key:"select",value:function(t){if(!(this instanceof m))throw new TypeError("select() called on incompatible ".concat(this));if("number"!=typeof t&&(t=Number(t)),!isFinite(t))return"other";var e=o(this,g).format(Math.abs(t));return o(this,d).call(this,e,"ordinal"===o(this,p))}},{key:"selectRange",value:function(t,e){if(!(this instanceof m))throw new TypeError("selectRange() called on incompatible ".concat(this));if(void 0===t)throw new TypeError("start is undefined");if(void 0===e)throw new TypeError("end is undefined");var n=l(t),r=l(e);if(!isFinite(n))throw new RangeError("start must be finite");if(!isFinite(r))throw new RangeError("end must be finite");return o(this,h).call(this,this.select(n),this.select(r))}}])&&i(y.prototype,v),b&&i(y,b),Object.defineProperty(y,"prototype",{writable:!1}),m}();return"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m.prototype,Symbol.toStringTag,{value:"Intl.PluralRules",writable:!1,configurable:!0}),Object.defineProperty(m,"prototype",{writable:!1}),m}},949286:(t,e,n)=>{"use strict";n.d(e,{en:()=>s});const r="one",i="two",o="few",a="other",s={cardinal:[r,a],ordinal:[r,i,o,a]}},150268:(t,e,n)=>{"use strict";n.d(e,{en:()=>r});const r=(t,e)=>{const n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"}},391850:(t,e,n)=>{"use strict";n.d(e,{en:()=>i});const r=(t,e)=>"other",i=r},240236:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,_T:()=>a,ev:()=>u,gn:()=>s,pi:()=>o});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}Object.create;function u(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"==typeof SuppressedError&&SuppressedError}}]);
//# sourceMappingURL=sourcemaps/474e918965ecf196.vendor.js.map